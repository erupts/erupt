"use strict";(self.webpackChunkerupt=self.webpackChunkerupt||[]).push([[315],{1315:(xa,ze,c)=>{c.r(ze),c.d(ze,{FlowModule:()=>_a});var u=c(4341),qe=c(1626),H=c(1391),x=c(513),_=c(1011),F=c(6122),R=c(7094),h=c(1951),N=c(8203),l=c(177),e=c(7705);class et{constructor(a,t){this._document=t;const o=this._textarea=this._document.createElement("textarea"),i=o.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",o.setAttribute("aria-hidden","true"),o.value=a,o.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(o)}copy(){const a=this._textarea;let t=!1;try{if(a){const o=this._document.activeElement;a.select(),a.setSelectionRange(0,a.value.length),t=this._document.execCommand("copy"),o&&o.focus()}}catch{}return t}destroy(){const a=this._textarea;a&&(a.remove(),this._textarea=void 0)}}let tt=(()=>{class n{constructor(t){this._document=t}copy(t){const o=this.beginCopy(t),i=o.copy();return o.destroy(),i}beginCopy(t){return new et(t,this._document)}static{this.\u0275fac=function(o){return new(o||n)(e.KVO(l.qQ))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({})}}return n})();var Q=c(6860),P=c(7806);let be=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275dir=e.FsC({type:n,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(o,i){2&o&&e.xc7("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}}return n})(),ot=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[l.MD]})}}return n})();var W=c(7232),k=c(5154),te=c(1413),it=c(4412),de=c(1985),Z=c(3726),ye=c(983),rt=c(6648),we=c(8359),z=c(6977),ue=c(5558),at=c(6697),Te=c(3993),S=c(7336),D=c(1025),M=c(1635),G=c(6042),Ne=c(4500),b=c(317);function st(n,a){if(1&n&&(e.qex(0),e.nrm(1,"span",2),e.bVm()),2&n){const t=a.$implicit;e.R7$(1),e.Y8G("nzType",t)}}const ct=["textarea"];function lt(n,a){if(1&n){const t=e.RV6();e.j41(0,"textarea",2,3),e.bIt("blur",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.confirm())}),e.k0s(),e.j41(2,"button",4),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.confirm())}),e.nrm(3,"span",5),e.k0s()}}function pt(n,a){if(1&n&&(e.qex(0),e.nrm(1,"span",8),e.bVm()),2&n){const t=a.$implicit;e.R7$(1),e.Y8G("nzType",t)}}function dt(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onClick())}),e.DNE(1,pt,2,1,"ng-container",7),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("nzTooltipTitle",null===t.tooltip?null:t.tooltip||(null==t.locale?null:t.locale.edit)),e.R7$(1),e.Y8G("nzStringTemplateOutlet",t.icon)}}const ut=["ellipsisContainer"],mt=["expandable"],ht=["contentTemplate"];function gt(n,a){1&n&&e.SdG(0,0,["*ngIf","!content"])}function ft(n,a){if(1&n&&(e.DNE(0,gt,1,0,"ng-content",1),e.EFF(1)),2&n){const t=a.content;e.Y8G("ngIf",!t),e.R7$(1),e.SpI(" ",t," ")}}function _t(n,a){}function Ct(n,a){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.nzSuffix)}}const xt=function(n){return{content:n}};function vt(n,a){if(1&n&&(e.qex(0),e.DNE(1,_t,0,0,"ng-template",6),e.DNE(2,Ct,2,1,"ng-container",1),e.bVm()),2&n){const t=e.XpG(2),o=e.sdS(1);e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(3,xt,t.nzContent)),e.R7$(1),e.Y8G("ngIf",t.nzSuffix)}}function zt(n,a){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.ellipsisStr)}}function bt(n,a){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.JRh(t.nzSuffix)}}function yt(n,a){if(1&n){const t=e.RV6();e.j41(0,"a",9,10),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.onExpand())}),e.EFF(2),e.k0s()}if(2&n){const t=e.XpG(3);e.R7$(2),e.SpI(" ",null==t.locale?null:t.locale.expand," ")}}function wt(n,a){if(1&n&&(e.nrm(0,"span",null,7),e.DNE(2,zt,2,1,"ng-container",1),e.DNE(3,bt,2,1,"ng-container",1),e.DNE(4,yt,3,1,"a",8)),2&n){const t=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.isEllipsis),e.R7$(1),e.Y8G("ngIf",t.nzSuffix),e.R7$(1),e.Y8G("ngIf",t.nzExpandable&&t.isEllipsis)}}function Tt(n,a){if(1&n&&(e.qex(0),e.DNE(1,vt,3,5,"ng-container",4),e.DNE(2,wt,5,3,"ng-template",null,5,e.C5r),e.bVm()),2&n){const t=e.sdS(3),o=e.XpG();e.R7$(1),e.Y8G("ngIf",o.expanded||!o.hasOperationsWithEllipsis&&1===o.nzEllipsisRows&&!o.hasEllipsisObservers||o.canCssEllipsis||o.nzSuffix&&o.expanded)("ngIfElse",t)}}function Nt(n,a){if(1&n){const t=e.RV6();e.j41(0,"nz-text-edit",11),e.bIt("endEditing",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onEndEditing(i))})("startEditing",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onStartEditing())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function Mt(n,a){if(1&n){const t=e.RV6();e.j41(0,"nz-text-copy",12),e.bIt("textCopy",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onTextCopy(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}const Ot=["*"];let Me=(()=>{class n{constructor(t,o,i,r){this.host=t,this.cdr=o,this.clipboard=i,this.i18n=r,this.copied=!1,this.copyId=-1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new te.B,this.icons=["copy","check"],this.textCopy=new e.bkB}ngOnInit(){this.i18n.localeChange.pipe((0,z.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){const{tooltips:o,icons:i}=t;o&&this.updateTooltips(),i&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();const t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(null===this.tooltips)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){const[t,o]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=o||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){const[t,o]=this.icons;this.copyIcon=t,this.copedIcon=o,this.cdr.markForCheck()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(tt),e.rXU(W.Og))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[e.OA$],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"nzTooltipTitle","click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(o,i){1&o&&(e.j41(0,"button",0),e.bIt("click",function(){return i.onClick()}),e.DNE(1,st,2,1,"ng-container",1),e.k0s()),2&o&&(e.AVh("ant-typography-copy-success",i.copied),e.Y8G("nzTooltipTitle",i.copied?i.copedTooltip:i.copyTooltip),e.R7$(1),e.Y8G("nzStringTemplateOutlet",i.copied?i.copedIcon:i.copyIcon))},dependencies:[h.Dn,k.LH,be,P.m],encapsulation:2,changeDetection:0})}}return n})(),Oe=(()=>{class n{set textarea(t){this.textarea$.next(t)}constructor(t,o,i,r,s){this.ngZone=t,this.host=o,this.cdr=i,this.i18n=r,this.destroy$=s,this.editing=!1,this.icon="edit",this.startEditing=new e.bkB,this.endEditing=new e.bkB(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new it.t(null)}ngOnInit(){this.i18n.localeChange.pipe((0,z.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe((0,ue.n)(t=>t?new de.c(o=>this.ngZone.runOutsideAngular(()=>(0,Z.R)(t.nativeElement,"keydown").subscribe(o))):ye.w),(0,z.Q)(this.destroy$)).subscribe(t=>{t.keyCode!==S._f&&t.keyCode!==S.Fm||this.ngZone.run(()=>{t.keyCode===S._f?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe((0,ue.n)(t=>t?new de.c(o=>this.ngZone.runOutsideAngular(()=>(0,Z.R)(t.nativeElement,"input").subscribe(o))):ye.w),(0,z.Q)(this.destroy$)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){const t=this.ngZone.isStable?(0,rt.H)(Promise.resolve()):this.ngZone.onStable.pipe((0,at.s)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,Te.E)(this.textarea$),(0,z.Q)(this.destroy$)).subscribe(([,o])=>{o&&(o.nativeElement.focus(),o.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck())})})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(W.Og),e.rXU(D.y4))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["nz-text-edit"]],viewQuery:function(o,i){if(1&o&&(e.GBs(ct,5),e.GBs(_.c9,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.textarea=r.first),e.mGM(r=e.lsd())&&(i.autosizeDirective=r.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],features:[e.Jv_([D.y4])],decls:3,vars:2,consts:[[3,"ngIf","ngIfElse"],["notEditing",""],["nz-input","","nzAutosize","",3,"blur"],["textarea",""],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle","click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(o,i){if(1&o&&(e.DNE(0,lt,4,0,"ng-template",0),e.DNE(1,dt,2,2,"ng-template",null,1,e.C5r)),2&o){const r=e.sdS(2);e.Y8G("ngIf",i.editing)("ngIfElse",r)}},dependencies:[l.bT,h.Dn,k.LH,_.Sy,_.c9,be,P.m],encapsulation:2,changeDetection:0})}}return n})(),Et=(()=>{class n{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return"string"==typeof this.nzCopyText?this.nzCopyText:this.nzContent}constructor(t,o,i,r,s,p,f,C,O,pe){this.nzConfigService=t,this.host=o,this.cdr=i,this.viewContainerRef=r,this.renderer=s,this.platform=p,this.i18n=f,this.resizeService=O,this.directionality=pe,this._nzModuleName="typography",this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new e.bkB,this.nzCopy=new e.bkB,this.nzExpandChange=new e.bkB,this.nzOnEllipsis=new e.bkB,this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new te.B,this.windowResizeSubscription=we.yU.EMPTY,this.document=C}onTextCopy(t){this.nzCopy.emit(t)}onStartEditing(){this.editing=!0}onEndEditing(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return!(this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers)&&(0,b.Fq)(1===this.nzEllipsisRows?"textOverflow":"webkitLineClamp")}renderOnNextFrame(){(0,Ne.F)(this.rfaId),this.viewInit&&this.nzEllipsis&&!(this.nzEllipsisRows<0)&&!this.expanded&&this.platform.isBrowser&&(this.rfaId=(0,Ne.j)(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){const t=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return t.detectChanges(),{viewRef:t,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(t))}}}syncEllipsis(){if(this.cssEllipsis)return;const{viewRef:t,removeView:o}=this.getOriginContentViewRef(),i=[this.textCopyRef,this.textEditRef].filter(O=>O&&O.nativeElement).map(O=>O.nativeElement),r=this.getExpandableBtnElement();r&&i.push(r);const{contentNodes:s,text:p,ellipsis:f}=(0,b.xP)(this.host.nativeElement,this.nzEllipsisRows,t.rootNodes,i,this.ellipsisStr,this.nzSuffix);o(),this.ellipsisText=p,f!==this.isEllipsis&&(this.isEllipsis=f,this.nzOnEllipsis.emit(f));const C=this.ellipsisContainer.nativeElement;for(;C.firstChild;)this.renderer.removeChild(C,C.firstChild);s.forEach(O=>{this.renderer.appendChild(C,O.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){const t=this.locale?this.locale.expand:"",o=this.expandableBtnElementCache;if(!o||o.innerText===t){const i=this.document.createElement("a");i.className="ant-typography-expand",i.innerText=t,this.expandableBtnElementCache=i}return this.expandableBtnElementCache}return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe((0,z.Q)(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe((0,z.Q)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe((0,z.Q)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(t){const{nzCopyable:o,nzEditable:i,nzExpandable:r,nzEllipsis:s,nzContent:p,nzEllipsisRows:f,nzSuffix:C}=t;(o||i||r||s||p||f||C)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(G.yx),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.c1b),e.rXU(e.sFG),e.rXU(Q.OD),e.rXU(W.Og),e.rXU(l.qQ),e.rXU(D.cB),e.rXU(N.dS,8))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(o,i){if(1&o&&(e.GBs(Oe,5),e.GBs(Me,5),e.GBs(ut,5),e.GBs(mt,5),e.GBs(ht,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.textEditRef=r.first),e.mGM(r=e.lsd())&&(i.textCopyRef=r.first),e.mGM(r=e.lsd())&&(i.ellipsisContainer=r.first),e.mGM(r=e.lsd())&&(i.expandableBtn=r.first),e.mGM(r=e.lsd())&&(i.contentTemplate=r.first)}},hostVars:26,hostBindings:function(o,i){2&o&&(e.xc7("-webkit-line-clamp",i.canCssEllipsis&&i.nzEllipsisRows>1?i.nzEllipsisRows:null),e.AVh("ant-typography",!i.editing)("ant-typography-rtl","rtl"===i.dir)("ant-typography-edit-content",i.editing)("ant-typography-secondary","secondary"===i.nzType)("ant-typography-warning","warning"===i.nzType)("ant-typography-danger","danger"===i.nzType)("ant-typography-success","success"===i.nzType)("ant-typography-disabled",i.nzDisabled)("ant-typography-ellipsis",i.nzEllipsis&&!i.expanded)("ant-typography-single-line",i.nzEllipsis&&1===i.nzEllipsisRows)("ant-typography-ellipsis-single-line",i.canCssEllipsis&&1===i.nzEllipsisRows)("ant-typography-ellipsis-multiple-line",i.canCssEllipsis&&i.nzEllipsisRows>1))},inputs:{nzCopyable:"nzCopyable",nzEditable:"nzEditable",nzDisabled:"nzDisabled",nzExpandable:"nzExpandable",nzEllipsis:"nzEllipsis",nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:"nzEllipsisRows",nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[e.OA$],ngContentSelectors:Ot,decls:5,vars:3,consts:[["contentTemplate",""],[4,"ngIf"],[3,"text","icon","tooltip","endEditing","startEditing",4,"ngIf"],[3,"text","tooltips","icons","textCopy",4,"ngIf"],[4,"ngIf","ngIfElse"],["jsEllipsis",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ellipsisContainer",""],["class","ant-typography-expand",3,"click",4,"ngIf"],[1,"ant-typography-expand",3,"click"],["expandable",""],[3,"text","icon","tooltip","endEditing","startEditing"],[3,"text","tooltips","icons","textCopy"]],template:function(o,i){1&o&&(e.NAR(),e.DNE(0,ft,2,2,"ng-template",null,0,e.C5r),e.DNE(2,Tt,4,2,"ng-container",1),e.DNE(3,Nt,1,3,"nz-text-edit",2),e.DNE(4,Mt,1,3,"nz-text-copy",3)),2&o&&(e.R7$(2),e.Y8G("ngIf",!i.editing),e.R7$(1),e.Y8G("ngIf",i.nzEditable),e.R7$(1),e.Y8G("ngIf",i.nzCopyable&&!i.editing))},dependencies:[l.bT,l.T3,Me,Oe],encapsulation:2,changeDetection:0})}}return(0,M.Cg)([(0,b.H3)()],n.prototype,"nzCopyable",void 0),(0,M.Cg)([(0,b.H3)()],n.prototype,"nzEditable",void 0),(0,M.Cg)([(0,b.H3)()],n.prototype,"nzDisabled",void 0),(0,M.Cg)([(0,b.H3)()],n.prototype,"nzExpandable",void 0),(0,M.Cg)([(0,b.H3)()],n.prototype,"nzEllipsis",void 0),(0,M.Cg)([(0,G.H4)()],n.prototype,"nzCopyTooltips",void 0),(0,M.Cg)([(0,G.H4)()],n.prototype,"nzCopyIcons",void 0),(0,M.Cg)([(0,G.H4)()],n.prototype,"nzEditTooltip",void 0),(0,M.Cg)([(0,G.H4)()],n.prototype,"nzEditIcon",void 0),(0,M.Cg)([(0,G.H4)(),(0,b.YI)()],n.prototype,"nzEllipsisRows",void 0),n})(),It=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,h.Y3,k.Qt,_.j,W.bP,ot,nt,P.C,Q.IK]})}}return n})();var me=c(8927),K=c(1997),J=c(2986),ne=c(3190),he=c(8960),Ft=c(2513),Pt=c(7481),Dt=c(1166),jt=c(4327),Bt=c(2358),V=c(2096),Rt=c(2874),ge=c(1236),Se=c(5703),Gt=c(9448);let Lt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD]})}}return n})();var ke=c(7529),Xt=c(9327);let Wt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,h.Y3,Xt.RH,Q.IK]})}}return n})();var fe=c(1868);let cn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,P.C,h.Y3]})}}return n})();var _e=c(9541),y=c(3359),ln=c(4331),pn=c(9438),Ee=c(3146),Ce=c(5699),Ie=c(7064),oe=c(2983),dn=c(1912),un=c(3617),mn=c(6504),hn=c(2542),j=c(1672);let Gn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,P.C,Q.IK]})}}return n})(),Wn=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,Q.IK,h.Y3,P.C]})}}return n})(),ao=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,h.Y3,P.C,Ie.m]})}}return n})();var so=c(4696),co=c(1217);let yo=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,u.YN,J.IJ,x.Zw,_.j,W.bP,h.Y3,j._v]})}}return n})();var wo=c(3493),q=c(6969),ie=c(7891);c(7673),c(7786),c(3294),c(6354),c(9172),c(6939),c(5463);let xe=(()=>{class n{constructor(){this.triggerChange$=new te.B}triggerChanged(){return this.triggerChange$.asObservable()}registerTrigger(t){this.trigger!==t&&(this.trigger=t,this.triggerChange$.next(t))}ngOnDestroy(){this.triggerChange$.complete()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})();const Lo={provide:u.kq,useExisting:(0,e.Rfq)(()=>je),multi:!0};let je=(()=>{class n{constructor(t,o,i,r,s){this.el=t,this.ngZone=o,this.ref=i,this.destroy$=r,this.nzMentionService=s,this.onChange=()=>{},this.onTouched=()=>{},this.onFocusin=new e.bkB,this.onBlur=new e.bkB,this.onInput=new e.bkB,this.onKeydown=new e.bkB,this.onClick=new e.bkB}completeEvents(){this.onFocusin.complete(),this.onBlur.complete(),this.onInput.complete(),this.onKeydown.complete(),this.onClick.complete()}focus(t=null){this.el.nativeElement.focus(),this.el.nativeElement.setSelectionRange(t,t)}insertMention(t){const o=this.el.nativeElement.value,i=`${t.mention} `,r=[o.slice(0,t.startPos+1),i,o.slice(t.endPos,o.length)].join("");this.el.nativeElement.value=r,this.focus(t.startPos+i.length+1),this.onChange(r),this.value=r}writeValue(t){this.value=t,this.el.nativeElement.value="string"==typeof t?t:""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngAfterViewInit(){this.nzMentionService.registerTrigger(this),this.setupEventListener("blur",this.onBlur),this.setupEventListener("focusin",this.onFocusin),this.setupEventListener("input",this.onInput,!0),this.setupEventListener("click",this.onClick,!0),this.setupEventListener("keydown",this.onKeydown,!0)}ngOnDestroy(){this.completeEvents()}setupEventListener(t,o,i=!1){this.ngZone.runOutsideAngular(()=>{(0,Z.R)(this.el.nativeElement,t).pipe((0,z.Q)(this.destroy$)).subscribe(r=>{o.observers.length&&this.ngZone.run(()=>{o.emit(i?r:void 0),this.ref.markForCheck()})})})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(D.y4),e.rXU(xe))}}static{this.\u0275dir=e.FsC({type:n,selectors:[["input","nzMentionTrigger",""],["textarea","nzMentionTrigger",""]],hostAttrs:["autocomplete","off"],outputs:{onFocusin:"onFocusin",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClick:"onClick"},exportAs:["nzMentionTrigger"],features:[e.Jv_([D.y4,Lo])]})}}return n})(),Xo=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[N.jI,l.MD,u.YN,q.z_,h.Y3,j._v,ie.J1]})}}return n})();var Yo=c(8928),Be=c(2047);const Uo=["nodeNameInput"];function Ho(n,a){if(1&n&&(e.j41(0,"nz-tooltip",19),e.nrm(1,"span",20),e.k0s()),2&n){const t=e.XpG();e.Y8G("title",t.errorInfo||"\u8bbe\u7f6e\u9519\u8bef")}}function Qo(n,a){1&n&&e.nrm(0,"span",21)}function Wo(n,a){if(1&n){const t=e.RV6();e.j41(0,"input",22,23),e.bIt("blur",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onBlur())})("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.modelValue.name=i)}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("ngModel",t.modelValue.name)}}function Zo(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onEnableEdit())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG();e.R7$(1),e.SpI("",t.modelValue.name," ")}}function Ko(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",25)(1,"span",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onDelete())}),e.k0s()()}}function Jo(n,a){1&n&&e.nrm(0,"span",27)}function qo(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-insert-btn",28),e.bIt("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onInsertNode(i))})("insertFlexNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onInsertFlexNode(i))}),e.k0s()}}function ei(n,a){if(1&n&&(e.qex(0),e.nrm(1,"erupt-smart-search",29),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("eruptModel",t.eruptBuild.eruptModel)}}function ti(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",30)(1,"button",31),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.close())}),e.EFF(2,"Cancel"),e.k0s(),e.j41(3,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.close())}),e.EFF(4,"Save"),e.k0s()()}}let Re=(()=>{class n{constructor(){this.insertFlexNode=new e.bkB,this.moveLn=!1,this.moveRn=!1,this.type="",this.color="",this.headerIcon="",this.content="",this.readonly=!1,this.showError=!1,this.errorInfo="",this.isDefault=!1,this.placeholder="\u8bf7\u8bbe\u7f6e",this.desc="",this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.copy=new e.bkB,this.moveL=new e.bkB,this.moveR=new e.bkB,this.showDrawer=!1,this.enableEdit=!1}ngAfterViewInit(){}onEnableEdit(){this.readonly||(this.enableEdit=!0,setTimeout(()=>{this.nodeNameInput&&this.nodeNameInput.nativeElement.focus()}))}onBlur(){this.enableEdit=!1}onSelect(){this.showDrawer=!0,this.select.emit()}onDelete(){this.delete.emit()}onInsertNode(t){this.insertNode.emit(t)}onInsertFlexNode(t){this.insertFlexNode.emit(t)}onCopy(){this.copy.emit()}onMoveL(){this.moveL.emit()}onMoveR(){this.moveR.emit()}close(){this.showDrawer=!1}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-branch-node"]],viewQuery:function(o,i){if(1&o&&e.GBs(Uo,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeNameInput=r.first)}},inputs:{eruptBuild:"eruptBuild",moveLn:"moveLn",moveRn:"moveRn",type:"type",color:"color",headerIcon:"headerIcon",content:"content",readonly:"readonly",modelValue:"modelValue",showError:"showError",errorInfo:"errorInfo",isDefault:"isDefault",placeholder:"placeholder",desc:"desc"},outputs:{insertFlexNode:"insertFlexNode",modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode",copy:"copy",moveL:"moveL",moveR:"moveR"},decls:24,vars:18,consts:[[1,"p-node"],[3,"title",4,"ngIf"],[1,"p-node-body"],[1,"p-node-move",3,"click"],["nz-icon","","nzType","left",4,"ngIf"],[2,"flex","1"],[1,"p-node-header"],["autofocus","",3,"ngModel","blur","ngModelChange",4,"ngIf"],["class","row-text",3,"click",4,"ngIf"],["class","node-action",4,"ngIf"],["nzType","secondary","nzSize","small",1,"node-desc"],[1,"p-node-content",3,"click"],["nzEllipsis","","nzEllipsisRows","4"],["nz-icon","","nzType","right",4,"ngIf"],[1,"p-node-add"],[3,"insertNode","insertFlexNode",4,"ngIf"],["nzPlacement","right","nzTitle","Basic Drawer",3,"nzVisible","nzFooter","nzWidth","nzOnClose"],[4,"nzDrawerContent"],["footerTpl",""],[3,"title"],["nz-icon","","nzType","warning","nzTheme","fill",1,"node-err-tip"],["nz-icon","","nzType","left"],["autofocus","",3,"ngModel","blur","ngModelChange"],["nodeNameInput",""],[1,"row-text",3,"click"],[1,"node-action"],[1,"fa","fa-close",3,"click"],["nz-icon","","nzType","right"],[3,"insertNode","insertFlexNode"],[3,"eruptModel"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,i){if(1&o&&(e.j41(0,"div",0),e.DNE(1,Ho,2,1,"nz-tooltip",1),e.j41(2,"div",2)(3,"div",3),e.bIt("click",function(){return i.onMoveL()}),e.DNE(4,Qo,1,0,"span",4),e.k0s(),e.j41(5,"div",5)(6,"div",6)(7,"div"),e.DNE(8,Wo,2,1,"input",7),e.DNE(9,Zo,2,1,"div",8),e.k0s(),e.DNE(10,Ko,2,0,"div",9),e.j41(11,"nz-typography",10),e.EFF(12),e.k0s()(),e.j41(13,"div",11),e.bIt("click",function(){return i.onSelect()}),e.j41(14,"nz-typography",12),e.EFF(15),e.k0s()()(),e.j41(16,"div",3),e.bIt("click",function(){return i.onMoveR()}),e.DNE(17,Jo,1,0,"span",13),e.k0s()(),e.j41(18,"div",14),e.DNE(19,qo,1,0,"app-insert-btn",15),e.k0s()(),e.j41(20,"nz-drawer",16),e.bIt("nzOnClose",function(){return i.close()}),e.DNE(21,ei,2,1,"ng-container",17),e.k0s(),e.DNE(22,ti,5,0,"ng-template",null,18,e.C5r)),2&o){const r=e.sdS(23);e.R7$(1),e.Y8G("ngIf",i.showError),e.R7$(1),e.xc7("--shadowColor",i.color),e.AVh("node-err",i.showError),e.R7$(2),e.Y8G("ngIf",!i.readonly&&i.moveLn&&!i.isDefault),e.R7$(3),e.xc7("color",i.isDefault?"#898989":i.color),e.R7$(1),e.Y8G("ngIf",i.enableEdit),e.R7$(1),e.Y8G("ngIf",!i.enableEdit),e.R7$(1),e.Y8G("ngIf",!i.readonly&&!i.isDefault),e.R7$(2),e.JRh(i.desc),e.R7$(3),e.SpI(" ",i.content||i.placeholder," "),e.R7$(2),e.Y8G("ngIf",!i.readonly&&i.moveRn&&!i.isDefault),e.R7$(2),e.Y8G("ngIf",!i.readonly),e.R7$(1),e.Y8G("nzVisible",i.showDrawer)("nzFooter",r)("nzWidth",600)}},styles:['.p-node[_ngcontent-%COMP%]{width:200px;margin-bottom:8px;position:relative}.p-node[_ngcontent-%COMP%]   .node-err-tip[_ngcontent-%COMP%]{position:absolute;right:-30px;color:var(--error-color)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]{cursor:pointer;background:white;overflow:hidden;border-radius:5px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 0 5px #d8d8d8}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-move[_ngcontent-%COMP%]{width:15px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-move[_ngcontent-%COMP%]:hover{background:#F5F6F6}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 0 var(--shadowColor)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover   .node-action[_ngcontent-%COMP%]{display:inline!important}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover   .node-desc[_ngcontent-%COMP%]{display:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:100%}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child:hover, .p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child:hover{background:#d9d9d9}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:25px;font-size:13px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-action[_ngcontent-%COMP%]{color:#767676;display:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-action[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:2px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-desc[_ngcontent-%COMP%]{position:absolute;right:8px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .row-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:3px;width:115px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:115px;border:1px solid #d9d9d9;border-radius:5px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%]{padding:5px;min-height:50px;display:flex;justify-content:space-between;align-items:center;font-size:15px;color:#656363}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{word-wrap:break-word}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:80px}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:before{position:absolute;content:"";width:2px;height:80px;background:#d9d9d9}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:after{content:"";position:absolute;top:80px;left:50%;transform:translate(-50%);width:0;border-style:solid;border-width:8px 6px 4px;border-color:#d9d9d9 transparent transparent}']})}}return n})();class ${createBranch(a){throw new Error("Method not implemented.")}}var g=function(n){return n.START="START",n.END="END",n.CC="CC",n.APPROVAL="APPROVAL",n.PARALLEL="PARALLEL",n.INCLUSIVE="INCLUSIVE",n.EXCLUSION="EXCLUSION",n.BRANCH="BRANCH",n.FlEX="FLEX",n}(g||{}),L=function(n){return n.CONDITION="CONDITION",n.ELSE="ELSE",n}(L||{});function v(){return"e"+crypto.randomUUID().replace(/-/g,"").slice(0,8)}function re(n){n&&"object"==typeof n&&(n.id&&(n.id=v()),n.branch&&Array.isArray(n.branch)&&n.branch.forEach(a=>re(a)),n.props&&n.props.branch&&Array.isArray(n.props.branch)&&n.props.branch.forEach(a=>re(a)))}function X(n,a,t){n.splice(a+1,0,{id:v(),type:g.FlEX,flex:t.code,name:t.name,color:t.color})}const ni=["nodeNameInput"];function oi(n,a){if(1&n&&(e.j41(0,"nz-tooltip",8),e.nrm(1,"span",9),e.k0s()),2&n){const t=e.XpG();e.Y8G("title",t.errorInfo||"\u8bbe\u7f6e\u9519\u8bef")}}function ii(n,a){if(1&n){const t=e.RV6();e.j41(0,"input",17,18),e.bIt("blur",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onBlur())})("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.model.name=i)}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngModel",t.model.name)}}function ri(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onEnableEdit())}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(1),e.SpI("",t.model.name," ")}}function ai(n,a){if(1&n){const t=e.RV6();e.j41(0,"span",20),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onDelete())}),e.k0s()}}function si(n,a){1&n&&e.nrm(0,"span",21)}function ci(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"div",11)(2,"div"),e.DNE(3,ii,2,1,"input",12),e.DNE(4,ri,2,1,"div",13),e.k0s(),e.DNE(5,ai,1,0,"span",14),e.k0s(),e.j41(6,"div",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSelect())}),e.SdG(7),e.DNE(8,si,1,0,"span",16),e.k0s()()}if(2&n){const t=e.XpG();e.xc7("background",t.headerColor)("--shadowColor",t.headerColor),e.AVh("node-err",t.showError),e.R7$(1),e.xc7("background-color",t.headerColor),e.R7$(2),e.Y8G("ngIf",t.enableEdit),e.R7$(1),e.Y8G("ngIf",!t.enableEdit),e.R7$(1),e.Y8G("ngIf",t.showClose&&!t.readonly),e.R7$(3),e.Y8G("ngIf",t.hasConfig)}}function li(n,a){1&n&&(e.qex(0),e.SdG(1,1),e.bVm())}function pi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",22)(1,"button",23),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.close())}),e.EFF(2,"Cancel"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.save())}),e.EFF(4,"Save"),e.k0s()()}}const di=["*",[["","config",""]]],ui=function(){return{padding:"16px"}},mi=["*","[config]"];let Y=(()=>{class n{constructor(){this.headerColor="",this.headerIcon="",this.content="",this.readonly=!1,this.showError=!1,this.errorInfo="",this.showClose=!0,this.showBody=!0,this.hasConfig=!0,this.modelChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.saveProp=new e.bkB,this.insertFlexNode=new e.bkB,this.showDrawer=!1,this.enableEdit=!1}ngAfterViewInit(){}onEnableEdit(){this.readonly||(this.enableEdit=!0,setTimeout(()=>{this.nodeNameInput&&this.nodeNameInput.nativeElement.focus()}))}onBlur(){this.enableEdit=!1}onSelect(){!this.hasConfig||this.readonly||(this.showDrawer=!0,this.select.emit())}onDelete(){this.delete.emit()}onInsertNode(t){this.insertNode.emit(t)}onInsertFlexNode(t){this.insertFlexNode.emit(t)}close(){this.showDrawer=!1}save(){this.saveProp.emit(),this.showDrawer=!1}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-node"]],viewQuery:function(o,i){if(1&o&&e.GBs(ni,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeNameInput=r.first)}},inputs:{eruptBuild:"eruptBuild",headerColor:"headerColor",headerIcon:"headerIcon",content:"content",readonly:"readonly",model:"model",showError:"showError",errorInfo:"errorInfo",showClose:"showClose",showBody:"showBody",hasConfig:"hasConfig"},outputs:{modelChange:"modelChange",select:"select",delete:"delete",insertNode:"insertNode",saveProp:"saveProp",insertFlexNode:"insertFlexNode"},ngContentSelectors:mi,decls:9,vars:8,consts:[[1,"p-node"],["nzPlacement","top-start",3,"title",4,"ngIf"],["class","p-node-body",3,"node-err","background","--shadowColor",4,"ngIf"],[1,"p-node-add"],[3,"insertNode","insertFlexNode"],["nzPlacement","right",3,"nzVisible","nzTitle","nzBodyStyle","nzFooter","nzWidth","nzOnClose"],[4,"nzDrawerContent"],["footerTpl",""],["nzPlacement","top-start",3,"title"],["nz-icon","","nzType","warning","nzTheme","fill",1,"node-err-tip"],[1,"p-node-body"],[1,"p-node-header"],["style","color: #000;","autofocus","",3,"ngModel","blur","ngModelChange",4,"ngIf"],["class","row-text",3,"click",4,"ngIf"],["class","fa fa-close",3,"click",4,"ngIf"],[1,"p-node-content",3,"click"],["nz-icon","","nzType","arrow-right","class","w-p-node-click",4,"ngIf"],["autofocus","",2,"color","#000",3,"ngModel","blur","ngModelChange"],["nodeNameInput",""],[1,"row-text",3,"click"],[1,"fa","fa-close",3,"click"],["nz-icon","","nzType","arrow-right",1,"w-p-node-click"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,i){if(1&o&&(e.NAR(di),e.j41(0,"div",0),e.DNE(1,oi,2,1,"nz-tooltip",1),e.DNE(2,ci,9,12,"div",2),e.j41(3,"div",3)(4,"app-insert-btn",4),e.bIt("insertNode",function(s){return i.onInsertNode(s)})("insertFlexNode",function(s){return i.onInsertFlexNode(s)}),e.k0s()()(),e.j41(5,"nz-drawer",5),e.bIt("nzOnClose",function(){return i.close()}),e.DNE(6,li,2,0,"ng-container",6),e.k0s(),e.DNE(7,pi,5,0,"ng-template",null,7,e.C5r)),2&o){const r=e.sdS(8);e.R7$(1),e.Y8G("ngIf",i.showError),e.R7$(1),e.Y8G("ngIf",i.showBody),e.R7$(3),e.Y8G("nzVisible",i.showDrawer)("nzTitle",null==i.model?null:i.model.name)("nzBodyStyle",e.lJ4(7,ui))("nzFooter",r)("nzWidth",600)}},styles:['.p-node[_ngcontent-%COMP%]{width:200px;margin-bottom:8px;position:relative}.p-node[_ngcontent-%COMP%]   .node-err-tip[_ngcontent-%COMP%]{position:absolute;right:-30px;color:var(--error-color)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]{cursor:pointer;background:white;overflow:hidden;border-radius:5px;box-shadow:0 0 5px #d8d8d8}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 10px;color:#fff;height:25px;font-size:13px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .row-text[_ngcontent-%COMP%]:hover{text-decoration:underline}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   .node-del[_ngcontent-%COMP%]{display:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:3px;width:150px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;border:none;border-radius:5px}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%]{padding:7px 6px 7px 7px;min-height:40px;display:flex;justify-content:space-between;align-items:center;font-size:15px;background:white;margin:0 4px 4px;border-radius:5px;color:#656363}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]   .p-node-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:92%;word-wrap:break-word}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px 0 var(--shadowColor)}.p-node[_ngcontent-%COMP%]   .p-node-body[_ngcontent-%COMP%]:hover   .node-del[_ngcontent-%COMP%]{display:inline}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:80px}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:before{position:absolute;content:"";width:3px;height:80px;background:#d9d9d9}.p-node[_ngcontent-%COMP%]   .p-node-add[_ngcontent-%COMP%]:after{content:"";position:absolute;top:80px;left:50%;transform:translate(-50%);width:0;border-style:solid;border-width:8px 6px 4px;border-color:#d9d9d9 transparent transparent}']})}}return n})();function hi(n,a){if(1&n&&(e.qex(0),e.j41(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.nrm(5,"label",3),e.k0s(),e.j41(6,"td"),e.nrm(7,"label",4),e.k0s()(),e.bVm()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.eruptFieldJson.edit.title),e.R7$(4),e.Y8G("nzDisabled",t.eruptFieldJson.edit.readOnly.add)}}function gi(n,a){if(1&n&&(e.qex(0),e.DNE(1,hi,8,2,"ng-container",2),e.bVm()),2&n){const t=a.$implicit;e.R7$(1),e.Y8G("ngIf",t.eruptFieldJson.edit.title)}}const fi=function(){return{y:"400px"}};let _i=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-form-access"]],inputs:{eruptBuild:"eruptBuild"},decls:11,vars:4,consts:[[3,"nzScroll","nzData","nzSize"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nz-checkbox",""],["nz-checkbox","",3,"nzDisabled"]],template:function(o,i){1&o&&(e.j41(0,"nz-table",0)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"\u8868\u5355\u5b57\u6bb5"),e.k0s(),e.j41(5,"th"),e.EFF(6,"\u53ef\u8bfb"),e.k0s(),e.j41(7,"th"),e.EFF(8,"\u7f16\u8f91"),e.k0s()()(),e.j41(9,"tbody"),e.DNE(10,gi,2,1,"ng-container",1),e.k0s()()),2&o&&(e.Y8G("nzScroll",e.lJ4(3,fi))("nzSize","small"),e.R7$(10),e.Y8G("ngForOf",i.eruptBuild.eruptModel.eruptFieldModels))},dependencies:[l.Sq,l.bT,J.$g,y.CP,y.SO,y._4,y.IL,y.aj,y.kt]})}}return n})();function Ci(n,a){1&n&&(e.qex(0),e.j41(1,"nz-radio-group")(2,"label",5),e.EFF(3,"\u4e0a\u7ea7"),e.k0s(),e.j41(4,"label",5),e.EFF(5,"\u90e8\u95e8\u8d1f\u8d23\u4eba"),e.k0s(),e.j41(6,"label",5),e.EFF(7,"\u90e8\u95e8\u5185\u6307\u5b9a\u5c97\u4f4d"),e.k0s(),e.j41(8,"label",5),e.EFF(9,"\u89d2\u8272"),e.k0s(),e.j41(10,"label",5),e.EFF(11,"\u6307\u5b9a\u4eba\u5458"),e.k0s(),e.j41(12,"label",5),e.EFF(13,"\u63d0\u4ea4\u4eba\u672c\u4eba"),e.k0s()(),e.j41(14,"div"),e.EFF(15," \u591a\u4eba\u5ba1\u6279\u65f6\u4f7f\u7528\u7684\u5ba1\u6279\u65b9\u5f0f "),e.j41(16,"nz-radio-group")(17,"label",5),e.EFF(18,"\u4f1a\u7b7e\uff08\u9700\u6240\u6709\u5ba1\u6279\u4eba\u540c\u610f\uff09"),e.k0s(),e.j41(19,"label",5),e.EFF(20,"\u6216\u7b7e\uff08\u4e00\u540d\u5ba1\u6279\u4eba\u540c\u610f\u5373\u53ef\uff09"),e.k0s()()(),e.j41(21,"div"),e.EFF(22," \u5ba1\u6279\u4eba\u4e0e\u63d0\u4ea4\u4eba\u4e3a\u540c\u4e00\u4eba\u65f6 "),e.j41(23,"nz-radio-group")(24,"label",5),e.EFF(25,"\u7531\u63d0\u4ea4\u4eba\u5bf9\u81ea\u5df1\u5ba1\u6279"),e.k0s(),e.j41(26,"label",5),e.EFF(27,"\u81ea\u52a8\u8df3\u8fc7"),e.k0s(),e.j41(28,"label",5),e.EFF(29,"\u8f6c\u4ea4\u7ed9\u90e8\u95e8\u8d1f\u8d23\u4eba\u5ba1\u6279"),e.k0s()()(),e.bVm()),2&n&&(e.R7$(2),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(5),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(5),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"),e.R7$(2),e.Y8G("nzValue","1"))}function xi(n,a){if(1&n&&(e.qex(0),e.nrm(1,"app-form-access",6),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("eruptBuild",t.eruptBuild)}}function vi(n,a){1&n&&(e.qex(0),e.j41(1,"div")(2,"label",7),e.EFF(3,"\u5141\u8bb8\u8f6c\u4ea4"),e.k0s()(),e.j41(4,"div")(5,"label",7),e.EFF(6,"\u5141\u8bb8\u52a0 / \u51cf\u7b7e"),e.k0s()(),e.j41(7,"div")(8,"label",7),e.EFF(9,"\u5141\u8bb8\u8f6c\u4ea4"),e.k0s()(),e.j41(10,"div")(11,"label",7),e.EFF(12,"\u5ba1\u6279\u540c\u610f\u65f6\u9700\u624b\u5199\u7b7e\u540d"),e.k0s()(),e.j41(13,"div")(14,"label",7),e.EFF(15,"\u63d0\u4ea4\u5ba1\u6279\u9700\u586b\u5199\u5ba1\u6279\u610f\u89c1"),e.k0s()(),e.bVm())}let Ge=(()=>{class n extends ${constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showErr=!1,this.errInfo=null,this.selectTab=1}type(){return g.APPROVAL}name(){return"\u5ba1\u6279\u4eba"}color(){return"#EC8151"}onSelect(){}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}onInsertFlexNode(t){X(this.branch,this.index,t)}create(){return{id:v(),type:this.type(),name:this.name()}}onSaveProp(){}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-approval-node"]],inputs:{readonly:"readonly",eruptBuild:"eruptBuild",modelValue:"modelValue",branch:"branch",index:"index"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:13,vars:14,consts:[[3,"model","readonly","showError","errorInfo","headerColor","eruptBuild","modelChange","select","insertNode","insertFlexNode","delete"],["config",""],["nzButtonStyle","solid",2,"margin-bottom","12px",3,"ngModel","ngModelChange"],["nz-radio-button","",3,"nzValue"],[4,"ngIf"],["nz-radio","",3,"nzValue"],[3,"eruptBuild"],["nz-checkbox",""]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(s){return i.modelValue=s})("select",function(){return i.onSelect()})("insertNode",function(s){return i.onInsertNode(s)})("insertFlexNode",function(s){return i.onInsertFlexNode(s)})("delete",function(){return i.onDelete()}),e.EFF(1),e.j41(2,"div",1)(3,"nz-radio-group",2),e.bIt("ngModelChange",function(s){return i.selectTab=s}),e.j41(4,"label",3),e.EFF(5,"\u8bbe\u7f6e\u5ba1\u6838\u4eba"),e.k0s(),e.j41(6,"label",3),e.EFF(7,"\u8868\u5355\u6743\u9650"),e.k0s(),e.j41(8,"label",3),e.EFF(9,"\u64cd\u4f5c\u6743\u9650"),e.k0s()(),e.DNE(10,Ci,30,11,"ng-container",4),e.DNE(11,xi,2,1,"ng-container",4),e.DNE(12,vi,16,0,"ng-container",4),e.k0s()()),2&o&&(e.Y8G("model",i.modelValue)("readonly",i.readonly)("showError",i.showErr)("errorInfo",i.errInfo)("headerColor",i.color())("eruptBuild",i.eruptBuild),e.R7$(1),e.SpI(" ",i.name()," "),e.R7$(2),e.Y8G("ngModel",i.selectTab),e.R7$(1),e.Y8G("nzValue",1),e.R7$(2),e.Y8G("nzValue",2),e.R7$(2),e.Y8G("nzValue",3),e.R7$(2),e.Y8G("ngIf",1==i.selectTab),e.R7$(1),e.Y8G("ngIf",2==i.selectTab),e.R7$(1),e.Y8G("ngIf",3==i.selectTab))},dependencies:[l.bT,u.BC,u.vS,J.$g,ne.lx,ne.fr,ne.i3,Y,_i]})}}return n})(),Ve=(()=>{class n extends ${constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showErr=!1,this.errInfo=null}onSelect(){this.select.emit(this.modelValue)}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}type(){return g.CC}color(){return"#5994F3"}name(){return"\u6284\u9001\u4eba"}create(){return{id:v(),type:this.type(),name:this.name()}}onInsertFlexNode(t){X(this.branch,this.index,t)}onSaveProp(){}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-cc-node"]],inputs:{readonly:"readonly",eruptBuild:"eruptBuild",modelValue:"modelValue",branch:"branch",index:"index"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:2,vars:6,consts:[[3,"model","readonly","showError","errorInfo","headerColor","eruptBuild","modelChange","select","insertNode","insertFlexNode","delete"]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(s){return i.modelValue=s})("select",function(){return i.onSelect()})("insertNode",function(s){return i.onInsertNode(s)})("insertFlexNode",function(s){return i.onInsertFlexNode(s)})("delete",function(){return i.onDelete()}),e.EFF(1," \u6284\u9001\u4eba\n"),e.k0s()),2&o&&e.Y8G("model",i.modelValue)("readonly",i.readonly)("showError",i.showErr)("errorInfo",i.errInfo)("headerColor",i.color())("eruptBuild",i.eruptBuild)},dependencies:[Y]})}}return n})();var m=function(n){return n.EXCLUSIVE="EXCLUSIVE",n.PARALLEL="PARALLEL",n.INCLUSIVE="INCLUSIVE",n}(m||{});let ae=(()=>{class n extends ${constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.moveLn=!1,this.moveRn=!1,this.isDefault=!1,this.gatewayType=m.EXCLUSIVE,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.moveL=new e.bkB,this.moveR=new e.bkB,this.showErr=!1,this.errInfo=null}onSelect(){this.select.emit(this.modelValue)}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}onInsertFlexNode(t){X(this.branch,-1,t),console.log(this.branch,t)}onMoveL(){this.moveL.emit()}onMoveR(){this.moveR.emit()}type(){return this.gatewayType===m.EXCLUSIVE?g.EXCLUSION:this.gatewayType===m.PARALLEL?g.PARALLEL:g.INCLUSIVE}color(){return this.gatewayType===m.EXCLUSIVE?"#59B9A4":this.gatewayType===m.PARALLEL?"#718dff":"#FF9800"}name(){return this.gatewayType===m.EXCLUSIVE?"\u4e92\u65a5\u5206\u652f":this.gatewayType===m.PARALLEL?"\u5e76\u884c\u5206\u652f":"\u5305\u5bb9\u5206\u652f"}create(){return this.gatewayType===m.EXCLUSIVE?{id:v()+"_fork",type:g.EXCLUSION,name:this.name(),branches:[this.createBranch(1),{id:v(),type:g.BRANCH,name:"\u9ed8\u8ba4\u6761\u4ef6",prop:{type:L.ELSE},branches:[]}]}:this.gatewayType===m.PARALLEL?{id:v()+"_fork",type:g.PARALLEL,name:this.name(),branches:[this.createBranch(1),this.createBranch(2)]}:{id:v()+"_fork",type:g.INCLUSIVE,name:this.name(),branches:[this.createBranch(1),this.createBranch(2),{id:v(),type:g.BRANCH,name:"\u9ed8\u8ba4\u6761\u4ef6",prop:{type:L.ELSE},branches:[]}]}}onSaveProp(){}createBranch(t){return this.gatewayType===m.EXCLUSIVE?{id:v(),type:g.BRANCH,name:"\u4e92\u65a5\u6761\u4ef6"+t,prop:{type:L.CONDITION},branches:[]}:this.gatewayType===m.PARALLEL?{id:v(),type:g.BRANCH,name:"\u5e76\u884c\u8def\u5f84"+t,prop:{type:L.CONDITION},branches:[]}:{id:v(),type:g.BRANCH,name:"\u5305\u5bb9\u6761\u4ef6"+t,prop:{type:L.CONDITION},branches:[]}}getHeaderIcon(){return this.gatewayType===m.EXCLUSIVE?"share":this.gatewayType===m.PARALLEL?"apartment":"fork"}getDescription(){return this.gatewayType===m.EXCLUSIVE?"\u4f18\u5148\u7ea7 "+(this.index+1):this.gatewayType===m.PARALLEL?"\u5e76\u884c\u6267\u884c":"\u5305\u5bb9\u6267\u884c"}getContent(){return this.gatewayType===m.EXCLUSIVE?"":this.gatewayType===m.PARALLEL?"\u5e76\u884c\u6d41\u7a0b\u5206\u652f":"\u5305\u5bb9\u6d41\u7a0b\u5206\u652f"}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-gateway-node"]],inputs:{readonly:"readonly",eruptBuild:"eruptBuild",modelValue:"modelValue",branch:"branch",index:"index",moveLn:"moveLn",moveRn:"moveRn",isDefault:"isDefault",gatewayType:"gatewayType"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode",moveL:"moveL",moveR:"moveR"},features:[e.Vt3],decls:1,vars:12,consts:[[3,"modelValue","readonly","showError","errorInfo","color","headerIcon","eruptBuild","isDefault","moveRn","moveLn","desc","content","modelValueChange","insertNode","insertFlexNode","moveL","moveR","delete","select"]],template:function(o,i){1&o&&(e.j41(0,"app-branch-node",0),e.bIt("modelValueChange",function(s){return i.modelValue=s})("insertNode",function(s){return i.onInsertNode(s)})("insertFlexNode",function(s){return i.onInsertFlexNode(s)})("moveL",function(){return i.onMoveL()})("moveR",function(){return i.onMoveR()})("delete",function(){return i.onDelete()})("select",function(){return i.onSelect()}),e.k0s()),2&o&&e.Y8G("modelValue",i.modelValue)("readonly",i.readonly)("showError",i.showErr)("errorInfo",i.errInfo)("color",i.color())("headerIcon",i.getHeaderIcon())("eruptBuild",i.eruptBuild)("isDefault",i.isDefault)("moveRn",i.moveRn)("moveLn",i.moveLn)("desc",i.getDescription())("content",i.getContent())},dependencies:[Re]})}}return n})(),ve=(()=>{class n extends ${constructor(){super(...arguments),this.readonly=!1,this.branch=[],this.index=0,this.modelChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.showErr=!1,this.errInfo=null}onSelect(){this.select.emit(this.model)}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}onInsertFlexNode(t){X(this.branch,this.index,t)}type(){return g.START}color(){return"#80929C"}name(){return"\u53d1\u8d77\u4eba"}create(){return{id:v(),type:this.type(),name:this.name()}}onDelete(){}onSaveProp(){}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-start-node"]],inputs:{readonly:"readonly",model:"model",eruptBuild:"eruptBuild",branch:"branch",index:"index"},outputs:{modelChange:"modelChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:2,vars:8,consts:[[3,"model","readonly","showClose","eruptBuild","showError","errorInfo","headerColor","hasConfig","modelChange","select","insertNode","insertFlexNode"]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(s){return i.model=s})("select",function(){return i.onSelect()})("insertNode",function(s){return i.onInsertNode(s)})("insertFlexNode",function(s){return i.onInsertFlexNode(s)}),e.EFF(1," \u6d41\u7a0b\u4ece\u672c\u8282\u70b9\u5f00\u59cb\n"),e.k0s()),2&o&&e.Y8G("model",i.model)("readonly",i.readonly)("showClose",!1)("eruptBuild",i.eruptBuild)("showError",i.showErr)("errorInfo",i.errInfo)("headerColor",i.color())("hasConfig",!1)},dependencies:[Y]})}}return n})();var d=c(309),Ae=c(4275);let E=(()=>{class n{constructor(t){this._http=t}groupList(){return this._http.get(d.eY.erupt+"/flow/group/list",null,{observe:"body"})}groupAdd(t){return this._http.post(d.eY.erupt+"/flow/group/add",null,{name:t})}groupEdit(t,o){return this._http.post(d.eY.erupt+"/flow/group/edit",null,{id:t,name:o})}groupDelete(t){return this._http.post(d.eY.erupt+"/flow/group/delete",null,{id:t})}groupSort(t){return this._http.post(d.eY.erupt+"/flow/group/sort",t)}eruptFlows(){return this._http.get(d.eY.erupt+"/flow/flex/erupts")}eruptFlowBuild(t){return this._http.get(d.eY.erupt+"/flow/flex/erupt-build/"+t)}flexEruptFlowBuild(t){return this._http.get(d.eY.erupt+"/flow/flex/flex-erupt-build/"+t)}flexNodes(){return this._http.get(d.eY.erupt+"/flow/flex/flex-nodes")}configList(){return this._http.get(d.eY.erupt+"/flow/config/list",null)}configAdd(t){return this._http.post(d.eY.erupt+"/flow/config/add",t)}configUpdate(t){return this._http.post(d.eY.erupt+"/flow/config/update",t)}configCopy(t){return this._http.post(d.eY.erupt+"/flow/config/copy",null,{id:t})}configDelete(t){return this._http.post(d.eY.erupt+"/flow/config/delete",null,{id:t})}configSwitchEnable(t){return this._http.post(d.eY.erupt+"/flow/config/switch-enable",null,{id:t})}configGet(t){return this._http.get(d.eY.erupt+"/flow/config/get/"+t)}static{this.\u0275fac=function(o){return new(o||n)(e.KVO(Ae.p4))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}}return n})(),se=(()=>{class n{constructor(t){this.flexNodes=[],t.flexNodes().subscribe(o=>{this.flexNodes=o.data})}static{this.\u0275fac=function(o){return new(o||n)(e.KVO(E))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ce=c(8614),zi=c(2617),bi=c(4199);function yi(n,a){if(1&n&&(e.qex(0),e.nrm(1,"erupt-edit-type",1),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("eruptBuildModel",t.eruptBuild)("readonly",t.readonly)("mode",null)}}let le=(()=>{class n{constructor(t,o,i){this.dataService=t,this.flowApiService=o,this.dataHandlerService=i,this.loading=!1}ngOnInit(){this.loading=!0,this.erupt?this.flowApiService.eruptFlowBuild(this.erupt).subscribe({next:t=>{this.eruptBuild=t.data,this.initEruptValue()},complete:()=>{this.loading=!1}}):this.initEruptValue()}initEruptValue(){this.dataService.getInitValue(this.eruptBuild.eruptModel.eruptName).subscribe(t=>{this.dataHandlerService.objectToEruptValue(t,this.eruptBuild)})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(zi.u),e.rXU(E),e.rXU(ce.u))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flow-form"]],inputs:{readonly:"readonly",eruptBuild:"eruptBuild",erupt:"erupt"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"eruptBuildModel","readonly","mode"]],template:function(o,i){1&o&&e.DNE(0,yi,2,3,"ng-container",0),2&o&&e.Y8G("ngIf",i.eruptBuild)},dependencies:[l.bT,bi.k]})}}return n})(),$e=(()=>{class n extends ${constructor(t,o,i){super(),this.flowApiService=t,this.flowDataService=o,this.dataHandlerService=i,this.readonly=!1,this.branch=[],this.index=0,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB}ngOnInit(){}onInsertNode(t){this.insertNode.emit({branch:this.branch,index:this.index,type:t})}onInsertFlexNode(t){X(this.branch,this.index,t)}color(){if(this.modelValue?.flex)for(let t of this.flowDataService.flexNodes)if(t.code===this.modelValue.flex)return t.color;return"#000"}create(t){return{id:v(),type:this.type(),flex:t.code,name:t.name}}onSelect(){this.modelValue?.flex&&this.flowApiService.flexEruptFlowBuild(this.modelValue.flex).subscribe(t=>{this.modelValue.prop&&this.dataHandlerService.objectToEruptValue(this.modelValue.prop,t.data),t.data.eruptModel.eruptJson.layout.formSize=d.c8.FULL_LINE,this.flexErupt=t.data})}onSaveProp(){this.modelValue.prop={...this.dataHandlerService.eruptValueToObject(this.flexErupt)}}onDelete(){this.delete.emit({branch:this.branch,index:this.index})}type(){return g.FlEX}name(){return"Flex"}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E),e.rXU(se),e.rXU(ce.u))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flex-node"]],inputs:{readonly:"readonly",eruptBuild:"eruptBuild",modelValue:"modelValue",branch:"branch",index:"index"},outputs:{modelValueChange:"modelValueChange",select:"select",delete:"delete",insertNode:"insertNode"},features:[e.Vt3],decls:5,vars:7,consts:[[3,"model","readonly","headerColor","eruptBuild","modelChange","select","insertNode","insertFlexNode","saveProp","delete"],["config",""],[3,"eruptBuild","readonly"]],template:function(o,i){1&o&&(e.j41(0,"erupt-node",0),e.bIt("modelChange",function(s){return i.modelValue=s})("select",function(){return i.onSelect()})("insertNode",function(s){return i.onInsertNode(s)})("insertFlexNode",function(s){return i.onInsertFlexNode(s)})("saveProp",function(){return i.onSaveProp()})("delete",function(){return i.onDelete()}),e.j41(1,"div",1),e.nrm(2,"erupt-flow-form",2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&o&&(e.Y8G("model",i.modelValue)("readonly",i.readonly)("headerColor",i.color())("eruptBuild",i.eruptBuild),e.R7$(2),e.Y8G("eruptBuild",i.flexErupt)("readonly",!1),e.R7$(2),e.SpI(" ",null==i.modelValue?null:i.modelValue.name," "))},dependencies:[Y,le]})}}return n})();const Le=[(()=>{const n=new ae;return n.gatewayType=m.EXCLUSIVE,n})(),(()=>{const n=new ae;return n.gatewayType=m.PARALLEL,n})(),(()=>{const n=new ae;return n.gatewayType=m.INCLUSIVE,n})(),new ve,new Ge,new Ve,new $e],U={};for(let n of Le)U[n.type()]=n;var w=c(6389),T=c(5930);function wi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.onInsertNode(i.type()))}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG().$implicit;e.xc7("color",t.color()),e.R7$(1),e.SpI(" ",t.name()," ")}}function Ti(n,a){if(1&n&&(e.qex(0),e.DNE(1,wi,2,3,"div",5),e.bVm()),2&n){const t=a.$implicit,o=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.type()!=o.nodeType.START&&t.type()!=o.nodeType.FlEX)}}function Ni(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",6),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.onInsertFlexNode(r))}),e.EFF(2),e.k0s(),e.bVm()}if(2&n){const t=a.$implicit;e.R7$(1),e.xc7("color",t.color),e.R7$(1),e.SpI(" ",t.name," ")}}function Mi(n,a){if(1&n&&(e.j41(0,"div",3),e.DNE(1,Ti,2,1,"ng-container",4),e.DNE(2,Ni,3,3,"ng-container",4),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.nodeList),e.R7$(1),e.Y8G("ngForOf",t.flexNodes)}}let Xe=(()=>{class n{constructor(t){this.insertNode=new e.bkB,this.insertFlexNode=new e.bkB,this.popoverVisible=!1,this.nodeList=Le,this.nodeType=g,this.flexNodes=[],this.flexNodes=t.flexNodes}onInsertNode(t){this.insertNode.emit(t),this.popoverVisible=!1}onInsertFlexNode(t){this.insertFlexNode.emit(t),this.popoverVisible=!1}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(se))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-insert-btn"]],outputs:{insertNode:"insertNode",insertFlexNode:"insertFlexNode"},decls:4,vars:2,consts:[["nz-button","","nzShape","circle","nz-popover","","nzPopoverTitle","\u8bf7\u9009\u62e9\u6d41\u7a0b\u8282\u70b9","nzPopoverPlacement","right","nzPopoverTrigger","click",2,"z-index","1","filter","drop-shadow(0 4px 8px rgba(31,35,41,.1))",3,"nzPopoverContent","nzPopoverVisible","nzPopoverVisibleChange"],["nz-icon","","nzType","plus",2,"font-size","16px"],["nzPopoverContent",""],[1,"node-options",2,"width","360px"],[4,"ngFor","ngForOf"],[3,"color","click",4,"ngIf"],[3,"click"]],template:function(o,i){if(1&o&&(e.j41(0,"button",0),e.bIt("nzPopoverVisibleChange",function(s){return i.popoverVisible=s}),e.nrm(1,"span",1),e.DNE(2,Mi,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&o){const r=e.sdS(3);e.Y8G("nzPopoverContent",r)("nzPopoverVisible",i.popoverVisible)}},dependencies:[l.Sq,l.bT,x.aO,w.c,T.p,ge.L_,h.Dn],styles:[".node-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.node-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:3px;margin-right:5px;border-radius:10px;border:1px solid #DEDFDF}.node-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:8px 10px;border-radius:15px;background:#F8F9F9;margin:5px;width:110px}.node-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px #e3e3e3}"]})}}return n})();var Ye=c(4710);function Oi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",23),e.bIt("click",function(){const r=e.eBV(t).index,s=e.XpG();return e.Njj(s.onTabChange(r))}),e.nrm(1,"span",24),e.j41(2,"span",25),e.EFF(3),e.k0s()()}if(2&n){const t=a.$implicit,o=a.index,i=e.XpG();e.AVh("active",i.activeTab===o),e.R7$(1),e.Y8G("nzType",t.icon),e.R7$(2),e.JRh(t.label)}}function Si(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",26),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onItemToggle(r))}),e.j41(1,"label",27),e.bIt("ngModelChange",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onItemToggle(r))})("click",function(i){return i.stopPropagation()}),e.k0s(),e.j41(2,"span",28),e.EFF(3),e.k0s()()}if(2&n){const t=a.$implicit;e.AVh("selected",t.checked),e.R7$(1),e.Y8G("ngModel",t.checked),e.R7$(2),e.JRh(t.name)}}function ki(n,a){if(1&n&&(e.j41(0,"div",29),e.nrm(1,"span",30),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&n){const t=e.XpG();e.R7$(3),e.JRh(t.getEmptyStateText())}}function Ei(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",31)(1,"div",32),e.nrm(2,"span",33),e.j41(3,"span",28),e.EFF(4),e.k0s()(),e.j41(5,"button",34),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onItemRemove(r))}),e.nrm(6,"span",35),e.k0s()()}if(2&n){const t=a.$implicit,o=e.XpG();e.R7$(2),e.Y8G("nzType","org"===t.type?"apartment":"role"===t.type?"safety-certificate":"user"===t.type?"user":"idcard"),e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("nzTooltipTitle","\u79fb\u9664"+o.currentTabLabel)}}function Ii(n,a){if(1&n&&(e.j41(0,"div",36),e.nrm(1,"span",24),e.j41(2,"p"),e.EFF(3),e.k0s(),e.j41(4,"span",37),e.EFF(5),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("nzType","org"===t.currentTabKey?"apartment":"role"===t.currentTabKey?"safety-certificate":"user"===t.currentTabKey?"user-add":"idcard"),e.R7$(2),e.JRh(t.getEmptySelectedText()),e.R7$(2),e.JRh(t.getEmptySelectedTip())}}let Fi=(()=>{class n{constructor(){this.roles=[],this.users=[],this.organizations=[],this.positions=[],this.rolesChange=new e.bkB,this.usersChange=new e.bkB,this.organizationsChange=new e.bkB,this.positionsChange=new e.bkB,this.activeTab=0,this.searchText="",this.selectedItems=[],this.tabs=[{key:"org",label:"\u7ec4\u7ec7\u67b6\u6784",icon:"apartment"},{key:"roles",label:"\u89d2\u8272",icon:"safety-certificate"},{key:"users",label:"\u7528\u6237",icon:"user"},{key:"positions",label:"\u5c97\u4f4d",icon:"idcard"}]}ngOnInit(){this.initializeDefaultData(),this.updateSelectedItems()}initializeDefaultData(){0===this.organizations.length&&(this.organizations=[{id:"1",name:"\u603b\u516c\u53f8",checked:!1,type:"org",level:1},{id:"2",name:"\u6280\u672f\u90e8",checked:!0,type:"org",level:2,parentId:"1"},{id:"3",name:"\u4eba\u4e8b\u90e8",checked:!0,type:"org",level:2,parentId:"1"},{id:"4",name:"\u8d22\u52a1\u90e8",checked:!1,type:"org",level:2,parentId:"1"}]),0===this.roles.length&&(this.roles=[{id:"1",name:"\u4eba\u4e8b",checked:!1,type:"role"},{id:"2",name:"\u6cd5\u52a1",checked:!0,type:"role"},{id:"3",name:"\u8d22\u52a1",checked:!0,type:"role"},{id:"4",name:"IT",checked:!0,type:"role"},{id:"5",name:"\u884c\u653f",checked:!1,type:"role"}]),0===this.users.length&&(this.users=[{id:"1",name:"\u5f20\u4e09",checked:!1,type:"user",email:"zhangsan@company.com",department:"\u6280\u672f\u90e8"},{id:"2",name:"\u674e\u56db",checked:!0,type:"user",email:"lisi@company.com",department:"\u4eba\u4e8b\u90e8"},{id:"3",name:"\u738b\u4e94",checked:!0,type:"user",email:"wangwu@company.com",department:"\u8d22\u52a1\u90e8"},{id:"4",name:"\u8d75\u516d",checked:!1,type:"user",email:"zhaoliu@company.com",department:"\u6280\u672f\u90e8"}]),0===this.positions.length&&(this.positions=[{id:"1",name:"\u524d\u7aef\u5de5\u7a0b\u5e08",checked:!1,type:"position",department:"\u6280\u672f\u90e8",level:"P5"},{id:"2",name:"\u540e\u7aef\u5de5\u7a0b\u5e08",checked:!0,type:"position",department:"\u6280\u672f\u90e8",level:"P6"},{id:"3",name:"\u4eba\u4e8b\u4e13\u5458",checked:!0,type:"position",department:"\u4eba\u4e8b\u90e8",level:"P4"},{id:"4",name:"\u8d22\u52a1\u4e13\u5458",checked:!1,type:"position",department:"\u8d22\u52a1\u90e8",level:"P4"}])}onTabChange(t){this.activeTab=t,this.searchText=""}onItemToggle(t){t.checked=!t.checked,this.updateSelectedItems(),this.emitChanges()}onItemRemove(t){const o=this.getCurrentItems().find(i=>i.id===t.id);o&&(o.checked=!1,this.updateSelectedItems(),this.emitChanges())}onClearAll(){this.getCurrentItems().forEach(t=>t.checked=!1),this.updateSelectedItems(),this.emitChanges()}updateSelectedItems(){this.selectedItems=this.getCurrentItems().filter(t=>t.checked)}emitChanges(){switch(this.currentTabKey){case"org":this.organizationsChange.emit(this.organizations);break;case"roles":this.rolesChange.emit(this.roles);break;case"users":this.usersChange.emit(this.users);break;case"positions":this.positionsChange.emit(this.positions)}}getCurrentItems(){switch(this.currentTabKey){case"org":return this.organizations;case"roles":default:return this.roles;case"users":return this.users;case"positions":return this.positions}}get filteredItems(){const t=this.getCurrentItems();return this.searchText?t.filter(o=>o.name.toLowerCase().includes(this.searchText.toLowerCase())):t}get selectedCount(){return this.selectedItems.length}get currentTabKey(){return this.tabs[this.activeTab]?.key||"org"}get currentTabLabel(){return this.tabs[this.activeTab]?.label||"\u7ec4\u7ec7\u67b6\u6784"}trackByItem(t,o){return o.id}clearSearch(){this.searchText=""}getCurrentTabInfo(){return this.tabs[this.activeTab]}getSearchPlaceholder(){switch(this.currentTabKey){case"org":return"\u641c\u7d22\u7ec4\u7ec7\u540d\u79f0...";case"roles":return"\u641c\u7d22\u89d2\u8272\u540d\u79f0...";case"users":return"\u641c\u7d22\u7528\u6237\u59d3\u540d...";case"positions":return"\u641c\u7d22\u5c97\u4f4d\u540d\u79f0...";default:return"\u641c\u7d22..."}}getListTitle(){const t=this.filteredItems.length;switch(this.currentTabKey){case"org":return`\u5171 ${t} \u4e2a\u7ec4\u7ec7`;case"roles":return`\u5171 ${t} \u4e2a\u89d2\u8272`;case"users":return`\u5171 ${t} \u4e2a\u7528\u6237`;case"positions":return`\u5171 ${t} \u4e2a\u5c97\u4f4d`;default:return`\u5171 ${t} \u4e2a\u9879\u76ee`}}getEmptyStateText(){switch(this.currentTabKey){case"org":return"\u672a\u627e\u5230\u5339\u914d\u7684\u7ec4\u7ec7";case"roles":return"\u672a\u627e\u5230\u5339\u914d\u7684\u89d2\u8272";case"users":return"\u672a\u627e\u5230\u5339\u914d\u7684\u7528\u6237";case"positions":return"\u672a\u627e\u5230\u5339\u914d\u7684\u5c97\u4f4d";default:return"\u672a\u627e\u5230\u5339\u914d\u7684\u9879\u76ee"}}getSelectedTitle(){const t=this.selectedCount;switch(this.currentTabKey){case"org":return`\u5df2\u9009: ${t}\u4e2a\u7ec4\u7ec7`;case"roles":return`\u5df2\u9009: ${t}\u4e2a\u89d2\u8272`;case"users":return`\u5df2\u9009: ${t}\u4e2a\u7528\u6237`;case"positions":return`\u5df2\u9009: ${t}\u4e2a\u5c97\u4f4d`;default:return`\u5df2\u9009: ${t}\u4e2a\u9879\u76ee`}}getEmptySelectedText(){switch(this.currentTabKey){case"org":return"\u6682\u65e0\u5df2\u9009\u7ec4\u7ec7";case"roles":return"\u6682\u65e0\u5df2\u9009\u89d2\u8272";case"users":return"\u6682\u65e0\u5df2\u9009\u7528\u6237";case"positions":return"\u6682\u65e0\u5df2\u9009\u5c97\u4f4d";default:return"\u6682\u65e0\u5df2\u9009\u9879\u76ee"}}getEmptySelectedTip(){switch(this.currentTabKey){case"org":return"\u8bf7\u5728\u5de6\u4fa7\u9009\u62e9\u9700\u8981\u5206\u914d\u7684\u7ec4\u7ec7";case"roles":return"\u8bf7\u5728\u5de6\u4fa7\u9009\u62e9\u9700\u8981\u5206\u914d\u7684\u89d2\u8272";case"users":return"\u8bf7\u5728\u5de6\u4fa7\u9009\u62e9\u9700\u8981\u5206\u914d\u7684\u7528\u6237";case"positions":return"\u8bf7\u5728\u5de6\u4fa7\u9009\u62e9\u9700\u8981\u5206\u914d\u7684\u5c97\u4f4d";default:return"\u8bf7\u5728\u5de6\u4fa7\u9009\u62e9\u9700\u8981\u5206\u914d\u7684\u9879\u76ee"}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-upms-select"]],inputs:{roles:"roles",users:"users",organizations:"organizations",positions:"positions"},outputs:{rolesChange:"rolesChange",usersChange:"usersChange",organizationsChange:"organizationsChange",positionsChange:"positionsChange"},decls:27,vars:12,consts:[[1,"upms-select-container"],[1,"left-panel"],[1,"tabs"],["class","tab-item",3,"active","click",4,"ngFor","ngForOf"],[1,"search-container"],["nzSize","default"],["nz-input","",3,"placeholder","ngModel","ngModelChange"],[1,"item-list"],[1,"item-list-header"],[1,"item-count"],[1,"item-tip"],["class","item-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-state",4,"ngIf"],[1,"right-panel"],[1,"selected-header"],[1,"selected-info"],[1,"selected-count"],["nz-icon","","nzType","check-circle","nzColor","#52c41a"],["nz-button","","nzType","link","nzSize","small","nzDanger","",1,"clear-btn",3,"disabled","click"],["nz-icon","","nzType","delete","nzTheme","outline"],[1,"selected-items"],["class","selected-item-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-selected",4,"ngIf"],[1,"tab-item",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"tab-label"],[1,"item-item",3,"click"],["nz-checkbox","",3,"ngModel","ngModelChange","click"],[1,"item-name"],[1,"empty-state"],["nz-icon","","nzType","search","nzTheme","outline"],[1,"selected-item-item"],[1,"item-info"],["nz-icon","","nzTheme","outline",1,"item-icon",3,"nzType"],["nz-button","","nzType","text","nzSize","small","nzDanger","","nz-tooltip","",1,"remove-btn",3,"nzTooltipTitle","click"],["nz-icon","","nzType","close","nzTheme","outline"],[1,"empty-selected"],[1,"empty-tip"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,Oi,4,4,"div",3),e.k0s(),e.j41(4,"div",4)(5,"nz-input-group",5)(6,"input",6),e.bIt("ngModelChange",function(s){return i.searchText=s}),e.k0s()()(),e.j41(7,"div",7)(8,"div",8)(9,"span",9),e.EFF(10),e.k0s(),e.j41(11,"span",10),e.EFF(12,"\u70b9\u51fb\u9009\u62e9\u6216\u53d6\u6d88\u9009\u62e9"),e.k0s()(),e.DNE(13,Si,4,4,"div",11),e.DNE(14,ki,4,1,"div",12),e.k0s()(),e.j41(15,"div",13)(16,"div",14)(17,"div",15)(18,"h3",16),e.nrm(19,"span",17),e.EFF(20),e.k0s()(),e.j41(21,"button",18),e.bIt("click",function(){return i.onClearAll()}),e.nrm(22,"span",19),e.EFF(23," \u6e05\u7a7a "),e.k0s()(),e.j41(24,"div",20),e.DNE(25,Ei,7,3,"div",21),e.DNE(26,Ii,6,3,"div",22),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("ngForOf",i.tabs),e.R7$(3),e.Y8G("placeholder",i.getSearchPlaceholder())("ngModel",i.searchText),e.R7$(4),e.JRh(i.getListTitle()),e.R7$(3),e.Y8G("ngForOf",i.filteredItems)("ngForTrackBy",i.trackByItem),e.R7$(1),e.Y8G("ngIf",0===i.filteredItems.length),e.R7$(6),e.SpI(" ",i.getSelectedTitle()," "),e.R7$(1),e.Y8G("disabled",0===i.selectedCount),e.R7$(4),e.Y8G("ngForOf",i.selectedItems)("ngForTrackBy",i.trackByItem),e.R7$(1),e.Y8G("ngIf",0===i.selectedCount))},dependencies:[l.Sq,l.bT,u.me,u.BC,u.vS,x.aO,w.c,J.$g,k.LH,h.Dn,_.Sy,_.tg],styles:["[_nghost-%COMP%]     .upms-select-container{display:flex;min-height:500px;margin:0 auto}[_nghost-%COMP%]     .left-panel{flex:1.2;border-right:1px solid #f0f0f0;padding:12px}[_nghost-%COMP%]     .right-panel{flex:.8;padding:12px}[_nghost-%COMP%]     .tabs{display:flex;border-bottom:1px solid #f0f0f0;margin-bottom:16px}[_nghost-%COMP%]     .tab-item{display:flex;align-items:center;gap:6px;padding:10px 16px;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s ease;color:#666;font-size:14px;font-weight:500;position:relative}[_nghost-%COMP%]     .tab-item:hover{color:#1890ff;background-color:#1890ff0a}[_nghost-%COMP%]     .tab-item.active{color:#1890ff;border-bottom-color:#1890ff;background-color:#1890ff0a}[_nghost-%COMP%]     .tab-item span[nz-icon]{font-size:14px}[_nghost-%COMP%]     .tab-item .tab-label{font-size:13px}[_nghost-%COMP%]     .search-container{margin-bottom:12px}[_nghost-%COMP%]     .search-container nz-input-group   .ant-input-group-addon{background:#f8f9fa;border-color:#e9ecef}[_nghost-%COMP%]     .search-container nz-input-group   .ant-input{border-color:#e9ecef}[_nghost-%COMP%]     .search-container nz-input-group   .ant-input:focus, [_nghost-%COMP%]     .search-container nz-input-group   .ant-input:hover{border-color:#1890ff;box-shadow:0 0 0 2px #1890ff1a}[_nghost-%COMP%]     .external-link{display:flex;align-items:center;gap:6px;margin-bottom:16px;padding:8px 10px;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border:1px solid #e9ecef;border-radius:8px;font-size:12px;color:#495057;transition:all .2s ease}[_nghost-%COMP%]     .external-link:hover{background:linear-gradient(135deg,#e9ecef 0%,#dee2e6 100%);border-color:#ced4da}[_nghost-%COMP%]     .external-link span[nz-icon]{color:#1890ff;font-size:14px}[_nghost-%COMP%]     .external-link .link-icon{margin-left:auto;cursor:pointer}[_nghost-%COMP%]     .external-link .link-icon:hover{color:#40a9ff}[_nghost-%COMP%]     .item-list{max-height:320px;overflow-y:auto;border:1px solid #f0f0f0;background:#fff}[_nghost-%COMP%]     .item-list-header{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#f8f9fa;border-bottom:1px solid #f0f0f0}[_nghost-%COMP%]     .item-list-header .item-count{font-size:12px;color:#6c757d;font-weight:500}[_nghost-%COMP%]     .item-list-header .item-tip{font-size:11px;color:#adb5bd}[_nghost-%COMP%]     .item-item{display:flex;align-items:center;gap:10px;padding:10px 12px;cursor:pointer;transition:all .2s ease;border-bottom:1px solid #f8f9fa;position:relative}[_nghost-%COMP%]     .item-item:last-child{border-bottom:none}[_nghost-%COMP%]     .item-item:hover{background-color:#f8f9fa;transform:translate(2px)}[_nghost-%COMP%]     .item-item:active{background-color:#e9ecef}[_nghost-%COMP%]     .item-item.selected{background-color:#1890ff0d;border-left:3px solid #1890ff;padding-left:9px}[_nghost-%COMP%]     .item-item .item-extra{margin-left:auto;display:flex;gap:8px;align-items:center}[_nghost-%COMP%]     .item-item .item-extra .department{font-size:11px;color:#6c757d;background:#e9ecef;padding:2px 6px;border-radius:3px}[_nghost-%COMP%]     .item-item .item-extra .level{font-size:11px;color:#1890ff;background:rgba(24,144,255,.1);padding:2px 6px;border-radius:3px}[_nghost-%COMP%]     .item-name{font-size:13px;color:#495057;font-weight:400}[_nghost-%COMP%]     .empty-state, [_nghost-%COMP%]     .empty-selected{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:#adb5bd}[_nghost-%COMP%]     .empty-state span[nz-icon], [_nghost-%COMP%]     .empty-selected span[nz-icon]{font-size:32px;margin-bottom:8px;opacity:.6}[_nghost-%COMP%]     .empty-state p, [_nghost-%COMP%]     .empty-selected p{margin:8px 0 4px;font-size:14px;color:#6c757d}[_nghost-%COMP%]     .empty-state .empty-tip, [_nghost-%COMP%]     .empty-selected .empty-tip{font-size:11px;color:#adb5bd}[_nghost-%COMP%]     .selected-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}[_nghost-%COMP%]     .selected-info{flex:1}[_nghost-%COMP%]     .selected-count{display:flex;align-items:center;gap:6px;margin:0 0 4px;font-size:15px;font-weight:600;color:#212529}[_nghost-%COMP%]     .selected-count span[nz-icon]{font-size:16px}[_nghost-%COMP%]     .selected-tip{font-size:11px;color:#adb5bd;margin:0}[_nghost-%COMP%]     .clear-btn{margin-left:12px;font-size:12px;padding:2px 8px;height:24px;border-radius:4px;display:flex;align-items:center;gap:4px}[_nghost-%COMP%]     .clear-btn:hover{background-color:#ff4d4f1a}[_nghost-%COMP%]     .clear-btn:disabled{opacity:.5;cursor:not-allowed}[_nghost-%COMP%]     .clear-btn span[nz-icon]{font-size:12px}[_nghost-%COMP%]     .selected-items{max-height:320px;overflow-y:auto}[_nghost-%COMP%]     .selected-item-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;margin-bottom:6px;border:1px solid #e9ecef;transition:all .2s ease}[_nghost-%COMP%]     .selected-item-item:hover{background:linear-gradient(135deg,#e9ecef 0%,#fafafa 100%);border-color:#ced4da;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}[_nghost-%COMP%]     .selected-item-item .item-info{display:flex;align-items:center;gap:8px;flex:1}[_nghost-%COMP%]     .selected-item-item .item-info .item-icon{color:#6c757d;font-size:14px}[_nghost-%COMP%]     .selected-item-item .item-info .item-name{font-size:13px;color:#495057;font-weight:500}[_nghost-%COMP%]     .selected-item-item .item-info .item-extra{display:flex;gap:6px;align-items:center}[_nghost-%COMP%]     .selected-item-item .item-info .item-extra .department{font-size:10px;color:#6c757d;background:#e9ecef;padding:1px 4px;border-radius:2px}[_nghost-%COMP%]     .selected-item-item .item-info .item-extra .level{font-size:10px;color:#1890ff;background:rgba(24,144,255,.1);padding:1px 4px;border-radius:2px}[_nghost-%COMP%]     .remove-btn{color:#dc3545;padding:2px 6px;height:24px;border-radius:4px;transition:all .2s ease;flex-shrink:0}[_nghost-%COMP%]     .remove-btn:hover{background-color:#dc35451a;color:#c82333}[_nghost-%COMP%]     .remove-btn span[nz-icon]{font-size:12px}[_nghost-%COMP%]     .item-list::-webkit-scrollbar, [_nghost-%COMP%]     .selected-items::-webkit-scrollbar{width:4px}[_nghost-%COMP%]     .item-list::-webkit-scrollbar-track, [_nghost-%COMP%]     .selected-items::-webkit-scrollbar-track{background:#f8f9fa;border-radius:2px}[_nghost-%COMP%]     .item-list::-webkit-scrollbar-thumb, [_nghost-%COMP%]     .selected-items::-webkit-scrollbar-thumb{background:#ced4da;border-radius:2px}[_nghost-%COMP%]     .item-list::-webkit-scrollbar-thumb:hover, [_nghost-%COMP%]     .selected-items::-webkit-scrollbar-thumb:hover{background:#adb5bd}@media (max-width: 900px){[_nghost-%COMP%]     .upms-select-container{flex-direction:column;gap:12px;min-height:auto}[_nghost-%COMP%]     .left-panel, [_nghost-%COMP%]     .right-panel{flex:none;border-right:none;border-bottom:1px solid #f0f0f0;padding:0 8px}[_nghost-%COMP%]     .left-panel{padding-bottom:12px}[_nghost-%COMP%]     .right-panel{border-bottom:none;padding-top:12px}[_nghost-%COMP%]     .tabs{justify-content:center}[_nghost-%COMP%]     .tab-item{padding:8px 12px;font-size:13px}[_nghost-%COMP%]     .item-list, [_nghost-%COMP%]     .selected-items{max-height:200px}[_nghost-%COMP%]     .item-list-header{flex-direction:column;gap:4px;align-items:flex-start}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}[_nghost-%COMP%]     .item-item, [_nghost-%COMP%]     .selected-item-item{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}[_nghost-%COMP%]     .item-item nz-checkbox   .ant-checkbox-wrapper .ant-checkbox .ant-checkbox-inner{border-color:#d9d9d9;border-radius:3px}[_nghost-%COMP%]     .item-item nz-checkbox   .ant-checkbox-wrapper .ant-checkbox .ant-checkbox-inner:hover{border-color:#1890ff}[_nghost-%COMP%]     .item-item nz-checkbox   .ant-checkbox-wrapper .ant-checkbox.ant-checkbox-checked .ant-checkbox-inner{background-color:#1890ff;border-color:#1890ff}[_nghost-%COMP%]       .ant-tooltip .ant-tooltip-inner{font-size:11px;padding:4px 8px;border-radius:4px}"]})}}return n})(),Ue=(()=>{class n extends ${onSelect(){}onInsertNode(t){}onInsertFlexNode(t){}type(){return g.END}color(){return"#80929C"}name(){return"END"}create(){return{id:v(),type:this.type(),name:this.name()}}onDelete(){}onSaveProp(){}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-end-node"]],features:[e.Vt3],decls:2,vars:0,consts:[[1,"process-end"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.EFF(1,"\u6d41\u7a0b\u7ed3\u675f"),e.k0s())},styles:["[_nghost-%COMP%]   .process-end[_ngcontent-%COMP%]{text-align:center;padding:10px;border-radius:5px;background:#e5e5e5;margin-top:16px;min-width:100px}"]})}}return n})();const Pi=["startNode","approvalNode","flexNode","ccNode","exclusiveNode","parallelNode","branchNode","childNodeRef"];function Di(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-start-node",5,6),e.bIt("modelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("model",t.node)("eruptBuild",t.eruptBuild)("branch",t.branch)("index",t.index)}}function ji(n,a){1&n&&e.nrm(0,"app-end-node")}function Bi(n,a){if(1&n){const t=e.RV6();e.j41(0,"erupt-flex-node",7,8),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("modelValue",t.node)("eruptBuild",t.eruptBuild)("branch",t.branch)("index",t.index)}}function Ri(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-approval-node",7,9),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("modelValue",t.node)("eruptBuild",t.eruptBuild)("branch",t.branch)("index",t.index)}}function Gi(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-cc-node",7,10),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.node=i)})("modelValueChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.nodeChange.emit(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNodeFun(r.branch,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(r.branch,i.index))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.select.emit(i))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("readonly",t.readonly)("modelValue",t.node)("eruptBuild",t.eruptBuild)("branch",t.branch)("index",t.index)}}function Vi(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.addBranch())}),e.EFF(1," \u6dfb\u52a0\u5206\u652f "),e.k0s()}}function Ai(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"app-recursive-node",20,21),e.bIt("nodeChange",function(i){const s=e.eBV(t).index,p=e.XpG().$implicit;return e.Njj(p[s]=i)})("insertNode",function(i){e.eBV(t);const r=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.insertNodeFun(r.branches,i.index,i.type))})("delete",function(i){e.eBV(t);const r=e.XpG().$implicit,s=e.XpG(2);return e.Njj(s.deleteNode(r.branches,i.index))})("select",function(i){e.eBV(t);const r=e.XpG(3);return e.Njj(r.select.emit(i))}),e.k0s(),e.bVm()}if(2&n){const t=a.$implicit,o=a.index,i=e.XpG().$implicit,r=e.XpG(2);e.R7$(1),e.Y8G("eruptBuild",r.eruptBuild)("readonly",r.readonly)("node",t)("branch",i.branches)("index",o)}}function $i(n,a){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div")(2,"app-gateway-node",17,18),e.bIt("modelValueChange",function(i){const s=e.eBV(t).index,p=e.XpG(2);return e.Njj(p.node.branches[s]=i)})("insertNode",function(i){const s=e.eBV(t).index,p=e.XpG(2);return e.Njj(p.insertNodeFun(p.node.branches[s].branches,-1,i.type))})("delete",function(){const r=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.deleteBranch(r))})("copy",function(){const r=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.copyBranch(r))})("moveL",function(){const r=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.moveL(r))})("moveR",function(){const r=e.eBV(t).index,s=e.XpG(2);return e.Njj(s.moveR(r))})("select",function(i){const s=e.eBV(t).index,p=e.XpG(2);return e.Njj(p.selectFun(i,s))}),e.k0s(),e.DNE(4,Ai,3,5,"ng-container",19),e.k0s()()}if(2&n){const t=a.$implicit,o=a.index,i=e.XpG(2);e.HbH("p-branch-item"+(0===o?" p-branch-item-l":"")+(o===i.node.branches.length-1?" p-branch-item-r":"")),e.R7$(2),e.Y8G("readonly",i.readonly)("modelValue",i.node.branches[o])("index",o)("eruptBuild",i.eruptBuild)("branch",i.node.branches[o].branches)("moveRn",i.node.type===i.nodeType.PARALLEL?o<i.node.branches.length-1:o<i.node.branches.length-2)("moveLn",o>0)("isDefault",i.node.type===i.nodeType.PARALLEL?o===i.node.branches.length-1&&!1:o===i.node.branches.length-1&&!0)("gatewayType",i.node.type===i.nodeType.PARALLEL?i.gatewayType.PARALLEL:i.node.type===i.nodeType.EXCLUSION?i.gatewayType.EXCLUSIVE:i.gatewayType.INCLUSIVE),e.R7$(2),e.Y8G("ngForOf",t.branches)}}const Li=function(n){return{"p-branch-end":n}};function Xi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",11)(1,"div",12),e.DNE(2,Vi,2,0,"button",13),e.DNE(3,$i,5,12,"div",14),e.k0s(),e.j41(4,"erupt-node",15),e.bIt("insertFlexNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onInsertFlexNode(i))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNode.emit({branch:r.branch,index:r.index,type:i}))}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",!t.readonly),e.R7$(1),e.Y8G("ngForOf",t.node.branches),e.R7$(1),e.HbH(e.eq3(6,Li,t.branch.length===t.index+1)),e.Y8G("readonly",t.readonly)("showBody",!1)}}let Yi=(()=>{class n{constructor(){this.readonly=!1,this.branch=[],this.index=0,this.nodeChange=new e.bkB,this.select=new e.bkB,this.delete=new e.bkB,this.insertNode=new e.bkB,this.nodeType=g,this.gatewayType=m}insertNodeFun(t,o,i){const r=U[i].create();t.splice(o+1,0,r)}onInsertFlexNode(t){X(this.branch,this.index,t)}deleteNode(t,o){t.splice(o,1)}addBranch(){const t=this.node.branches.length-1;this.node.branches.splice(t,0,U[this.node.type].createBranch(t+1))}deepCopy(t){return JSON.parse(JSON.stringify(t))}copyBranch(t){const o=this.deepCopy(this.node.branches[t]);o.name=o.name+"-copy";const i=this.deepCopy(this.node.branches[t]);re(o),re(i),this.node.branches.splice(t+1,0,i)}deleteBranch(t){this.node.branches.length<=2?this.delete.emit({branch:this.branch,index:this.index}):this.node.branches.splice(t,1)}moveL(t){this.exchange(this.node.branches,t,t-1)}moveR(t){this.exchange(this.node.branches,t,t+1)}exchange(t,o,i){const r=t[o];t[o]=t[i],t[i]=r}selectFun(t,o){}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-recursive-node"]],viewQuery:function(o,i){if(1&o&&e.GBs(Pi,5),2&o){let r;e.mGM(r=e.lsd())&&(i.nodeRefs=r)}},inputs:{readonly:"readonly",node:"node",branch:"branch",index:"index",eruptBuild:"eruptBuild"},outputs:{nodeChange:"nodeChange",select:"select",delete:"delete",insertNode:"insertNode"},decls:7,vars:6,consts:[[3,"ngSwitch"],[3,"readonly","model","eruptBuild","branch","index","modelChange","insertNode","delete","select",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"readonly","modelValue","eruptBuild","branch","index","modelValueChange","insertNode","delete","select",4,"ngSwitchCase"],["class","p-gateway",4,"ngSwitchDefault"],[3,"readonly","model","eruptBuild","branch","index","modelChange","insertNode","delete","select"],["startNode",""],[3,"readonly","modelValue","eruptBuild","branch","index","modelValueChange","insertNode","delete","select"],["flexNode",""],["approvalNode",""],["ccNode",""],[1,"p-gateway"],[1,"p-branch"],["nz-button","","nzType","default","nzShape","round","class","p-gateway-add",3,"click",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],[3,"readonly","showBody","insertFlexNode","insertNode"],["nz-button","","nzType","default","nzShape","round",1,"p-gateway-add",3,"click"],[3,"readonly","modelValue","index","eruptBuild","branch","moveRn","moveLn","isDefault","gatewayType","modelValueChange","insertNode","delete","copy","moveL","moveR","select"],["branchNode",""],[4,"ngFor","ngForOf"],[3,"eruptBuild","readonly","node","branch","index","nodeChange","insertNode","delete","select"],["childNodeRef",""]],template:function(o,i){1&o&&(e.qex(0,0),e.DNE(1,Di,2,5,"app-start-node",1),e.DNE(2,ji,1,0,"app-end-node",2),e.DNE(3,Bi,2,5,"erupt-flex-node",3),e.DNE(4,Ri,2,5,"app-approval-node",3),e.DNE(5,Gi,2,5,"app-cc-node",3),e.DNE(6,Xi,5,8,"div",4),e.bVm()),2&o&&(e.Y8G("ngSwitch",i.node.type),e.R7$(1),e.Y8G("ngSwitchCase",i.nodeType.START),e.R7$(1),e.Y8G("ngSwitchCase",i.nodeType.END),e.R7$(1),e.Y8G("ngSwitchCase",i.nodeType.FlEX),e.R7$(1),e.Y8G("ngSwitchCase",i.nodeType.APPROVAL),e.R7$(1),e.Y8G("ngSwitchCase",i.nodeType.CC))},dependencies:[l.Sq,l.bT,l.ux,l.e1,l.fG,x.aO,w.c,T.p,ve,Ge,Ve,ae,Y,n,$e,Ue],styles:['.p-gateway[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;width:100%}.p-gateway[_ngcontent-%COMP%]   .p-gateway-add[_ngcontent-%COMP%]{z-index:2;top:-16px;position:absolute}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;background:#f5f5f5;width:100%}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:before, .p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:after{content:"";position:absolute;left:160px;right:160px;height:2px;background:#d9d9d9;z-index:0}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:before{top:0}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]:after{bottom:0}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%]{position:relative;padding:0 60px;display:flex;justify-content:center}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{z-index:1;margin-top:40px;display:flex;flex-direction:column;align-items:center}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .p-node[_ngcontent-%COMP%]:last-child   [_ngcontent-%COMP%]:deep(.p-node-add):after{display:none!important}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   .p-branch-item[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#d9d9d9;height:100%;width:2px}.p-gateway[_ngcontent-%COMP%]   .p-branch[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.p-branch-end   .p-node-add)[_ngcontent-%COMP%]:after{display:none!important}']})}}return n})();const Ui=["canvasContainer"],Hi=["node"];function Qi(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"app-recursive-node",13,14),e.bIt("nodeChange",function(i){const s=e.eBV(t).index,p=e.XpG();return p.modelValue[s]=i,e.Njj(p.modelValueChange.emit(p.modelValue))})("select",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.selectNode(i))})("delete",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.deleteNode(i.branch,i.index))})("insertNode",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.insertNode(i.branch,i.index,i.type))}),e.k0s(),e.bVm()}if(2&n){const t=a.$implicit,o=a.index,i=e.XpG();e.R7$(1),e.Y8G("readonly",i.readonly)("eruptBuild",i.eruptBuild)("node",t)("branch",i.modelValue)("index",o)}}let Wi=(()=>{class n{constructor(t){this.message=t,this.modelValue=[],this.readonly=!1,this.modelValueChange=new e.bkB,this.select=new e.bkB,this.isDragging=!1,this.startX=0,this.startY=0,this.startScrollLeft=0,this.startScrollTop=0,this.scale=1,this.minScale=.1,this.maxScale=3,this.scaleStep=.1,this.zoomSupported=this.checkZoomSupport()}checkZoomSupport(){const t=document.createElement("div");return t.style.zoom="1.1","1.1"===t.style.zoom}ngAfterViewInit(){this.initCanvasDrag()}ngOnInit(){this.modelValue||(this.modelValue=[(new ve).create(),(new Ue).create()],this.modelValueChange.emit(this.modelValue))}initCanvasDrag(){if(this.canvasContainer){const t=this.canvasContainer.nativeElement;t.style.cursor="grab",t.style.userSelect="none"}}getScrollableContainer(){if(!this.canvasContainer)return null;let t=this.canvasContainer.nativeElement.parentElement;for(;t;){const o=window.getComputedStyle(t);if("auto"===o.overflow||"scroll"===o.overflow||"auto"===o.overflowX||"scroll"===o.overflowX||"auto"===o.overflowY||"scroll"===o.overflowY)return t;t=t.parentElement}return this.canvasContainer.nativeElement.closest(".flow")}getProcessRenderElement(){return this.canvasContainer?this.canvasContainer.nativeElement.querySelector(".process"):null}applyScale(){const t=this.getProcessRenderElement();t&&(this.zoomSupported?(t.style.zoom=this.scale.toString(),t.style.transform="",t.style.transformOrigin=""):(t.style.transform=`scale(${this.scale})`,t.style.transformOrigin="center center",t.style.zoom=""))}onMouseDown(t){const o=t.target,i=this.canvasContainer?.nativeElement;if(i&&(o===i||i.contains(o))){if(o.closest("button, input, select, textarea, [contenteditable], .node-input, .node-edit, .node-delete, .insert-btn"))return;this.isDragging=!0,this.startX=t.clientX,this.startY=t.clientY;const s=this.getScrollableContainer();s&&(this.startScrollLeft=s.scrollLeft,this.startScrollTop=s.scrollTop),i.style.cursor="grabbing"}}onMouseMove(t){if(this.isDragging){const o=this.startX-t.clientX,i=this.startY-t.clientY,r=this.getScrollableContainer();r&&(r.scrollLeft=this.startScrollLeft+o,r.scrollTop=this.startScrollTop+i),t.preventDefault()}}onMouseUp(t){this.isDragging&&(this.isDragging=!1,this.canvasContainer.nativeElement.style.cursor="grab")}onMouseLeave(t){this.isDragging&&(this.isDragging=!1,this.canvasContainer.nativeElement.style.cursor="grab")}selectNode(t){this.select.emit(t)}doZoom(t){this.scale=t>0?Math.min(this.maxScale,this.scale+this.scaleStep):Math.max(this.minScale,this.scale-this.scaleStep),this.applyScale()}doHit(){this.scale=1,this.applyScale();const t=this.getScrollableContainer();if(t){const o=t.scrollWidth-t.clientWidth;t.scrollLeft=o>0?o/2:0,t.scrollTop=0}}deleteNode(t,o){t.splice(o,1),this.modelValueChange.emit(this.modelValue)}insertNode(t,o,i){if(U[i]&&U[i].create){const r=U[i].create();t.splice(o+1,0,r),this.modelValueChange.emit(this.modelValue)}}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(R.xh))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flow"]],viewQuery:function(o,i){if(1&o&&(e.GBs(Ui,5),e.GBs(Hi,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.canvasContainer=r.first),e.mGM(r=e.lsd())&&(i.nodeRefs=r)}},hostBindings:function(o,i){1&o&&e.bIt("mousedown",function(s){return i.onMouseDown(s)})("mousemove",function(s){return i.onMouseMove(s)})("mouseup",function(s){return i.onMouseUp(s)})("mouseleave",function(s){return i.onMouseLeave(s)})},inputs:{modelValue:"modelValue",eruptBuild:"eruptBuild",readonly:"readonly"},outputs:{modelValueChange:"modelValueChange",select:"select"},decls:16,vars:5,consts:[[1,"flow"],[1,"p-operation"],[1,"p-operation-zoom"],["nz-button","","nzSize","small",3,"click"],["nz-icon","","nzType","minus"],[1,"zoom-text"],["nz-button","","nzSize","small","title","\u91cd\u7f6e\u89c6\u56fe",3,"click"],["nz-icon","","nzType","reload"],["nz-icon","","nzType","plus"],[1,"canvas-container",2,"width","100%","height","100%","position","relative"],["canvasContainer",""],[1,"process"],[4,"ngFor","ngForOf"],[3,"readonly","eruptBuild","node","branch","index","nodeChange","select","delete","insertNode"],["node",""]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return i.doZoom(-1)}),e.nrm(4,"span",4),e.k0s(),e.j41(5,"span",5),e.EFF(6),e.nI1(7,"number"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return i.doHit()}),e.nrm(9,"span",7),e.k0s(),e.j41(10,"button",3),e.bIt("click",function(){return i.doZoom(1)}),e.nrm(11,"span",8),e.k0s()()(),e.j41(12,"div",9,10)(14,"div",11),e.DNE(15,Qi,3,5,"ng-container",12),e.k0s()()()),2&o&&(e.R7$(6),e.SpI("",e.i5U(7,2,100*i.scale,"1.0-0"),"%"),e.R7$(9),e.Y8G("ngForOf",i.modelValue))},dependencies:[l.Sq,x.aO,w.c,T.p,h.Dn,Yi,l.QX],styles:[".flow[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;position:relative}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;z-index:99;transition:all .3s ease}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,.9);border-radius:6px;padding:8px;box-shadow:0 2px 8px #00000026;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]   .zoom-text[_ngcontent-%COMP%]{padding:0 12px;font-size:14px;color:var(--text-color);font-weight:500;min-width:50px;text-align:center}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 2px}.flow[_ngcontent-%COMP%]   .p-operation[_ngcontent-%COMP%]   .p-operation-zoom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{cursor:grab;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;position:relative;width:100%;height:100%}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]:active{cursor:grabbing}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:100%;min-height:100%;padding:20px;width:max-content;height:max-content;transform-origin:center center}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .process-node[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-bottom:20px;min-width:200px}.flow[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   .process[_ngcontent-%COMP%]   .process-end[_ngcontent-%COMP%]{text-align:center;padding:10px;border-radius:5px;background:#e5e5e5;margin-top:16px;min-width:100px}.process-designer[_ngcontent-%COMP%]{display:block;min-width:100%;min-height:100%;position:relative}"]})}}return n})();function Zi(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",15),e.bIt("click",function(i){const s=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.selectColor(s,i))}),e.k0s()}if(2&n){const t=a.$implicit,o=e.XpG();e.Aen(o.getIconOptionStyle(t)),e.AVh("selected",o.previewColor===t)}}function Ki(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(i){const s=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.selectIcon(s,i))}),e.j41(1,"div",17),e.nrm(2,"i"),e.k0s()()}if(2&n){const t=a.$implicit,o=e.XpG();e.AVh("selected",o.previewIcon===t),e.R7$(2),e.HbH(t)}}let Ji=(()=>{class n{constructor(){this.configChange=new e.bkB,this.previewIcon="fa fa-user",this.previewColor="#1890ff",this.bgColors=["#1890ff","#52c41a","#fa8c16","#f5222d","#722ed1","#13c2c2","#eb2f96","#8c8c8c","#096dd9","#389e0d","#d48806"],this.icons=["fa fa-user","fa fa-credit-card","fa fa-bell","fa fa-folder","fa fa-calendar","fa fa-car","fa fa-yen","fa fa-legal","fa fa-clock-o","fa fa-file-text","fa fa-users","fa fa-exchange","fa fa-bolt","fa fa-map-marker","fa fa-user-circle","fa fa-user-times","fa fa-file-text-o","fa fa-plane","fa fa-lightbulb-o","fa fa-pie-chart","fa fa-bullseye","fa fa-sitemap","fa fa-building","fa fa-cog","fa fa-search","fa fa-trash","fa fa-save","fa fa-print","fa fa-download","fa fa-upload","fa fa-share","fa fa-check-circle","fa fa-exclamation-triangle","fa fa-times-circle","fa fa-info-circle","fa fa-question-circle","fa fa-lock","fa fa-unlock","fa fa-eye","fa fa-eye-slash"]}ngOnInit(){this.initPreview()}initPreview(){this.previewIcon=this.selectedIcon,this.previewColor=this.selectedColor}selectIcon(t,o){o.stopPropagation(),this.previewIcon=t}selectColor(t,o){o.stopPropagation(),this.previewColor=t}confirmSelection(){this.configChange.emit({icon:this.previewIcon,color:this.previewColor})}cancelSelection(){this.previewIcon=this.selectedIcon,this.previewColor=this.selectedColor}getIconOptionStyle(t){return`background-color: ${t}`}getPreviewIconStyle(){return`background-color: ${this.previewColor}`}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-icon-color-picker"]],inputs:{selectedIcon:"selectedIcon",selectedColor:"selectedColor"},outputs:{configChange:"configChange"},decls:22,vars:7,consts:[[1,"icon-selector-content"],[1,"preview-section"],[1,"preview-display"],[1,"preview-icon"],[1,"selection-section"],[1,"color-section"],[1,"color-grid"],["class","color-item",3,"selected","style","click",4,"ngFor","ngForOf"],[1,"icon-section"],[1,"icon-grid"],["class","icon-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"action-buttons"],[1,"buttons"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],[1,"color-item",3,"click"],[1,"icon-item",3,"click"],[1,"icon-square",2,"color","#000"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"i"),e.k0s()()(),e.j41(5,"div",4)(6,"div",5)(7,"h4"),e.EFF(8,"\u9009\u62e9\u989c\u8272"),e.k0s(),e.j41(9,"div",6),e.DNE(10,Zi,1,4,"div",7),e.k0s()(),e.j41(11,"div",8)(12,"h4"),e.EFF(13,"\u9009\u62e9\u56fe\u6807"),e.k0s(),e.j41(14,"div",9),e.DNE(15,Ki,3,5,"div",10),e.k0s()()(),e.j41(16,"div",11)(17,"div",12)(18,"button",13),e.bIt("click",function(){return i.cancelSelection()}),e.EFF(19," \u53d6\u6d88 "),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return i.confirmSelection()}),e.EFF(21," \u786e\u8ba4\u9009\u62e9 "),e.k0s()()()()),2&o&&(e.R7$(3),e.Aen(i.getPreviewIconStyle()),e.R7$(1),e.HbH(i.previewIcon),e.R7$(6),e.Y8G("ngForOf",i.bgColors),e.R7$(5),e.Y8G("ngForOf",i.icons))},dependencies:[l.Sq,x.aO,w.c,T.p],styles:[".icon-selector-content[_ngcontent-%COMP%]{width:550px;max-width:90vw;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px #0000001f}.icon-selector-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:24px 24px 20px;text-align:center}.icon-selector-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#fff}.icon-selector-content[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#fffc;line-height:1.4}.icon-selector-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:15px;font-weight:600;color:#262626}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]{padding:12px;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border-bottom:1px solid #e8e8e8}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 4px 16px #0003;transition:all .3s ease}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-info[_ngcontent-%COMP%]{text-align:center}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-info[_ngcontent-%COMP%]   .preview-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#262626;margin-bottom:6px}.icon-selector-content[_ngcontent-%COMP%]   .preview-section[_ngcontent-%COMP%]   .preview-display[_ngcontent-%COMP%]   .preview-info[_ngcontent-%COMP%]   .preview-color[_ngcontent-%COMP%]{font-size:13px;color:#666;background:rgba(255,255,255,.8);padding:4px 12px;border-radius:12px;display:inline-block}.icon-selector-content[_ngcontent-%COMP%]   .selection-section[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;gap:24px}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;cursor:pointer;border:3px solid transparent;transition:all .3s ease;position:relative}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-item[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 4px 12px #00000040}.icon-selector-content[_ngcontent-%COMP%]   .color-section[_ngcontent-%COMP%]   .color-grid[_ngcontent-%COMP%]   .color-item.selected[_ngcontent-%COMP%]{border-color:#1890ff;box-shadow:0 0 0 3px #1890ff4d}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:6px;padding:2px;max-height:280px;overflow-y:auto}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:8px;padding:6px;transition:all .3s ease;text-align:center;border:2px solid transparent;display:flex;justify-content:center}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]:hover{background-color:#f0f8ff;transform:scale(1.08);border-color:#d6e4ff}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item.selected[_ngcontent-%COMP%]{background-color:#e6f7ff;border-color:#1890ff;box-shadow:0 0 0 2px #1890ff33}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-square[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px;transition:all .3s ease;box-shadow:0 2px 8px #00000026}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-square[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.icon-selector-content[_ngcontent-%COMP%]   .icon-section[_ngcontent-%COMP%]   .icon-grid[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{font-size:11px;color:#666;line-height:1.3;word-break:break-word;max-width:100%;font-weight:500}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:12px;background:#fafafa;border-top:1px solid #e8e8e8}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px;height:36px;border-radius:6px;font-weight:500;transition:all .3s ease}.icon-selector-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}"]})}}return n})();const qi=["iconPopover"];function er(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-icon-color-picker",35),e.bIt("configChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onIconColorConfigChange(i))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("selectedIcon",t.flowConfig.icon)("selectedColor",t.flowConfig.color)}}function tr(n,a){if(1&n&&e.nrm(0,"nz-option",36),2&n){const t=a.$implicit;e.Y8G("nzValue",t)("nzLabel",t.name)}}function nr(n,a){1&n&&(e.j41(0,"span"),e.EFF(1,"\u5206\u7ec4\u4e3a\u7a7a,\u8bf7\u9009\u62e9"),e.k0s())}function or(n,a){1&n&&e.DNE(0,nr,2,0,"span",37),2&n&&e.Y8G("ngIf",a.$implicit.hasError("required"))}function ir(n,a){if(1&n&&e.nrm(0,"nz-option",36),2&n){const t=a.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function rr(n,a){if(1&n&&e.nrm(0,"nz-option",36),2&n){const t=a.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}const ar=function(n){return{background:n}},sr=function(){return{minRows:3,maxRows:5}};function cr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"label",20),e.EFF(4,"\u56fe\u6807"),e.k0s(),e.j41(5,"div",21)(6,"div",22)(7,"div",23),e.nrm(8,"i"),e.k0s()(),e.j41(9,"button",24,25),e.bIt("nzPopoverVisibleChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.iconPickVisibleChange(i))}),e.EFF(11," \u4fee\u6539 "),e.k0s()(),e.DNE(12,er,1,2,"ng-template",null,26,e.C5r),e.k0s(),e.j41(14,"div",19)(15,"label",20),e.EFF(16,"\u540d\u79f0"),e.k0s(),e.j41(17,"input",27),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.flowConfig.name=i)}),e.k0s()(),e.j41(18,"div",19)(19,"label",20),e.EFF(20,"\u5206\u7ec4"),e.k0s(),e.j41(21,"nz-select",28),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.flowConfig.flowGroup=i)}),e.DNE(22,tr,1,2,"nz-option",29),e.k0s(),e.DNE(23,or,1,1,"ng-template",null,30,e.C5r),e.k0s(),e.j41(25,"div",19)(26,"label",20),e.EFF(27,"\u6570\u636e\u6a21\u578b"),e.k0s(),e.j41(28,"nz-select",31),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.flowConfig.erupt=i)})("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.changeErupt(i))}),e.DNE(29,ir,1,2,"nz-option",29),e.k0s()(),e.j41(30,"div",19)(31,"label",32),e.EFF(32,"\u8bf4\u660e"),e.k0s(),e.j41(33,"textarea",33),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.flowConfig.remark=i)}),e.k0s()(),e.j41(34,"div",19)(35,"label",20),e.EFF(36,"\u8c01\u53ef\u4ee5\u63d0\u4ea4\u8be5\u5ba1\u6279"),e.k0s(),e.j41(37,"nz-select",34),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.flowConfig.permission=i)})("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.changeSubmitPermission(i))}),e.DNE(38,rr,1,2,"nz-option",29),e.k0s()()()()}if(2&n){const t=e.sdS(13),o=e.XpG();e.R7$(7),e.Aen(e.eq3(17,ar,o.flowConfig.color)),e.R7$(1),e.HbH(o.flowConfig.icon),e.R7$(1),e.Y8G("nzPopoverContent",t)("nzPopoverVisible",o.iconPickVisible),e.R7$(8),e.Y8G("ngModel",o.flowConfig.name),e.R7$(4),e.Y8G("ngModel",o.flowConfig.flowGroup),e.R7$(1),e.Y8G("ngForOf",o.groupOptions),e.R7$(6),e.Y8G("ngModel",o.flowConfig.erupt)("disabled",(null==o.flowConfig.rule?null:o.flowConfig.rule.length)>1),e.R7$(1),e.Y8G("ngForOf",o.eruptFlows),e.R7$(4),e.Y8G("ngModel",o.flowConfig.remark)("nzAutosize",e.lJ4(19,sr)),e.R7$(4),e.Y8G("ngModel",o.flowConfig.permission),e.R7$(1),e.Y8G("ngForOf",o.submitPermissionOptions)}}function lr(n,a){1&n&&e.nrm(0,"nz-empty",40),2&n&&e.Y8G("nzNotFoundContent","\u8bf7\u9009\u62e9\u6570\u636e\u6a21\u578b")}function pr(n,a){if(1&n&&(e.qex(0),e.j41(1,"div",41)(2,"div",42)(3,"div",43),e.nrm(4,"erupt-flow-form",44),e.k0s()()(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("eruptBuild",t.eruptBuild)("readonly",!1)}}function dr(n,a){if(1&n&&(e.j41(0,"div",38),e.DNE(1,lr,1,1,"nz-empty",39),e.DNE(2,pr,5,2,"ng-container",37),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.flowConfig.erupt),e.R7$(1),e.Y8G("ngIf",t.eruptBuild)}}function ur(n,a){1&n&&e.nrm(0,"nz-empty",40),2&n&&e.Y8G("nzNotFoundContent","\u8bf7\u9009\u62e9\u6570\u636e\u6a21\u578b")}function mr(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"erupt-flow",45),e.bIt("modelValueChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.flowConfig.rule=i)}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("modelValue",t.flowConfig.rule)("eruptBuild",t.eruptBuild)}}function hr(n,a){if(1&n&&(e.j41(0,"div",38),e.DNE(1,ur,1,1,"nz-empty",39),e.DNE(2,mr,2,2,"ng-container",37),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.flowConfig.erupt),e.R7$(1),e.Y8G("ngIf",t.eruptBuild)}}let gr=(()=>{class n{constructor(t,o,i,r){this.flowApiService=t,this.modal=o,this.msg=i,this.flowDataService=r,this.flexNodes=[],this.iconPickVisible=!1,this.currentStep=1,this.eruptFlows=[],this.groupOptions=[],this.submitPermissionOptions=[{label:"\u5168\u5458",value:"all"},{label:"\u90e8\u95e8\u4e3b\u7ba1",value:"manager"},{label:"\u6307\u5b9a\u4eba\u5458",value:"specific"},{label:"\u5747\u4e0d\u53ef\u63d0\u4ea4",value:"no"}],this.closeConfig=new e.bkB}ngOnInit(){this.flowConfig={icon:"fa fa-user",color:"#1890ff",setting:{}},this.flowApiService.groupList().subscribe(t=>{this.groupOptions=t.data,this.flowId&&this.flowApiService.configGet(this.flowId).subscribe(o=>{o.success&&o.data&&(this.flowConfig=o.data,this.matchFlowGroupReference(),this.flowConfig.erupt&&this.changeErupt(this.flowConfig.erupt))})}),this.flowApiService.eruptFlows().subscribe(t=>{this.eruptFlows=t.data}),this.flowApiService.flexNodes().subscribe(t=>{this.flexNodes=t.data})}ngAfterViewInit(){}changeErupt(t){this.flowApiService.eruptFlowBuild(t).subscribe(o=>{this.eruptBuild=o.data,this.eruptBuild.eruptModel.eruptJson.layout.formSize=d.c8.FULL_LINE,this.eruptBuild.eruptModel.eruptFieldModelMap=new Map,this.eruptBuild.eruptModel.eruptFieldModels.forEach(i=>{this.eruptBuild.eruptModel.eruptFieldModelMap.set(i.fieldName,i)})})}changeSubmitPermission(t){"specific"==t&&this.modal.create({nzTitle:"\u8bf7\u9009\u62e9\u53ef\u89c1\u8303\u56f4",nzWidth:"880px",nzStyle:{top:"30px"},nzBodyStyle:{padding:"0"},nzContent:Fi})}matchFlowGroupReference(){if(this.flowConfig.flowGroup&&this.groupOptions.length>0){const t=this.groupOptions.find(o=>o.id===this.flowConfig.flowGroup.id);t&&(this.flowConfig.flowGroup=t)}}onDocumentClick(t){}switchStep(t){this.currentStep=t}onIconColorConfigChange(t){this.flowConfig.icon=t.icon,this.flowConfig.color=t.color,this.iconPickVisible=!1}iconPickVisibleChange(t){this.iconPickVisible=t}preview(){console.log("\u9884\u89c8\u5ba1\u6279\u6d41\u7a0b")}publish(){this.flowId?this.flowApiService.configUpdate(this.flowConfig).subscribe(t=>{t.success&&(this.msg.success("\u53d1\u5e03\u6210\u529f"),this.closeConfig.emit())}):this.flowApiService.configAdd(this.flowConfig).subscribe(t=>{t.success&&(this.msg.success("\u53d1\u5e03\u6210\u529f"),this.closeConfig.emit())})}close(){this.modal.confirm({nzTitle:"\u63d0\u793a",nzContent:"\u662f\u5426\u653e\u5f03\u5f53\u524d\u7f16\u8f91\uff1f",nzOkText:"\u786e\u5b9a",nzCancelText:"\u53d6\u6d88",nzOnOk:()=>{this.modal.closeAll(),this.closeConfig.emit()}})}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E),e.rXU(V.N_),e.rXU(R.xh),e.rXU(se))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-flow-config"]],viewQuery:function(o,i){if(1&o&&e.GBs(qi,5),2&o){let r;e.mGM(r=e.lsd())&&(i.iconPopover=r.first)}},hostBindings:function(o,i){1&o&&e.bIt("click",function(s){return i.onDocumentClick(s)},!1,e.EBC)},inputs:{flowId:"flowId"},outputs:{closeConfig:"closeConfig"},decls:31,vars:9,consts:[[1,"flow-config-container"],[1,"header"],[1,"header-left"],["nz-button","","nzType","text",1,"back-btn",3,"click"],["nz-icon","","nzType","close"],[1,"title-section"],[1,"title"],[1,"header-center"],[1,"step-nav"],[1,"step-item",3,"click"],[1,"step-number"],[1,"step-text"],[1,"header-right"],["nz-button","","nzType","primary",1,"publish-btn",3,"click"],[1,"main-content"],["class","form-section",4,"ngIf"],["class","step-placeholder",4,"ngIf"],[1,"form-section"],[1,"flow-form"],[1,"form-item"],[1,"form-label","required"],[1,"icon-section"],[1,"icon-display"],[1,"icon-circle"],["nz-button","","nzType","link","nz-popover","","nzPopoverTrigger","click","nzPopoverPlacement","topRight",1,"modify-link",3,"nzPopoverContent","nzPopoverVisible","nzPopoverVisibleChange"],["iconPopover",""],["iconSelectorContent",""],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u540d\u79f0","name","name",1,"form-input",3,"ngModel","ngModelChange"],["placeholder","\u8bf7\u9009\u62e9\u5206\u7ec4",1,"form-select",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["groupErrorTpl",""],[1,"form-select",3,"ngModel","disabled","ngModelChange"],[1,"form-label"],["nz-input","","placeholder","\u8bf4\u660e",1,"form-textarea",3,"ngModel","nzAutosize","ngModelChange"],["placeholder","\u8bf7\u9009\u62e9\u63d0\u4ea4\u6743\u9650",1,"form-select",3,"ngModel","ngModelChange"],[3,"selectedIcon","selectedColor","configChange"],[3,"nzValue","nzLabel"],[4,"ngIf"],[1,"step-placeholder"],["nzNotFoundImage","simple",3,"nzNotFoundContent",4,"ngIf"],["nzNotFoundImage","simple",3,"nzNotFoundContent"],[2,"display","flex","justify-content","center","height","100%","padding","16px"],[1,"phone-wrapper"],[1,"phone-wrapper-screen"],[3,"eruptBuild","readonly"],[3,"modelValue","eruptBuild","modelValueChange"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.bIt("click",function(){return i.close()}),e.nrm(4,"i",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"h2",6),e.k0s()(),e.j41(7,"div",7)(8,"div",8)(9,"div",9),e.bIt("click",function(){return i.switchStep(1)}),e.j41(10,"span",10),e.EFF(11,"1"),e.k0s(),e.j41(12,"span",11),e.EFF(13,"\u57fa\u7840\u4fe1\u606f"),e.k0s()(),e.j41(14,"div",9),e.bIt("click",function(){return i.switchStep(2)}),e.j41(15,"span",10),e.EFF(16,"2"),e.k0s(),e.j41(17,"span",11),e.EFF(18,"\u8868\u5355\u9884\u89c8"),e.k0s()(),e.j41(19,"div",9),e.bIt("click",function(){return i.switchStep(3)}),e.j41(20,"span",10),e.EFF(21,"3"),e.k0s(),e.j41(22,"span",11),e.EFF(23,"\u6d41\u7a0b\u8bbe\u8ba1"),e.k0s()()()(),e.j41(24,"div",12)(25,"button",13),e.bIt("click",function(){return i.publish()}),e.EFF(26," \u53d1\u5e03 "),e.k0s()()(),e.j41(27,"div",14),e.DNE(28,cr,39,20,"div",15),e.DNE(29,dr,3,2,"div",16),e.DNE(30,hr,3,2,"div",16),e.k0s()()),2&o&&(e.R7$(9),e.AVh("active",1===i.currentStep),e.R7$(5),e.AVh("active",2===i.currentStep),e.R7$(5),e.AVh("active",3===i.currentStep),e.R7$(9),e.Y8G("ngIf",1===i.currentStep),e.R7$(1),e.Y8G("ngIf",2==i.currentStep),e.R7$(1),e.Y8G("ngIf",3==i.currentStep))},dependencies:[l.Sq,l.bT,u.me,u.BC,u.vS,x.aO,w.c,T.p,ge.L_,K.ld,K.WI,h.Dn,_.Sy,_.c9,j.RW,Wi,Ji,le],styles:['[_nghost-%COMP%]     .flow-config-container{height:100vh;display:flex;flex-direction:column;background-color:#f5f5f5}[_nghost-%COMP%]     .header{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;background-color:#fff;border-bottom:1px solid #e8e8e8;box-shadow:0 2px 8px #0000000f;z-index:1000}[_nghost-%COMP%]     .header .header-left{display:flex;align-items:center;gap:16px}[_nghost-%COMP%]     .header .header-left .back-btn{padding:4px 8px;border:none;background:transparent;color:#666;cursor:pointer}[_nghost-%COMP%]     .header .header-left .back-btn:hover{color:#1890ff}[_nghost-%COMP%]     .header .header-left .title-section .title{margin:0;font-size:18px;font-weight:600;color:#262626}[_nghost-%COMP%]     .header .header-left .title-section .draft-status{display:flex;align-items:center;gap:4px;margin-top:4px;font-size:12px;color:#8c8c8c;cursor:pointer}[_nghost-%COMP%]     .header .header-left .title-section .draft-status:hover{color:#1890ff}[_nghost-%COMP%]     .header .header-center .step-nav{display:flex;gap:32px}[_nghost-%COMP%]     .header .header-center .step-nav .step-item{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:6px;cursor:pointer;transition:all .3s}[_nghost-%COMP%]     .header .header-center .step-nav .step-item:hover{background-color:#f0f8ff}[_nghost-%COMP%]     .header .header-center .step-nav .step-item.active{background-color:#e6f7ff;color:#1890ff}[_nghost-%COMP%]     .header .header-center .step-nav .step-item.active .step-number{background-color:#1890ff;color:#fff}[_nghost-%COMP%]     .header .header-center .step-nav .step-item .step-number{display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;background-color:#d9d9d9;color:#666;font-size:12px;font-weight:600}[_nghost-%COMP%]     .header .header-center .step-nav .step-item .step-text{font-size:14px;font-weight:500}[_nghost-%COMP%]     .header .header-right{display:flex;align-items:center;gap:16px}[_nghost-%COMP%]     .header .header-right .incomplete-items{display:flex;align-items:center;gap:4px;padding:4px 8px;font-size:12px;color:#ff4d4f;cursor:pointer}[_nghost-%COMP%]     .header .header-right .incomplete-items:hover{background-color:#fff2f0;border-radius:4px}[_nghost-%COMP%]     .header .header-right .preview-btn{border-color:#1890ff;color:#1890ff}[_nghost-%COMP%]     .header .header-right .publish-btn{background-color:#1890ff;border-color:#1890ff}[_nghost-%COMP%]     .main-content{flex:1;overflow-y:auto}[_nghost-%COMP%]     .main-content .step-placeholder{height:100%}[_nghost-%COMP%]     .main-content .step-placeholder[hidden]{display:none!important}[_nghost-%COMP%]     .main-content .phone-wrapper{width:340px;height:100%;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border-radius:22px;border:8px solid #2c3e50;box-shadow:0 20px 40px #00000026,0 8px 16px #0000001a,inset 0 1px #fff3,inset 0 -1px #0000001a;position:relative;margin:0 auto;display:flex;flex-direction:column}[_nghost-%COMP%]     .main-content .phone-wrapper:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%);width:120px;height:24px;background:#2c3e50;border-radius:0 0 12px 12px;z-index:10;pointer-events:none}[_nghost-%COMP%]     .main-content .phone-wrapper:after{content:"";position:absolute;bottom:8px;left:50%;transform:translate(-50%);width:120px;height:4px;background:#2c3e50;border-radius:2px;z-index:10;pointer-events:none}[_nghost-%COMP%]     .main-content .phone-wrapper .phone-wrapper-screen{flex:1;background:#fff;width:100%;padding:12px;border-radius:12px;border:2px solid rgba(255,255,255,.1);box-shadow:inset 0 2px 4px #0000001a,0 4px 8px #0000001a;position:relative;overflow:auto}[_nghost-%COMP%]     .main-content .phone-wrapper .phone-wrapper-screen:before{content:"";position:absolute;top:0;left:0;right:0;height:30%;background:linear-gradient(135deg,rgba(255,255,255,.1) 0%,rgba(255,255,255,.05) 50%,transparent 100%);pointer-events:none;z-index:1}[_nghost-%COMP%]     .main-content .form-section{max-width:800px;padding:32px;background-color:#fff;margin:16px auto;box-shadow:0 2px 8px #0000000f}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item{margin-bottom:24px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .form-label{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#262626}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .form-label.required:after{content:" *";color:#ff4d4f}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section{display:flex;align-items:center;gap:16px;position:relative}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-display{display:flex;align-items:center;gap:12px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-display .icon-circle{width:50px;height:50px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:32px;color:#fff;box-shadow:0 4px 12px #00000026;transition:all .3s}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-display .icon-circle i{font-size:26px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-display .icon-info .icon-name{font-size:14px;font-weight:500;color:#262626;margin-bottom:4px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-display .icon-info .icon-color{font-size:12px;color:#8c8c8c}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .modify-link{color:#1890ff;padding:0;height:auto;border:none;background:transparent}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .modify-link:hover{color:#40a9ff}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .form-input, [_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .form-textarea, [_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .form-select{width:100%}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .checkbox-group{display:flex;flex-direction:column;gap:16px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .checkbox-group .checkbox-item{display:flex;align-items:center;gap:8px;font-size:14px;color:#262626}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .checkbox-group .checkbox-item .help-icon{color:#8c8c8c;cursor:pointer}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .checkbox-group .checkbox-item .help-icon:hover{color:#1890ff}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list{display:flex;flex-direction:column;gap:12px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid #e8e8e8;border-radius:6px;background-color:#fafafa}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;color:#fff}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info{flex:1}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info .admin-name{font-size:14px;font-weight:500;color:#262626;margin-bottom:4px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info .admin-actions{display:flex;gap:16px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info .admin-actions .action-link{padding:0;height:auto;border:none;background:transparent;color:#1890ff;font-size:12px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info .admin-actions .action-link:hover{color:#40a9ff}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info .admin-actions .action-link.delete-link{color:#ff4d4f}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .admin-item .admin-info .admin-actions .action-link.delete-link:hover{color:#ff7875}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .add-admin-btn{width:100%;height:48px;border:2px dashed #d9d9d9;border-radius:6px;background-color:transparent;color:#8c8c8c;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .add-admin-btn:hover{border-color:#1890ff;color:#1890ff}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .admin-section .admin-list .add-admin-btn i{font-size:16px}[_nghost-%COMP%]     .main-content .form-section .flow-form .action-buttons{display:flex;justify-content:flex-end;padding:12px;background:#fafafa;border-top:1px solid #e8e8e8}[_nghost-%COMP%]     .main-content .form-section .flow-form .action-buttons .buttons{display:flex;gap:12px}[_nghost-%COMP%]     .main-content .form-section .flow-form .action-buttons .buttons button{min-width:80px;height:36px;border-radius:6px;font-weight:500;transition:all .3s ease}[_nghost-%COMP%]     .main-content .form-section .flow-form .action-buttons .buttons button:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}@media (max-width: 768px){[_nghost-%COMP%]     .header{flex-direction:column;gap:16px;padding:12px 16px}[_nghost-%COMP%]     .header .header-center .step-nav{gap:16px}[_nghost-%COMP%]     .header .header-center .step-nav .step-item{padding:6px 12px}[_nghost-%COMP%]     .header .header-center .step-nav .step-item .step-text{display:none}[_nghost-%COMP%]     .header .header-right{width:100%;justify-content:space-between}[_nghost-%COMP%]     .main-content .form-section{padding:20px}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-selector{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90vw;max-width:400px;max-height:80vh;overflow-y:auto}[_nghost-%COMP%]     .main-content .form-section .flow-form .form-item .icon-section .icon-selector .icon-section-selector .icon-grid{grid-template-columns:repeat(6,1fr)}}']})}}return n})();function fr(n,a){1&n&&e.nrm(0,"span",29)}function _r(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",30),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.selectCategory(r.name))}),e.j41(1,"div",31)(2,"span",18),e.EFF(3),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()(),e.j41(6,"div",32)(7,"button",33),e.bIt("click",function(i){const s=e.eBV(t).$implicit;return e.XpG().onEditGroup(s),e.Njj(i.stopPropagation())}),e.nrm(8,"span",34),e.k0s(),e.j41(9,"button",35),e.bIt("click",function(i){const s=e.eBV(t).$implicit;return e.XpG().onDeleteGroup(s),e.Njj(i.stopPropagation())}),e.nrm(10,"span",36),e.k0s(),e.j41(11,"button",37),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(12,"span"),e.EFF(13,"\u22ee\u22ee"),e.k0s()()()()}if(2&n){const t=a.$implicit,o=e.XpG();e.AVh("active",o.selectedCategory===t.name),e.R7$(3),e.JRh(t.name),e.R7$(2),e.SpI("(",t.count,")")}}function Cr(n,a){1&n&&(e.j41(0,"nz-tag",52),e.EFF(1," \u5df2\u505c\u7528 "),e.k0s())}function xr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",38)(1,"div",39)(2,"div",40),e.nrm(3,"span"),e.k0s(),e.j41(4,"div",41)(5,"div",42),e.EFF(6),e.DNE(7,Cr,2,0,"nz-tag",43),e.k0s(),e.j41(8,"div",44),e.EFF(9),e.k0s()()(),e.j41(10,"div",45)(11,"button",46),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onEdit(r))}),e.nrm(12,"span",34),e.k0s(),e.j41(13,"button",47),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onDuplicate(r))}),e.nrm(14,"span",48),e.k0s(),e.j41(15,"button",49),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onToggleVisibility(r))}),e.nrm(16,"span",50),e.k0s(),e.j41(17,"button",51),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onDelete(r))}),e.nrm(18,"span",36),e.k0s()()()}if(2&n){const t=a.$implicit;e.R7$(2),e.xc7("background-color",t.color||"#1890ff"),e.R7$(1),e.HbH(t.icon||"fa fa-dot-circle-o"),e.R7$(3),e.SpI(" ",t.name," "),e.R7$(1),e.Y8G("ngIf",!t.enable),e.R7$(2),e.JRh(t.remark||""),e.R7$(6),e.Y8G("nz-tooltip",t.enable?"\u505c\u7528":"\u542f\u7528"),e.R7$(1),e.xc7("color",t.enable?"":"#52c41a"),e.Y8G("nzType",t.enable?"stop":"check")}}function vr(n,a){1&n&&(e.j41(0,"div",53),e.nrm(1,"nz-empty",54),e.k0s()),2&n&&(e.R7$(1),e.Y8G("nzNotFoundImage","simple"))}function zr(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"input",55),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.createGroupName=i)})("keyup.enter",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleCreateGroup())}),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngModel",t.createGroupName)}}function br(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div")(2,"input",55),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.editGroupName=i)})("keyup.enter",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.handleEditGroup())}),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("ngModel",t.editGroupName)}}let yr=(()=>{class n{constructor(t,o,i,r){this.flowApiService=t,this.message=o,this.modal=i,this.drawerService=r,this.searchValue="",this.flowConfigs=[],this.categories=[],this.selectedCategory="",this.categoryItems=[],this.loading=!1,this.configLoading=!1,this.isCreateModalVisible=!1,this.isEditModalVisible=!1,this.createGroupName="",this.editGroupName="",this.editingGroup=null}ngOnInit(){this.loadGroups(),this.loadFlowConfigs()}loadGroups(){this.loading=!0,this.flowApiService.groupList().subscribe(t=>{this.categoryItems=t.data.map((o,i)=>({id:o.id,name:o.name,sort:o.sort||i,count:this.getConfigsByCategory(o.name).length})),this.categoryItems.sort((o,i)=>o.sort-i.sort),this.categories=this.categoryItems.map(o=>o.name),this.loading=!1})}loadFlowConfigs(){this.configLoading=!0,this.flowApiService.configList().subscribe({next:t=>{t.success&&(this.flowConfigs=t.data,this.updateCategoryCounts()),this.configLoading=!1},error:t=>{this.configLoading=!1}})}updateCategoryCounts(){this.categoryItems.forEach(t=>{t.count=this.getConfigsByCategory(t.name).length})}getConfigsByCategory(t){return this.flowConfigs.filter(o=>o.flowGroup?.name===t)}selectCategory(t){this.selectedCategory=t}getCurrentConfigs(){let t=this.flowConfigs;if(this.selectedCategory&&(t=this.getConfigsByCategory(this.selectedCategory)),this.searchValue.trim()){const o=this.searchValue.toLowerCase().trim();t=t.filter(i=>i.name.toLowerCase().includes(o)||i.remark&&i.remark.toLowerCase().includes(o))}return t}onSearch(){console.log("\u641c\u7d22:",this.searchValue)}onCreateGroup(){this.createGroupName="",this.isCreateModalVisible=!0}handleCreateGroup(){this.createGroupName&&this.createGroupName.trim()?this.addGroup(this.createGroupName.trim()):this.message.warning("\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0")}handleCreateCancel(){this.isCreateModalVisible=!1,this.createGroupName=""}addGroup(t){this.flowApiService.groupAdd(t).subscribe({next:o=>{o.success?(this.message.success("\u5206\u7ec4\u521b\u5efa\u6210\u529f"),this.isCreateModalVisible=!1,this.createGroupName="",this.loadGroups()):this.message.error(o.message||"\u521b\u5efa\u5206\u7ec4\u5931\u8d25")},error:o=>{console.error("\u521b\u5efa\u5206\u7ec4\u5931\u8d25:",o),this.message.error("\u521b\u5efa\u5206\u7ec4\u5931\u8d25")}})}onEditGroup(t){this.editingGroup=t,this.editGroupName=t.name,this.isEditModalVisible=!0}handleEditGroup(){this.editGroupName&&this.editGroupName.trim()&&this.editingGroup?.id?this.editGroup(this.editingGroup.id,this.editGroupName.trim()):this.message.warning("\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0")}handleEditCancel(){this.isEditModalVisible=!1,this.editGroupName="",this.editingGroup=null}editGroup(t,o){this.flowApiService.groupEdit(t,o).subscribe({next:i=>{i.success?(this.message.success("\u5206\u7ec4\u7f16\u8f91\u6210\u529f"),this.isEditModalVisible=!1,this.editGroupName="",this.editingGroup=null,this.loadGroups()):this.message.error(i.message||"\u7f16\u8f91\u5206\u7ec4\u5931\u8d25")},error:i=>{console.error("\u7f16\u8f91\u5206\u7ec4\u5931\u8d25:",i),this.message.error("\u7f16\u8f91\u5206\u7ec4\u5931\u8d25")}})}onDeleteGroup(t){t.id&&this.modal.confirm({nzTitle:"\u786e\u8ba4\u5220\u9664",nzContent:`\u786e\u5b9a\u8981\u5220\u9664\u5206\u7ec4"${t.name}"\u5417\uff1f`,nzOkText:"\u786e\u5b9a",nzCancelText:"\u53d6\u6d88",nzOnOk:()=>{this.flowApiService.groupDelete(t.id).subscribe({next:o=>{o.success?(this.message.success("\u5206\u7ec4\u5220\u9664\u6210\u529f"),this.loadGroups()):this.message.error(o.message||"\u5220\u9664\u5206\u7ec4\u5931\u8d25")},error:o=>{console.error("\u5220\u9664\u5206\u7ec4\u5931\u8d25:",o),this.message.error("\u5220\u9664\u5206\u7ec4\u5931\u8d25")}})}})}onDrop(t){(0,H.HD)(this.categoryItems,t.previousIndex,t.currentIndex),this.categoryItems.forEach((o,i)=>{o.sort=i}),this.categories=this.categoryItems.map(o=>o.name),this.sortGroups()}sortGroups(){const t=this.categoryItems.map(o=>o.id).filter(o=>void 0!==o);0!==t.length&&this.flowApiService.groupSort(t).subscribe({next:o=>{o.success?console.log("\u5206\u7ec4\u6392\u5e8f\u6210\u529f"):this.message.error(o.message||"\u5206\u7ec4\u6392\u5e8f\u5931\u8d25")},error:o=>{console.error("\u5206\u7ec4\u6392\u5e8f\u5931\u8d25:",o),this.message.error("\u5206\u7ec4\u6392\u5e8f\u5931\u8d25")}})}onCreateApproval(t){const o=this.drawerService.create({nzTitle:null,nzWidth:"100%",nzClosable:!1,nzMaskClosable:!1,nzContent:gr,nzContentParams:{flowId:t},nzBodyStyle:{padding:"0px"}}),i=()=>{const r=o.getContentComponent();r?r.closeConfig.subscribe(()=>{o.close(),this.loadFlowConfigs()}):setTimeout(i,50)};i()}onEdit(t){this.onCreateApproval(t.id)}onDuplicate(t){t.id?this.modal.confirm({nzTitle:"\u786e\u8ba4\u590d\u5236",nzContent:`\u786e\u5b9a\u8981\u590d\u5236\u6d41\u7a0b\u914d\u7f6e"${t.name}"\u5417\uff1f`,nzOkText:"\u786e\u5b9a",nzCancelText:"\u53d6\u6d88",nzOnOk:()=>{this.flowApiService.configCopy(t.id).subscribe({next:o=>{o.success?(this.message.success("\u6d41\u7a0b\u914d\u7f6e\u590d\u5236\u6210\u529f"),this.loadFlowConfigs()):this.message.error(o.message||"\u590d\u5236\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25")},error:o=>{console.error("\u590d\u5236\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25:",o),this.message.error("\u590d\u5236\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25")}})}}):this.message.warning("\u914d\u7f6eID\u4e0d\u5b58\u5728")}onToggleVisibility(t){if(!t.id)return void this.message.warning("\u914d\u7f6eID\u4e0d\u5b58\u5728");const o=t.enable,i=!t.enable;this.flowApiService.configSwitchEnable(t.id).subscribe({next:r=>{r.success?(t.enable=i,this.message.success(`${t.name}${i?"\u542f\u7528":"\u505c\u7528"}\u6210\u529f`)):(t.enable=o,this.message.error(r.message||(i?"\u542f\u7528":"\u505c\u7528")+"\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25"))},error:r=>{t.enable=o,console.error("\u5207\u6362\u6d41\u7a0b\u914d\u7f6e\u72b6\u6001\u5931\u8d25:",r),this.message.error("\u5207\u6362\u6d41\u7a0b\u914d\u7f6e\u72b6\u6001\u5931\u8d25")}})}onDelete(t){t.id?this.modal.confirm({nzTitle:"\u786e\u8ba4\u5220\u9664",nzContent:`\u786e\u5b9a\u8981\u5220\u9664\u6d41\u7a0b\u914d\u7f6e"${t.name}"\u5417\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u6062\u590d\u3002`,nzOkText:"\u786e\u5b9a",nzCancelText:"\u53d6\u6d88",nzOkDanger:!0,nzOnOk:()=>{this.flowApiService.configDelete(t.id).subscribe({next:o=>{o.success?(this.message.success("\u6d41\u7a0b\u914d\u7f6e\u5220\u9664\u6210\u529f"),this.loadFlowConfigs()):this.message.error(o.message||"\u5220\u9664\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25")},error:o=>{console.error("\u5220\u9664\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25:",o),this.message.error("\u5220\u9664\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25")}})}}):this.message.warning("\u914d\u7f6eID\u4e0d\u5b58\u5728")}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E),e.rXU(R.xh),e.rXU(V.N_),e.rXU(F.Nf))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-flow-management"]],decls:37,vars:12,consts:[[1,"flow-management-container"],[1,"header-section"],[1,"search-area"],[3,"nzSuffix"],["nz-input","","placeholder","\u641c\u7d22",3,"ngModel","ngModelChange"],["searchIcon",""],[1,"action-buttons"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],[1,"content-layout"],[1,"category-sidebar"],[1,"sidebar-header"],[1,"header-title"],[1,"header-actions"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u65b0\u5efa\u5206\u7ec4",3,"click"],["cdkDropList","",1,"category-list",3,"cdkDropListDropped"],[3,"nzSpinning"],[1,"category-item",3,"click"],[1,"category-name"],[1,"category-count"],["class","category-item draggable-item","cdkDrag","",3,"active","click",4,"ngFor","ngForOf"],[1,"app-content"],[1,"app-list"],["nzSize","large",2,"height","100%",3,"nzSpinning"],["class","app-item",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["nzTitle","\u65b0\u5efa\u5206\u7ec4",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzTitle","\u7f16\u8f91\u5206\u7ec4",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-icon","","nzType","search"],["cdkDrag","",1,"category-item","draggable-item",3,"click"],[1,"category-content"],[1,"category-actions"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u7f16\u8f91\u5206\u7ec4",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u5220\u9664\u5206\u7ec4",3,"click"],["nz-icon","","nzType","delete"],["nz-button","","nzType","text","nzSize","small","cdkDragHandle","",3,"click"],[1,"app-item"],[1,"app-info"],[1,"app-icon"],[1,"app-details"],[1,"app-name"],["nzColor","red",4,"ngIf"],[1,"app-description"],[1,"action-icons"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u7f16\u8f91",3,"click"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u590d\u5236",3,"click"],["nz-icon","","nzType","copy"],["nz-button","","nzType","text","nzSize","small",3,"nz-tooltip","click"],["nz-icon","",3,"nzType"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","\u5220\u9664",3,"click"],["nzColor","red"],[1,"empty-state"],[2,"margin-top","20%",3,"nzNotFoundImage"],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u5206\u7ec4\u540d\u79f0",2,"width","100%",3,"ngModel","ngModelChange","keyup.enter"]],template:function(o,i){if(1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-input-group",3)(4,"input",4),e.bIt("ngModelChange",function(s){return i.searchValue=s})("ngModelChange",function(){return i.onSearch()}),e.k0s()(),e.DNE(5,fr,1,0,"ng-template",null,5,e.C5r),e.k0s(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){return i.onCreateApproval()}),e.nrm(9,"span",8),e.EFF(10," \u521b\u5efa\u6d41\u7a0b "),e.k0s()()(),e.j41(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"h3"),e.EFF(16,"\u6d41\u7a0b\u5206\u7c7b"),e.k0s()(),e.j41(17,"div",13)(18,"button",14),e.bIt("click",function(){return i.onCreateGroup()}),e.nrm(19,"span",8),e.k0s()()(),e.j41(20,"div",15),e.bIt("cdkDropListDropped",function(s){return i.onDrop(s)}),e.j41(21,"nz-spin",16)(22,"div",17),e.bIt("click",function(){return i.selectCategory("")}),e.j41(23,"span",18),e.EFF(24,"\u5168\u90e8"),e.k0s(),e.j41(25,"span",19),e.EFF(26),e.k0s()(),e.DNE(27,_r,14,4,"div",20),e.k0s()()(),e.j41(28,"div",21)(29,"div",22)(30,"nz-spin",23),e.DNE(31,xr,19,11,"div",24),e.DNE(32,vr,2,1,"div",25),e.k0s()()()()(),e.j41(33,"nz-modal",26),e.bIt("nzVisibleChange",function(s){return i.isCreateModalVisible=s})("nzOnCancel",function(){return i.handleCreateCancel()})("nzOnOk",function(){return i.handleCreateGroup()}),e.DNE(34,zr,3,1,"ng-container",27),e.k0s(),e.j41(35,"nz-modal",28),e.bIt("nzVisibleChange",function(s){return i.isEditModalVisible=s})("nzOnCancel",function(){return i.handleEditCancel()})("nzOnOk",function(){return i.handleEditGroup()}),e.DNE(36,br,3,1,"ng-container",27),e.k0s()),2&o){const r=e.sdS(6);e.R7$(3),e.Y8G("nzSuffix",r),e.R7$(1),e.Y8G("ngModel",i.searchValue),e.R7$(17),e.Y8G("nzSpinning",!1),e.R7$(1),e.AVh("active",""===i.selectedCategory),e.R7$(4),e.SpI("(",i.flowConfigs.length,")"),e.R7$(1),e.Y8G("ngForOf",i.categoryItems),e.R7$(3),e.Y8G("nzSpinning",i.configLoading),e.R7$(1),e.Y8G("ngForOf",i.getCurrentConfigs()),e.R7$(1),e.Y8G("ngIf",!i.configLoading&&0===i.getCurrentConfigs().length),e.R7$(1),e.Y8G("nzVisible",i.isCreateModalVisible),e.R7$(2),e.Y8G("nzVisible",i.isEditModalVisible)}},dependencies:[l.Sq,l.bT,u.me,u.BC,u.vS,x.aO,w.c,T.p,k.LH,h.Dn,V.F2,V.A9,_.Sy,_.tg,_.vN,Ce.s,oe.a,H.O7,H.T1,H.Fb,j.RW],styles:["[_nghost-%COMP%]     .flow-management-container{padding:16px;margin:0 auto;background:#f0f2f5;height:calc(100vh - 44px);display:flex;flex-direction:column}[_nghost-%COMP%]     .flow-management-container .header-section{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:16px 20px;background:#fff;border:1px solid #f0f0f0;box-shadow:0 1px 2px #00000008;flex-shrink:0}[_nghost-%COMP%]     .flow-management-container .header-section .search-area{flex:1;max-width:320px}[_nghost-%COMP%]     .flow-management-container .header-section .action-buttons{display:flex;gap:8px;align-items:center}[_nghost-%COMP%]     .flow-management-container .header-section .action-buttons button{border-radius:4px;height:32px;padding:0 16px;font-weight:400;transition:all .2s ease}[_nghost-%COMP%]     .flow-management-container .header-section .action-buttons button[nzType=primary]{background:#1890ff;border-color:#1890ff;color:#fff}[_nghost-%COMP%]     .flow-management-container .header-section .action-buttons button[nzType=primary]:hover{background:#40a9ff;border-color:#40a9ff}[_nghost-%COMP%]     .flow-management-container .header-section .action-buttons button[nzType=primary] span{margin-right:4px}[_nghost-%COMP%]     .content-layout{display:flex;flex:1;gap:16px;min-height:0}[_nghost-%COMP%]     .content-layout .category-sidebar{width:260px;background:#fff;padding:16px;flex-shrink:0;border:1px solid #f0f0f0;box-shadow:0 1px 2px #00000008}[_nghost-%COMP%]     .content-layout .category-sidebar .sidebar-header{margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .content-layout .category-sidebar .sidebar-header .header-title h3{margin:0;font-size:16px;font-weight:500;color:#262626}[_nghost-%COMP%]     .content-layout .category-sidebar .sidebar-header .header-actions{display:flex;gap:4px}[_nghost-%COMP%]     .content-layout .category-sidebar .sidebar-header .header-actions button{width:28px;height:28px;padding:0;display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid #d9d9d9;background:#fff;color:#595959;transition:all .2s ease}[_nghost-%COMP%]     .content-layout .category-sidebar .sidebar-header .header-actions button:hover{background:#f5f5f5;border-color:#1890ff;color:#1890ff}[_nghost-%COMP%]     .content-layout .category-sidebar .sidebar-header .header-actions button span{font-size:14px}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list{flex:1;overflow:auto;position:relative;display:flex;flex-direction:column}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;margin-bottom:6px;border-radius:4px;cursor:pointer;transition:all .2s ease;border:1px solid transparent;min-height:44px;max-height:44px;box-sizing:border-box;white-space:nowrap;overflow:visible;position:relative}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item:hover{background:#f5f5f5;z-index:5}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item.active{background:#e6f7ff;border-color:#91d5ff;z-index:5}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item.active .category-content .category-name{color:#1890ff;font-weight:500}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item.active .category-content .category-count{background:#1890ff;color:#fff}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item.draggable-item{cursor:grab;background:#fff;border:1px solid #f0f0f0}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item.draggable-item:hover{background:#fafafa;border-color:#d9d9d9}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item.draggable-item:active{cursor:grabbing}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .category-content{display:flex;justify-content:space-between;align-items:center;flex:1;min-width:0;overflow:hidden}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .category-content .category-name{font-size:14px;color:#595959;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;min-width:0}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .category-content .category-count{font-size:12px;color:#8c8c8c;background:#f5f5f5;padding:2px 8px;border-radius:10px;font-weight:400;flex-shrink:0;margin-left:8px;z-index:1;position:relative}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .category-actions{display:flex;align-items:center;gap:4px;opacity:0;transition:opacity .2s ease;margin-left:8px;flex-shrink:0;white-space:nowrap;overflow:hidden;position:absolute;right:12px;top:50%;transform:translateY(-50%);background:#fff;padding:2px;border-radius:4px;box-shadow:0 2px 8px #0000001a;z-index:10;pointer-events:auto}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .category-actions button{border:none;background:transparent;color:#bfbfbf;padding:4px;border-radius:4px;transition:all .2s ease;min-width:24px;min-height:24px;max-width:24px;max-height:24px;display:flex;align-items:center;justify-content:center;flex-shrink:0;white-space:nowrap;overflow:hidden;pointer-events:auto}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .category-actions button:hover{background:#f0f0f0;color:#1890ff}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item:hover .category-actions{opacity:1}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .drag-handle-btn{margin-left:8px;border:none;background:transparent;color:#bfbfbf;cursor:grab;padding:0 4px;border-radius:4px;transition:background .2s,color .2s;min-width:28px;min-height:28px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .drag-handle-btn:hover, [_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .drag-handle-btn:focus{background:#f0f0f0;color:#1890ff}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .drag-handle-btn:active{cursor:grabbing}[_nghost-%COMP%]     .content-layout .category-sidebar .category-list .category-item .drag-handle-btn .drag-icon{font-size:14px;line-height:1;letter-spacing:-1px}[_nghost-%COMP%]     .content-layout .app-content{flex:1;background:#fff;border-radius:6px;border:1px solid #f0f0f0;box-shadow:0 1px 2px #00000008;display:flex;flex-direction:column;min-height:0}[_nghost-%COMP%]     .content-layout .app-content .content-header{padding:16px 20px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center;flex-shrink:0;background:#fafafa}[_nghost-%COMP%]     .content-layout .app-content .content-header h3{margin:0;font-size:16px;font-weight:500;color:#262626}[_nghost-%COMP%]     .content-layout .app-content .content-header .app-count{font-size:14px;color:#8c8c8c;background:#f5f5f5;padding:4px 12px;border-radius:12px;font-weight:400}[_nghost-%COMP%]     .content-layout .app-content .app-list{flex:1;overflow-y:auto}[_nghost-%COMP%]     .content-layout .app-content .app-list .empty-state{display:flex;justify-content:center;align-items:center;height:200px;color:#8c8c8c}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item{display:flex;align-items:center;padding:16px;transition:all .2s ease;background:#fff}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item:hover{border-color:#d9d9d9;background:#fafafa}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .app-info{display:flex;align-items:center;flex:1;min-width:0}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .app-info .app-icon{width:40px;height:40px;border-radius:6px;display:flex;align-items:center;justify-content:center;margin-right:12px;flex-shrink:0}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .app-info .app-icon span{color:#fff;font-size:16px}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .app-info .app-details{flex:1;min-width:0}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .app-info .app-details .app-name{font-size:14px;font-weight:500;color:#262626;margin-bottom:4px;display:flex;align-items:center;gap:8px}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .app-info .app-details .app-description{font-size:12px;color:#8c8c8c;line-height:1.4;margin:0}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .visibility-status{width:100px;text-align:center;margin:0 16px}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .visibility-status .visibility-text{font-size:12px;color:#52c41a;font-weight:400}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .action-icons{display:flex;align-items:center;gap:4px;flex-shrink:0}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .action-icons button{width:28px;height:28px;padding:0;display:flex;align-items:center;justify-content:center;border-radius:4px;border:1px solid transparent;background:transparent;color:#8c8c8c;transition:all .2s ease}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .action-icons button:hover{background:#f5f5f5;color:#262626}[_nghost-%COMP%]     .content-layout .app-content .app-list .app-item .action-icons button span{font-size:14px}@media (max-width: 768px){[_nghost-%COMP%]     .flow-management-container{padding:12px;height:auto}[_nghost-%COMP%]     .flow-management-container .header-section{flex-direction:column;gap:12px;align-items:stretch;padding:12px}[_nghost-%COMP%]     .flow-management-container .header-section .search-area{max-width:none}[_nghost-%COMP%]     .flow-management-container .header-section .action-buttons{justify-content:flex-end}[_nghost-%COMP%]     .flow-management-container .content-layout{flex-direction:column;gap:12px}[_nghost-%COMP%]     .flow-management-container .content-layout .category-sidebar{width:100%;order:2;padding:12px}[_nghost-%COMP%]     .flow-management-container .content-layout .category-sidebar .category-list{display:flex;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]     .flow-management-container .content-layout .category-sidebar .category-list .category-item{flex:1;min-width:100px;margin-bottom:0}[_nghost-%COMP%]     .flow-management-container .content-layout .app-content{order:1}[_nghost-%COMP%]     .flow-management-container .content-layout .app-content .content-header{padding:12px}[_nghost-%COMP%]     .flow-management-container .content-layout .app-content .app-list{padding:12px}[_nghost-%COMP%]     .flow-management-container .content-layout .app-content .app-list .app-item{flex-direction:column;align-items:flex-start;gap:12px}[_nghost-%COMP%]     .flow-management-container .content-layout .app-content .app-list .app-item .visibility-status{width:auto;text-align:left;margin:0}[_nghost-%COMP%]     .flow-management-container .content-layout .app-content .app-list .app-item .action-icons{align-self:flex-end}}"]})}}return n})(),He=(()=>{class n{constructor(t){this._http=t}create(t,o){return this._http.post(d.eY.erupt+"/flow/instance/create",o,{flowId:t})}todoList(){return this._http.get(d.eY.erupt+"/flow/instance/approval/list/todo")}doneList(){return this._http.get(d.eY.erupt+"/flow/instance/approval/list/done")}ccList(){return this._http.get(d.eY.erupt+"/flow/instance/approval/list/cc")}createdList(){return this._http.get(d.eY.erupt+"/flow/instance/approval/list/created")}detail(t){return this._http.get(d.eY.erupt+"/flow/instance/detail",{instanceId:t})}eruptData(t){return this._http.get(d.eY.erupt+"/flow/instance/erupt-data",{instanceId:t})}tasks(t){return this._http.get(d.eY.erupt+"/flow/instance/tasks",{instanceId:t})}nodeInfo(t){return this._http.get(d.eY.erupt+"/flow/instance/node-info",{instanceId:t})}commentList(t){return this._http.get(d.eY.erupt+"/flow/instance/comment/list",{instanceId:t})}commentCreate(t,o){return this._http.post(d.eY.erupt+"/flow/instance/comment/create",null,{instanceId:t,comment:o})}static{this.\u0275fac=function(o){return new(o||n)(e.KVO(Ae.p4))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wr(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",2),e.nrm(2,"erupt-flow-form",3),e.k0s(),e.j41(3,"div",4)(4,"button",5),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onCancel())}),e.EFF(5,"\u53d6\u6d88"),e.k0s(),e.j41(6,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSubmit())}),e.EFF(7,"\u53d1\u8d77\u5ba1\u6279"),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("eruptBuild",t.eruptBuild)("readonly",!1)}}let Tr=(()=>{class n{constructor(t,o,i,r){this.flowApiService=t,this.msg=o,this.dataHandlerService=i,this.flowInstanceApiService=r,this.close=new e.bkB,this.loading=!1}ngOnInit(){this.loading=!0,this.erupt&&this.flowApiService.eruptFlowBuild(this.erupt).subscribe(t=>{this.eruptBuild=t.data,this.eruptBuild.eruptModel.eruptJson.layout.formSize=d.c8.FULL_LINE,this.loading=!1})}onSubmit(){let t=this.dataHandlerService.eruptValueToObject(this.eruptBuild);this.flowInstanceApiService.create(this.flow.id,t).subscribe(o=>{o.success&&(this.msg.success("\u53d1\u8d77\u6210\u529f"),this.close.emit(),this.onClose&&this.onClose())})}onCancel(){this.close.emit(),this.onClose&&this.onClose()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E),e.rXU(R.xh),e.rXU(ce.u),e.rXU(He))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-create-instance"]],inputs:{flow:"flow",erupt:"erupt",onClose:"onClose"},outputs:{close:"close"},decls:2,vars:2,consts:[[2,"width","100%","min-height","300px",3,"nzSpinning"],[4,"ngIf"],[2,"padding","16px","height","calc(100vh - 108px)","overflow","auto"],[3,"eruptBuild","readonly"],[2,"text-align","right","position","sticky","bottom","0","padding","10px 16px","border-top","1px solid rgba(0,0,0,.06)","z-index","999"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",2,"margin-left","8px",3,"click"]],template:function(o,i){1&o&&(e.j41(0,"nz-spin",0),e.DNE(1,wr,8,2,"ng-container",1),e.k0s()),2&o&&(e.Y8G("nzSpinning",i.loading),e.R7$(1),e.Y8G("ngIf",i.eruptBuild))},dependencies:[l.bT,x.aO,w.c,T.p,oe.a,le]})}}return n})();function Nr(n,a){if(1&n&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,o=e.XpG();e.R7$(1),e.SpI(" (",o.getCategoryFlowCount(t.key),") ")}}function Mr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onCategorySelect(r.key))}),e.j41(1,"span",12),e.EFF(2),e.k0s(),e.DNE(3,Nr,2,1,"span",13),e.k0s()}if(2&n){const t=a.$implicit,o=e.XpG();e.AVh("active",o.selectedCategory===t.key),e.R7$(2),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",t.key)}}function Or(n,a){1&n&&(e.j41(0,"div",15)(1,"nz-spin",16)(2,"div",17),e.EFF(3,"\u52a0\u8f7d\u4e2d..."),e.k0s()()())}function Sr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",21),e.nrm(1,"i",22),e.j41(2,"p"),e.EFF(3,"\u6682\u65e0\u6d41\u7a0b\u6570\u636e"),e.k0s(),e.j41(4,"button",23),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.refreshData())}),e.EFF(5," \u5237\u65b0\u6570\u636e "),e.k0s()()}}function kr(n,a){if(1&n&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.remark)}}const Er=function(n){return{"flow-disabled":n}},Ir=function(n){return{background:n}};function Fr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",29),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.launchFlow(r))}),e.j41(1,"div",30),e.nrm(2,"span",31),e.k0s(),e.j41(3,"div",32)(4,"div",33),e.EFF(5),e.k0s(),e.DNE(6,kr,2,1,"div",34),e.k0s()()}if(2&n){const t=a.$implicit;e.Y8G("ngClass",e.eq3(6,Er,!t.enable)),e.R7$(1),e.Aen(e.eq3(8,Ir,t.color)),e.R7$(1),e.Y8G("classList",t.icon),e.R7$(3),e.JRh(t.name),e.R7$(1),e.Y8G("ngIf",t.remark)}}function Pr(n,a){if(1&n&&(e.j41(0,"div",24)(1,"h3",25),e.EFF(2),e.j41(3,"span",26),e.EFF(4),e.k0s()(),e.j41(5,"div",27),e.DNE(6,Fr,7,10,"div",28),e.k0s()()),2&n){const t=a.$implicit;e.R7$(2),e.SpI(" ",t.title," "),e.R7$(2),e.SpI("(",t.flows.length,")"),e.R7$(2),e.Y8G("ngForOf",t.flows)}}function Dr(n,a){if(1&n&&(e.j41(0,"div",18),e.DNE(1,Sr,6,0,"div",19),e.DNE(2,Pr,7,3,"div",20),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",0===t.getAllFlowGroups().length),e.R7$(1),e.Y8G("ngForOf",t.getFlowGroups())}}let jr=(()=>{class n{constructor(t,o){this.flowApiService=t,this.drawerService=o,this.destroy$=new te.B,this.categories=[{key:"",name:"\u5168\u90e8"}],this.flowGroups=[],this.flowConfigs=[],this.selectedCategory="",this.loading=!1,this.flowGroupsCache=[],this.categoryFlowGroupsCache=new Map}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.flowGroupsCache=[],this.categoryFlowGroupsCache.clear()}loadData(){this.loading=!0,Promise.all([this.loadFlowGroups(),this.loadFlowConfigs()]).finally(()=>{this.loading=!1,this.updateFlowGroupsCache()})}loadFlowGroups(){return new Promise(t=>{this.flowApiService.groupList().pipe((0,z.Q)(this.destroy$)).subscribe({next:o=>{o.success&&o.data&&(this.flowGroups=o.data,this.generateCategories()),t()},error:o=>{console.error("\u52a0\u8f7d\u6d41\u7a0b\u5206\u7ec4\u5931\u8d25:",o),t()}})})}loadFlowConfigs(){return new Promise(t=>{this.flowApiService.configList().pipe((0,z.Q)(this.destroy$)).subscribe({next:o=>{o.success&&o.data&&(this.flowConfigs=o.data),t()},error:o=>{console.error("\u52a0\u8f7d\u6d41\u7a0b\u914d\u7f6e\u5931\u8d25:",o),t()}})})}generateCategories(){this.categories=[{key:"",name:"\u5168\u90e8"}],this.flowGroups.forEach(t=>{this.categories.push({key:t.name,name:t.name})})}updateFlowGroupsCache(){this.flowGroupsCache=this.groupFlows(this.flowConfigs),this.categories.forEach(t=>{if(t.key){const o=this.flowConfigs.filter(i=>i.flowGroup?.name===t.key);this.categoryFlowGroupsCache.set(t.key,this.groupFlows(o))}})}onCategorySelect(t){this.selectedCategory=t}getFlowGroups(){return this.selectedCategory?this.categoryFlowGroupsCache.get(this.selectedCategory)||[]:this.flowGroupsCache}getAllFlowGroups(){return this.flowGroupsCache}groupFlows(t){const o=new Map;return t.forEach(i=>{const r=i.flowGroup?.name||"\u5176\u4ed6";o.has(r)||o.set(r,[]),o.get(r).push(i)}),Array.from(o.entries()).map(([i,r])=>({title:i,flows:r}))}launchFlow(t){if(t.enable){const o=this.drawerService.create({nzTitle:t.name,nzContent:Tr,nzContentParams:{erupt:t.erupt,flow:t,onClose:()=>o.close()},nzWidth:"520px",nzBodyStyle:{padding:"0"},nzMaskClosable:!1})}}getCategoryFlowCount(t){return t?this.flowConfigs.filter(o=>o.flowGroup?.name===t).length:this.flowConfigs.length}refreshData(){this.loadData()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E),e.rXU(F.Nf))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-flow-dashboard"]],decls:13,vars:4,consts:[[1,"flow-dashboard"],[1,"main-content"],[1,"category-sidebar"],[1,"category-header"],["nz-button","","nzType","text","nzSize","small",3,"nzLoading","click"],["nz-icon","","nzType","reload"],[1,"category-list"],["class","category-item",3,"active","click",4,"ngFor","ngForOf"],[1,"content-area"],["class","loading-container",4,"ngIf"],["class","flow-groups",4,"ngIf"],[1,"category-item",3,"click"],[1,"category-name"],["class","category-count",4,"ngIf"],[1,"category-count"],[1,"loading-container"],["nzSize","large"],[1,"loading-text"],[1,"flow-groups"],["class","empty-state",4,"ngIf"],["class","group-section",4,"ngFor","ngForOf"],[1,"empty-state"],["nz-icon","","nzType","inbox","nzTheme","outline"],["nz-button","","nzType","primary",3,"click"],[1,"group-section"],[1,"group-title"],[1,"group-count"],[1,"flow-grid"],["class","flow-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flow-item",3,"ngClass","click"],[1,"flow-icon"],[3,"classList"],[1,"flow-info"],[1,"flow-name"],["class","flow-desc",4,"ngIf"],[1,"flow-desc"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e.EFF(5,"\u6d41\u7a0b\u5206\u7c7b"),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return i.refreshData()}),e.nrm(7,"i",5),e.k0s()(),e.j41(8,"div",6),e.DNE(9,Mr,4,4,"div",7),e.k0s()(),e.j41(10,"div",8),e.DNE(11,Or,4,0,"div",9),e.DNE(12,Dr,3,2,"div",10),e.k0s()()()),2&o&&(e.R7$(6),e.Y8G("nzLoading",i.loading),e.R7$(3),e.Y8G("ngForOf",i.categories),e.R7$(2),e.Y8G("ngIf",i.loading),e.R7$(1),e.Y8G("ngIf",!i.loading))},dependencies:[l.YU,l.Sq,l.bT,x.aO,w.c,T.p,h.Dn,oe.a],styles:["[_nghost-%COMP%]     .flow-dashboard{padding:16px;background:#f5f5f5}[_nghost-%COMP%]     .flow-dashboard .overview-section{margin-bottom:24px}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card{background:white;border-radius:12px;padding:24px;box-shadow:0 2px 8px #0000000f;border:1px solid #f0f0f0;display:flex;align-items:center;transition:all .3s ease}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card:hover{box-shadow:0 4px 16px #0000001f;transform:translateY(-2px)}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:16px;font-size:24px}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-icon:nth-child(1){background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-icon:nth-child(2){background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:#fff}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-icon:nth-child(3){background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:#fff}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-icon:nth-child(4){background:linear-gradient(135deg,#43e97b 0%,#38f9d7 100%);color:#fff}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-content{flex:1}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-content .card-number{font-size:28px;font-weight:700;color:#262626;line-height:1;margin-bottom:4px}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-content .card-label{font-size:14px;color:#8c8c8c;margin:0}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-trend{display:flex;align-items:center;font-size:12px;font-weight:500;padding:4px 8px;border-radius:6px}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-trend.up{color:#52c41a;background:#f6ffed}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-trend.down{color:#ff4d4f;background:#fff2f0}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards .overview-card .card-trend i{margin-right:4px}[_nghost-%COMP%]     .flow-dashboard .main-content{display:grid;grid-template-columns:240px 1fr;gap:0;background:white;border-radius:3px;overflow:hidden;box-shadow:0 2px 8px #0000000f;border:1px solid #f0f0f0}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar{background:#fafafa;border-right:1px solid #f0f0f0}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-header{padding:16px 20px;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-header h3{margin:0;font-size:16px;font-weight:600;color:#262626}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item{padding:16px 20px;cursor:pointer;transition:all .2s ease;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item:hover{background:#f5f5f5}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item.active{background:#1890ff;color:#fff;font-weight:500}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item .category-name{font-size:14px}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item .category-count{font-size:12px;color:#8c8c8c;background:rgba(0,0,0,.1);padding:2px 6px;border-radius:10px}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item.active .category-count{color:#fffc;background:rgba(255,255,255,.2)}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area{padding:16px;background:white;position:relative}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .loading-container{display:flex;justify-content:center;align-items:center;min-height:200px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .loading-container .loading-text{margin-top:16px;color:#8c8c8c}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;color:#8c8c8c}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .empty-state i{font-size:48px;margin-bottom:16px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .empty-state p{margin-bottom:16px;font-size:16px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section{margin-bottom:32px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section:last-child{margin-bottom:0}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .group-title{font-size:18px;font-weight:600;color:#262626;margin:0 0 16px;padding-bottom:8px;border-bottom:2px solid #f0f0f0;display:flex;align-items:center;gap:8px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .group-title .group-count{font-size:14px;color:#8c8c8c;font-weight:400}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item{background:white;border:1px solid #f0f0f0;border-radius:8px;padding:16px;cursor:pointer;transition:all .3s ease;display:flex;align-items:flex-start;gap:12px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px);border-color:#1890ff}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item.flow-disabled{opacity:.6;cursor:not-allowed}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item.flow-disabled:hover{transform:none;box-shadow:none;border-color:#f0f0f0}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item .flow-icon{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;color:#fff}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item .flow-info{flex:1;min-width:0}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item .flow-info .flow-name{font-size:14px;font-weight:500;color:#262626;line-height:1.4;margin-bottom:4px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item .flow-info .flow-desc{font-size:12px;color:#8c8c8c;line-height:1.4;margin-bottom:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid .flow-item .flow-info .flow-status{display:flex;align-items:center}@media (max-width: 1200px){[_nghost-%COMP%]     .flow-dashboard .main-content{grid-template-columns:200px 1fr}}@media (max-width: 768px){[_nghost-%COMP%]     .flow-dashboard{padding:16px}[_nghost-%COMP%]     .flow-dashboard .overview-section .overview-cards{grid-template-columns:1fr;gap:12px}[_nghost-%COMP%]     .flow-dashboard .main-content{grid-template-columns:1fr;border-radius:6px}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar{order:2;border-right:none;border-top:1px solid #f0f0f0}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list{display:flex;overflow-x:auto}[_nghost-%COMP%]     .flow-dashboard .main-content .category-sidebar .category-list .category-item{flex-shrink:0;border-bottom:none;border-right:1px solid #f0f0f0;min-width:120px;text-align:center}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area{order:1;padding:16px}[_nghost-%COMP%]     .flow-dashboard .main-content .content-area .flow-groups .group-section .flow-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}}"]})}}return n})();var I=function(n){return n.TODO="TODO",n.DONE="DONE",n.CC="CC",n.CREATED="CREATED",n}(I||{});function Br(n,a){if(1&n&&(e.j41(0,"span",38),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.SpI("\u5904\u7406\u65f6\u95f4 ",t.finishTime,"")}}function Rr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",28),e.bIt("click",function(){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.selectItem(r))}),e.j41(1,"div",29)(2,"h3",30),e.EFF(3),e.k0s(),e.j41(4,"nz-tag",31),e.EFF(5),e.k0s()(),e.j41(6,"div",32)(7,"div",33)(8,"div",34),e.EFF(9),e.k0s(),e.j41(10,"span",35),e.EFF(11),e.k0s()(),e.j41(12,"div",36),e.DNE(13,Br,2,1,"span",37),e.k0s()()()}if(2&n){const t=a.$implicit,o=e.XpG();e.AVh("active",(null==t?null:t.id)===(null==o.selectedInstance?null:o.selectedInstance.id)),e.R7$(3),e.SpI(" ",t.eruptFlowConfig.name," "),e.R7$(1),e.Y8G("nzColor",o.getStatusColor(t.status)),e.R7$(1),e.SpI(" ",t.status," "),e.R7$(3),e.xc7("background-color",t.eruptFlowConfig.color),e.R7$(1),e.SpI(" ",t.initiatorUser.name[0]," "),e.R7$(2),e.JRh(t.initiatorUser.name),e.R7$(2),e.Y8G("ngIf",t.finishTime)}}function Gr(n,a){if(1&n&&(e.j41(0,"div",78),e.nrm(1,"erupt-flow-form",88),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("eruptBuild",t.eruptBuild)("readonly",!0)}}function Vr(n,a){if(1&n&&(e.j41(0,"tr")(1,"td")(2,"div",92)(3,"div",93),e.EFF(4),e.k0s(),e.j41(5,"span",94),e.EFF(6),e.k0s()()(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"nz-tag"),e.EFF(11),e.k0s()(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td")(15,"div",36)(16,"div"),e.EFF(17),e.nI1(18,"date"),e.k0s()()()()),2&n){const t=a.$implicit,o=e.XpG(4);e.R7$(3),e.xc7("background-color",o.getAvatarColor((null==t.assigneeUser?null:t.assigneeUser.name)||"")),e.R7$(1),e.SpI(" ",(null==t.assigneeUser||null==t.assigneeUser.name?null:t.assigneeUser.name[0])||"-"," "),e.R7$(2),e.JRh((null==t.assigneeUser?null:t.assigneeUser.name)||"-"),e.R7$(2),e.JRh(t.taskType||"-"),e.R7$(3),e.SpI(" ",o.getTaskStatusText(t.taskStatus)," "),e.R7$(2),e.JRh(t.comment||"-"),e.R7$(4),e.JRh(e.i5U(18,8,t.createTime,"yyyy-MM-dd HH:mm:ss"))}}function Ar(n,a){if(1&n&&(e.j41(0,"div")(1,"nz-table",89,90)(3,"thead")(4,"tr")(5,"th"),e.EFF(6,"\u5ba1\u6279\u4eba"),e.k0s(),e.j41(7,"th"),e.EFF(8,"\u4efb\u52a1\u7c7b\u578b"),e.k0s(),e.j41(9,"th"),e.EFF(10,"\u4efb\u52a1\u72b6\u6001"),e.k0s(),e.j41(11,"th"),e.EFF(12,"\u5ba1\u6279\u610f\u89c1"),e.k0s(),e.j41(13,"th"),e.EFF(14,"\u521b\u5efa\u65f6\u95f4"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,Vr,19,11,"tr",91),e.k0s()()()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("nzData",t.instanceTasks)("nzShowPagination",!1)("nzSize","small"),e.R7$(15),e.Y8G("ngForOf",t.instanceTasks)}}function $r(n,a){1&n&&e.nrm(0,"nz-empty",95)}function Lr(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",96),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.submitComment())}),e.nrm(1,"span",58),e.EFF(2),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("disabled",!t.newComment.trim()||t.isSubmittingComment),e.R7$(2),e.SpI(" ",t.isSubmittingComment?"\u63d0\u4ea4\u4e2d...":"\u53d1\u9001"," ")}}function Xr(n,a){if(1&n&&(e.j41(0,"div",99)(1,"div",100)(2,"div",101)(3,"div",93),e.EFF(4),e.k0s(),e.j41(5,"span",102),e.EFF(6),e.k0s()(),e.j41(7,"span",103),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"div",104),e.EFF(11),e.k0s()()),2&n){const t=a.$implicit,o=e.XpG(4);e.R7$(3),e.xc7("background-color",o.getAvatarColor((null==t.createUser?null:t.createUser.name)||"")),e.R7$(1),e.SpI(" ",(null==t.createUser||null==t.createUser.name?null:t.createUser.name[0])||"-"," "),e.R7$(2),e.JRh((null==t.createUser?null:t.createUser.name)||"-"),e.R7$(2),e.JRh(e.i5U(9,6,t.createTime,"yyyy-MM-dd HH:mm:ss")),e.R7$(3),e.SpI(" ",t.comment," ")}}function Yr(n,a){if(1&n&&(e.j41(0,"div",97),e.DNE(1,Xr,12,9,"div",98),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.comments)}}function Ur(n,a){1&n&&e.nrm(0,"nz-empty",105)}function Hr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",64)(1,"div",65)(2,"h1",66),e.EFF(3),e.k0s(),e.j41(4,"nz-tag",67),e.EFF(5),e.k0s()(),e.j41(6,"div",68)(7,"div",69)(8,"span",70),e.EFF(9),e.k0s(),e.EFF(10,"\xa0\xa0 "),e.j41(11,"span",71),e.EFF(12,"\u90e8\u95e8"),e.k0s(),e.EFF(13,"\xa0\xa0 "),e.j41(14,"span",72),e.EFF(15),e.k0s()()(),e.j41(16,"nz-tabset",73),e.bIt("nzSelectedIndexChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.onTabChange(i))}),e.j41(17,"nz-tab",74)(18,"div",75),e.DNE(19,Gr,2,2,"div",76),e.k0s()(),e.j41(20,"nz-tab",77)(21,"div",75)(22,"div",78),e.DNE(23,Ar,17,4,"div",79),e.DNE(24,$r,1,0,"ng-template",null,80,e.C5r),e.k0s()()(),e.j41(26,"nz-tab",81)(27,"div",75)(28,"div",78)(29,"div",82)(30,"nz-input-group",83)(31,"input",84),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.newComment=i)})("keyup.enter",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.submitComment())}),e.k0s()(),e.DNE(32,Lr,3,2,"ng-template",null,85,e.C5r),e.k0s(),e.DNE(34,Yr,2,1,"div",86),e.DNE(35,Ur,1,0,"ng-template",null,87,e.C5r),e.k0s()()()()()}if(2&n){const t=e.sdS(25),o=e.sdS(33),i=e.sdS(36),r=e.XpG(2);e.R7$(3),e.JRh(r.selectedInstance.eruptFlowConfig.name),e.R7$(1),e.Y8G("nzColor","#09f"),e.R7$(1),e.SpI(" ",r.selectedInstance.status," "),e.R7$(4),e.JRh(null==r.selectedInstance.initiatorUser?null:r.selectedInstance.initiatorUser.name),e.R7$(6),e.SpI("\u63d0\u4ea4\u4e8e ",r.selectedInstance.createTime,""),e.R7$(1),e.Y8G("nzSelectedIndex",r.activeTabIndex),e.R7$(3),e.Y8G("ngIf",r.eruptBuild),e.R7$(4),e.Y8G("ngIf",r.instanceTasks.length>0)("ngIfElse",t),e.R7$(3),e.Y8G("nzTitle","\u8bc4\u8bba\u5217\u8868 ("+r.comments.length+")"),e.R7$(4),e.Y8G("nzSuffix",o),e.R7$(1),e.Y8G("ngModel",r.newComment),e.R7$(3),e.Y8G("ngIf",r.comments.length>0)("ngIfElse",i)}}function Qr(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41)(3,"span",42),e.EFF(4),e.k0s()(),e.j41(5,"div",43)(6,"button",44),e.nrm(7,"span",45),e.k0s(),e.j41(8,"button",46),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.selectItem(i.selectedInstance))}),e.nrm(9,"span",47),e.k0s(),e.j41(10,"button",48),e.nrm(11,"span",49),e.k0s()()(),e.DNE(12,Hr,37,14,"div",50),e.j41(13,"div",51)(14,"div",52)(15,"button",53),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cc())}),e.nrm(16,"span",54),e.EFF(17," \u540c\u610f "),e.k0s(),e.j41(18,"button",55),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cc())}),e.nrm(19,"span",56),e.EFF(20," \u62d2\u7edd "),e.k0s(),e.j41(21,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cc())}),e.nrm(22,"span",58),e.EFF(23," \u6284\u9001 "),e.k0s(),e.j41(24,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cc())}),e.nrm(25,"span",59),e.EFF(26," \u8f6c\u4ea4 "),e.k0s(),e.j41(27,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cc())}),e.nrm(28,"span",60),e.EFF(29," \u52a0\u7b7e "),e.k0s(),e.j41(30,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.modify())}),e.nrm(31,"span",61),e.EFF(32," \u4fee\u6539 "),e.k0s(),e.j41(33,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.recall())}),e.nrm(34,"span",62),e.EFF(35," \u64a4\u9500 "),e.k0s(),e.j41(36,"button",57),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.resubmit())}),e.nrm(37,"span",63),e.EFF(38," \u518d\u6b21\u63d0\u4ea4 "),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(4),e.SpI("\u7f16\u53f7: ",null==t.selectedInstance?null:t.selectedInstance.no,""),e.R7$(8),e.Y8G("ngIf",t.selectedInstance)}}function Wr(n,a){1&n&&(e.j41(0,"div",106)(1,"div",107),e.nrm(2,"nz-empty",108),e.k0s()())}const Zr=[{path:"management",component:yr},{path:"dashboard",component:jr},{path:"approval",component:(()=>{class n{constructor(t,o,i,r,s){this.message=t,this.flowInstanceApiService=o,this.modal=i,this.flowApiService=r,this.dataHandlerService=s,this.sidebarCollapsed=!1,this.activeTabIndex=0,this.selectedView=I.TODO,this.todoCount=0,this.flowInstance=[],this.selectedInstance=null,this.instanceDetail=null,this.instanceTasks=[],this.nodeInfo=null,this.comments=[],this.newComment="",this.isSubmittingComment=!1,this.ApprovalView=I}ngOnInit(){this.onSwitchView(I.TODO)}selectItem(t){this.selectedInstance=t,t&&t.id&&this.loadInstanceDetail(t.id)}getStatusColor(t){switch(t){case"processing":return"processing";case"approved":return"success";case"rejected":return"error";case"pending":return"warning";default:return"default"}}getTaskStatusText(t){switch(t){case"pending":return"\u5f85\u5904\u7406";case"processing":return"\u5904\u7406\u4e2d";case"completed":return"\u5df2\u5b8c\u6210";case"cancelled":return"\u5df2\u53d6\u6d88";default:return t||"\u672a\u77e5"}}getAvatarColor(t){const o=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7","#fa709a","#fee140","#a8edea","#fed6e3","#ffecd2","#fcb69f","#ff9a9e","#fecfef"];return o[t.charCodeAt(0)%o.length]}reject(){this.modal.confirm({nzTitle:"\u62d2\u7edd\u5ba1\u6279",nzContent:"\u786e\u5b9a\u62d2\u7edd\u6b64\u5ba1\u6279\u7533\u8bf7\u5417\uff1f",nzOkText:"\u786e\u5b9a",nzCancelText:"\u53d6\u6d88",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>{this.message.error("\u5ba1\u6279\u5df2\u62d2\u7edd")}})}cc(){this.message.info("\u6284\u9001\u529f\u80fd")}transfer(){this.message.info("\u8f6c\u4ea4\u529f\u80fd")}addSigner(){this.message.info("\u52a0\u7b7e\u529f\u80fd")}return(){this.message.info("\u9000\u56de\u529f\u80fd")}modify(){this.message.info("\u4fee\u6539\u529f\u80fd")}recall(){this.message.info("\u64a4\u56de\u529f\u80fd")}resubmit(){this.message.info("\u518d\u6b21\u63d0\u4ea4\u529f\u80fd")}onTabChange(t){this.activeTabIndex=t}onSwitchView(t){switch(this.selectedView=t,this.selectedInstance=null,this.instanceDetail=null,this.instanceTasks=[],this.nodeInfo=null,this.comments=[],t){case I.TODO:this.flowInstanceApiService.todoList().subscribe({next:o=>{this.flowInstance=o.data,this.selectedInstance=this.flowInstance[0]||null,this.selectedInstance&&this.selectItem(this.selectedInstance),this.todoCount=this.flowInstance.length}});break;case I.DONE:this.flowInstanceApiService.doneList().subscribe({next:o=>{this.flowInstance=o.data,this.selectedInstance=this.flowInstance[0]||null,this.selectedInstance&&this.selectItem(this.selectedInstance)}});break;case I.CC:this.flowInstanceApiService.ccList().subscribe({next:o=>{this.flowInstance=o.data,this.selectedInstance=this.flowInstance[0]||null,this.selectedInstance&&this.selectItem(this.selectedInstance)}});break;case I.CREATED:this.flowInstanceApiService.createdList().subscribe({next:o=>{this.flowInstance=o.data,this.selectedInstance=this.flowInstance[0]||null,this.selectedInstance&&this.selectItem(this.selectedInstance)}})}}loadInstanceDetail(t){this.flowInstanceApiService.detail(t).subscribe({next:o=>{this.instanceDetail=o.data,this.flowApiService.eruptFlowBuild(this.instanceDetail.erupt).subscribe({next:i=>{this.eruptBuild=i.data,this.flowInstanceApiService.eruptData(t).subscribe({next:r=>{this.dataHandlerService.objectToEruptValue(r.data,this.eruptBuild)}})},complete:()=>{}})}}),this.flowInstanceApiService.tasks(t).subscribe({next:o=>{this.instanceTasks=o.data||[]}}),this.flowInstanceApiService.nodeInfo(t).subscribe({next:o=>{this.nodeInfo=o.data}}),this.flowInstanceApiService.commentList(Number(t)).subscribe({next:o=>{this.comments=o.data||[]}})}submitComment(){!this.newComment.trim()||!this.selectedInstance||(this.isSubmittingComment=!0,this.flowInstanceApiService.commentCreate(Number(this.selectedInstance.id),this.newComment).subscribe({next:()=>{this.message.success("\u8bc4\u8bba\u63d0\u4ea4\u6210\u529f"),this.newComment="",this.selectedInstance&&this.flowInstanceApiService.commentList(Number(this.selectedInstance.id)).subscribe(t=>{this.comments=t.data||[]})},complete:()=>{this.isSubmittingComment=!1}}))}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(R.xh),e.rXU(He),e.rXU(V.N_),e.rXU(E),e.rXU(ce.u))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-flow-approval"]],decls:42,vars:11,consts:[[1,"flow-approval-container"],[1,"sidebar"],[1,"sidebar-header"],[1,"search-section"],["nz-icon","","nzType","search","nzTheme","outline"],[1,"search-text"],[1,"navigation-menu"],["nz-menu","","nzMode","inline",1,"approval-menu",3,"nzInlineCollapsed"],["nz-menu-item","",3,"nzSelected","click"],[2,"display","flex","align-items","center"],["nz-icon","","nzType","clock-circle","nzTheme","outline"],[1,"menu-title"],[1,"menu-badge",2,"margin-left","auto",3,"nzCount"],["nz-icon","","nzType","check-circle","nzTheme","outline"],["nz-icon","","nzType","copy","nzTheme","outline"],["nz-icon","","nzType","rocket","nzTheme","outline"],[1,"main-content"],[1,"list-section"],[1,"list-header"],[1,"time-filter"],["nz-icon","","nzType","down","nzTheme","outline"],[1,"separator"],["nz-button","","nzType","text","nzSize","small"],["nz-icon","","nzType","more","nzTheme","outline"],[1,"approval-list"],["class","approval-item",3,"active","click",4,"ngFor","ngForOf"],["class","detail-section",4,"ngIf","ngIfElse"],["emptyDetail",""],[1,"approval-item",3,"click"],[1,"item-header"],[1,"item-title"],[1,"status-tag",2,"margin-right","0",3,"nzColor"],[1,"item-footer"],[1,"submitter-info"],[1,"avatar"],[1,"submitter-name"],[1,"time-info"],["class","process-time",4,"ngIf"],[1,"process-time"],[1,"detail-section"],[1,"detail-header"],[1,"header-left"],[1,"item-id"],[1,"header-right"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","","nzTooltipTitle","\u94fe\u63a5"],["nz-icon","","nzType","link","nzTheme","outline"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","","nzTooltipTitle","\u5237\u65b0",3,"click"],["nz-icon","","nzType","reload","nzTheme","outline"],["nz-button","","nzType","text","nzSize","small","nz-tooltip","","nzTooltipTitle","\u6253\u5370"],["nz-icon","","nzType","printer","nzTheme","outline"],["class","detail-content",4,"ngIf"],[1,"fixed-bottom-actions"],[1,"action-buttons"],["nz-button","","nzSize","default","nzType","primary","nzGhost","",3,"click"],["nz-icon","","nzType","check","nzTheme","outline"],["nz-button","","nzSize","default","nzDanger","",3,"click"],["nz-icon","","nzType","close","nzTheme","outline"],["nz-button","","nzSize","default",3,"click"],["nz-icon","","nzType","send","nzTheme","outline"],["nz-icon","","nzType","swap","nzTheme","outline"],["nz-icon","","nzType","user-add","nzTheme","outline"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","undo","nzTheme","outline"],["nz-icon","","nzType","redo","nzTheme","outline"],[1,"detail-content"],[1,"content-header"],[1,"content-title"],[1,"status-tag-large",3,"nzColor"],[1,"submitter-info-large"],[1,"submitter-details"],[1,"submitter-name-large"],[1,"submitter-dept"],[1,"submit-time"],[1,"detail-tabs",3,"nzSelectedIndex","nzSelectedIndexChange"],["nzTitle","\u5ba1\u6279\u4fe1\u606f"],[1,"tab-content"],["class","section",4,"ngIf"],["nzTitle","\u5ba1\u6279\u8bb0\u5f55"],[1,"section"],[4,"ngIf","ngIfElse"],["noTasks",""],[3,"nzTitle"],[1,"comment-form"],[3,"nzSuffix"],["nz-input","","placeholder","\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9...",3,"ngModel","ngModelChange","keyup.enter"],["commentSuffix",""],["class","comments-list",4,"ngIf","ngIfElse"],["noComments",""],[3,"eruptBuild","readonly"],[1,"records-table",3,"nzData","nzShowPagination","nzSize"],["recordsTable",""],[4,"ngFor","ngForOf"],[1,"approver-info"],[1,"avatar-small"],[1,"approver-name"],["nzNotFoundImage","simple","nzNotFoundContent","\u6682\u65e0\u5ba1\u6279\u8bb0\u5f55"],["nz-button","","nzType","primary","nzSize","small",3,"disabled","click"],[1,"comments-list"],["class","comment-item",4,"ngFor","ngForOf"],[1,"comment-item"],[1,"comment-header"],[1,"comment-user"],[1,"comment-username"],[1,"comment-time"],[1,"comment-content"],["nzNotFoundImage","simple","nzNotFoundContent","\u6682\u65e0\u8bc4\u8bba\u5185\u5bb9"],[1,"detail-section","empty-detail"],[1,"empty-content",2,"margin-top","20%"],["nzNotFoundImage","simple","nzNotFoundContent","\u8bf7\u9009\u62e9\u4e00\u4e2a\u5ba1\u6279\u9879\u76ee\u67e5\u770b\u8be6\u60c5"]],template:function(o,i){if(1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"span",4),e.j41(5,"span",5),e.EFF(6,"\u641c\u7d22\u5ba1\u6279"),e.k0s()()(),e.j41(7,"div",6)(8,"ul",7)(9,"li",8),e.bIt("click",function(){return i.onSwitchView(i.ApprovalView.TODO)}),e.j41(10,"div",9),e.nrm(11,"span",10),e.j41(12,"span",11),e.EFF(13,"\u5f85\u529e"),e.k0s(),e.nrm(14,"nz-badge",12),e.k0s()(),e.j41(15,"li",8),e.bIt("click",function(){return i.onSwitchView(i.ApprovalView.DONE)}),e.nrm(16,"span",13),e.j41(17,"span",11),e.EFF(18,"\u5df2\u529e"),e.k0s()(),e.j41(19,"li",8),e.bIt("click",function(){return i.onSwitchView(i.ApprovalView.CC)}),e.nrm(20,"span",14),e.j41(21,"span",11),e.EFF(22,"\u6284\u9001\u6211"),e.k0s()(),e.j41(23,"li",8),e.bIt("click",function(){return i.onSwitchView(i.ApprovalView.CREATED)}),e.nrm(24,"span",15),e.j41(25,"span",11),e.EFF(26,"\u5df2\u53d1\u8d77"),e.k0s()()()()(),e.j41(27,"div",16)(28,"div",17)(29,"div",18)(30,"div",19)(31,"span"),e.EFF(32,"\u6240\u6709\u65f6\u95f4"),e.k0s(),e.nrm(33,"span",20),e.k0s(),e.nrm(34,"div",21),e.j41(35,"button",22),e.nrm(36,"span",23),e.k0s()(),e.j41(37,"div",24),e.DNE(38,Rr,14,10,"div",25),e.k0s()(),e.DNE(39,Qr,39,2,"div",26),e.DNE(40,Wr,3,0,"ng-template",null,27,e.C5r),e.k0s()()),2&o){const r=e.sdS(41);e.R7$(1),e.AVh("collapsed",i.sidebarCollapsed),e.R7$(7),e.Y8G("nzInlineCollapsed",i.sidebarCollapsed),e.R7$(1),e.Y8G("nzSelected",i.ApprovalView.TODO===i.selectedView),e.R7$(5),e.Y8G("nzCount",i.todoCount),e.R7$(1),e.Y8G("nzSelected",i.ApprovalView.DONE===i.selectedView),e.R7$(4),e.Y8G("nzSelected",i.ApprovalView.CC===i.selectedView),e.R7$(4),e.Y8G("nzSelected",i.ApprovalView.CREATED===i.selectedView),e.R7$(15),e.Y8G("ngForOf",i.flowInstance),e.R7$(1),e.Y8G("ngIf",i.selectedInstance)("ngIfElse",r)}},dependencies:[l.Sq,l.bT,u.me,u.BC,u.vS,x.aO,w.c,T.p,fe.jS,fe.CU,k.LH,h.Dn,Ee.dz,y.CP,y.SO,y._4,y.IL,y.aj,y.kt,_e.JZ,_e.rE,_.Sy,_.tg,_.vN,Ce.s,j.RW,le,l.vh],styles:["[_nghost-%COMP%]     .flow-approval-container{display:flex;height:calc(100vh - 44px);background-color:#f5f5f5;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;overflow:hidden}[_nghost-%COMP%]     .flow-approval-container .sidebar{width:200px;height:100%;background:white;border-right:1px solid #e5e5e5;display:flex;flex-direction:column;transition:all .3s ease;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .sidebar.collapsed{width:80px}[_nghost-%COMP%]     .flow-approval-container .sidebar.collapsed .search-text, [_nghost-%COMP%]     .flow-approval-container .sidebar.collapsed .menu-title, [_nghost-%COMP%]     .flow-approval-container .sidebar.collapsed .collapse-text{display:none}[_nghost-%COMP%]     .flow-approval-container .sidebar.collapsed .approval-menu .ant-menu-item, [_nghost-%COMP%]     .flow-approval-container .sidebar.collapsed .approval-menu .ant-menu-submenu-title{justify-content:center;padding:0}[_nghost-%COMP%]     .flow-approval-container .sidebar .sidebar-header{padding:13px;border-bottom:1px solid #e5e5e5;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .sidebar .sidebar-header .search-section{display:flex;align-items:center;gap:8px;color:#666;font-size:14px}[_nghost-%COMP%]     .flow-approval-container .sidebar .sidebar-header .menu-toggle{color:#666}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu{flex:1;overflow-y:auto}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu{border:none;background:transparent}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-item{height:48px;line-height:48px;margin:0;padding:0 16px;display:flex;align-items:center;gap:12px;transition:all .3s ease}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-item:hover{background-color:#f5f5f5}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-item.ant-menu-item-selected{background-color:#e6f7ff;color:#1890ff;font-weight:500}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-item .menu-title{flex:1;font-size:14px;color:inherit}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-item .menu-badge{margin-left:auto}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-submenu-title{height:48px;line-height:48px;margin:0;padding:0 16px;display:flex;align-items:center;gap:12px;transition:all .3s ease}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-submenu-title:hover{background-color:#f5f5f5}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-submenu-title .ant-menu-title-content{flex:1;font-size:14px;color:#333}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-sub{background-color:#fafafa;border-left:2px solid #e6f7ff}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-sub .ant-menu-item{padding-left:48px;font-size:13px;color:#666}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-sub .ant-menu-item:hover{background-color:#e5e5e5}[_nghost-%COMP%]     .flow-approval-container .sidebar .navigation-menu .approval-menu .ant-menu-submenu .ant-menu-sub .ant-menu-item.ant-menu-item-selected{background-color:#e6f7ff;color:#1890ff;font-weight:500}[_nghost-%COMP%]     .flow-approval-container .sidebar .sidebar-footer{padding:16px;border-top:1px solid #e5e5e5;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .sidebar .sidebar-footer .collapse-text{margin-left:8px;font-size:14px;color:#666}[_nghost-%COMP%]     .flow-approval-container .main-content{flex:1;height:100%;display:flex;overflow:hidden}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section{width:280px;height:100%;background:white;border-right:1px solid #e5e5e5;display:flex;flex-direction:column;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .list-header{padding:12px;border-bottom:1px solid #e5e5e5;display:flex;align-items:center;gap:12px;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .list-header .time-filter{display:flex;align-items:center;gap:8px;font-size:14px;color:#333;cursor:pointer}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .list-header .separator{width:1px;height:16px;background-color:#d9d9d9}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list{flex:1;overflow-y:auto}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item{padding:12px;cursor:pointer;transition:all .3s ease;border-bottom:1px solid #e5e5e5}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item:hover{background-color:#fafafa}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item.active{background-color:#e6f7ff;box-shadow:0 2px 8px #1890ff26}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-header .item-title{margin:0;font-size:16px;font-weight:600;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-header .status-tag{font-size:12px}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-content{margin-bottom:12px}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-content .item-field{display:flex;margin-bottom:6px;font-size:13px}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-content .item-field .field-label{color:#666;min-width:80px;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-content .item-field .field-value{color:#333;flex:1}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-footer{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-footer .submitter-info{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-footer .submitter-info .avatar{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px;font-weight:500}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-footer .submitter-info .submitter-name{font-size:13px;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .list-section .approval-list .approval-item .item-footer .time-info .process-time{font-size:12px;color:#999}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section{flex:1;height:100%;background:white;display:flex;flex-direction:column;overflow:hidden;position:relative}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-header{padding:12px 16px;border-bottom:1px solid #e5e5e5;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-header .header-left .item-id{font-size:14px;color:#666}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-header .header-right{display:flex;gap:8px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content{flex:1;overflow-y:auto;padding:16px 16px 70px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .content-header{display:flex;align-items:center;gap:12px;margin-bottom:12px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .content-header .content-title{margin:0;font-size:25px;font-weight:600;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .submitter-info-large{display:flex;align-items:center;gap:12px;margin-bottom:12px;padding:12px;background-color:#fafafa;border-radius:4px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .submitter-info-large .avatar-large{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px;font-weight:600}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .submitter-info-large .submitter-details{display:flex;justify-content:center;gap:4px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .submitter-info-large .submitter-details .submitter-name-large{font-size:16px;font-weight:600;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .submitter-info-large .submitter-details .submitter-dept{font-size:14px;color:#666}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .submitter-info-large .submitter-details .submit-time{font-size:13px;color:#999}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs   .ant-tabs-nav{margin-bottom:24px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .section-title{font-size:16px;font-weight:600;color:#333;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid #e5e5e5}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .detail-descriptions   .ant-descriptions-item-label{font-weight:500;color:#666}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .expense-table{margin-bottom:16px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .expense-table   .ant-table-thead>tr>th{background-color:#fafafa;font-weight:600;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .expense-summary{background-color:#fafafa;padding:16px;border-radius:6px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .expense-summary .summary-descriptions   .ant-descriptions-item-label{font-weight:500;color:#666}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .records-table   .ant-table-thead>tr>th{background-color:#fafafa;font-weight:600;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .records-table .approver-info{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .records-table .approver-info .avatar-small{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:10px;font-weight:500}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .records-table .approver-info .approver-name{font-size:13px;color:#333}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .detail-content .detail-tabs .tab-content .section .records-table .time-info .time-detail{font-size:12px;color:#999;margin-top:2px}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .fixed-bottom-actions{position:absolute;bottom:0;left:0;right:0;background:white;border-top:1px solid #e5e5e5;padding:12px 16px;display:flex;box-shadow:0 -2px 8px #0000000f;z-index:10;flex-shrink:0}[_nghost-%COMP%]     .flow-approval-container .main-content .detail-section .fixed-bottom-actions .action-buttons{display:flex;gap:8px;flex-wrap:wrap}[_nghost-%COMP%]     .amount-highlight{color:#ff6b35;font-weight:600}[_nghost-%COMP%]     .info-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}[_nghost-%COMP%]     .info-grid .info-item{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]     .info-grid .info-item .info-label{font-weight:500;color:#666;min-width:80px}[_nghost-%COMP%]     .info-grid .info-item .info-value{color:#333;flex:1}[_nghost-%COMP%]     .node-info .node-item{display:flex;align-items:center;gap:12px;padding:12px;background-color:#f8f9fa;border-radius:6px;margin-bottom:12px}[_nghost-%COMP%]     .node-info .node-item .node-name{font-weight:500;color:#333}[_nghost-%COMP%]     .node-info .node-item .node-type{padding:4px 8px;background-color:#e6f7ff;color:#1890ff;border-radius:4px;font-size:12px}[_nghost-%COMP%]     .node-info .node-branches{margin-left:24px}[_nghost-%COMP%]     .node-info .node-branches .branch-item{display:flex;align-items:center;gap:8px;padding:8px 12px;margin-bottom:8px;background-color:#fafafa;border-radius:4px;border-left:3px solid #d9d9d9}[_nghost-%COMP%]     .node-info .node-branches .branch-item .branch-name{font-weight:500;color:#333}[_nghost-%COMP%]     .node-info .node-branches .branch-item .branch-type{padding:2px 6px;background-color:#f0f0f0;color:#666;border-radius:3px;font-size:11px}[_nghost-%COMP%]     .comment-form{margin-bottom:0;padding:16px;background-color:#fafafa}[_nghost-%COMP%]     .comment-form   .ant-input-group-wrapper{width:100%}[_nghost-%COMP%]     .comment-form   .ant-input{border-radius:6px 0 0 6px}[_nghost-%COMP%]     .comment-form   .ant-btn{border-radius:0 6px 6px 0;height:32px}[_nghost-%COMP%]     .comments-list .comment-item{transition:background-color .3s ease;padding:16px;border-bottom:1px solid #f0f0f0}[_nghost-%COMP%]     .comments-list .comment-item:hover{background-color:#f0f0f0}[_nghost-%COMP%]     .comments-list .comment-item:last-child{border-bottom:none;margin-bottom:0}[_nghost-%COMP%]     .comments-list .comment-item .comment-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}[_nghost-%COMP%]     .comments-list .comment-item .comment-header .comment-user{display:flex;align-items:center;gap:8px}[_nghost-%COMP%]     .comments-list .comment-item .comment-header .comment-user .avatar-small{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px;font-weight:500}[_nghost-%COMP%]     .comments-list .comment-item .comment-header .comment-user .comment-username{font-weight:500;color:#333}[_nghost-%COMP%]     .comments-list .comment-item .comment-header .comment-time{font-size:12px;color:#999}[_nghost-%COMP%]     .comments-list .comment-item .comment-content{color:#333;line-height:1.5;padding-left:32px}"]})}}return n})()}];let Kr=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[Ye.iI.forChild(Zr),Ye.iI]})}}return n})();var Jr=c(2602),qr=c(4959),ea=c(7060),Qe=function(n){return n.TODAY="TODAY",n.FEW_DAYS="FEW_DAYS",n.FUTURE_DAYS="FUTURE_DAYS",n.RANGE="RANGE",n.GT="GT",n.LT="LT",n.EGT="EGT",n.ELT="ELT",n.NULL="NULL",n.NOT_NULL="NOT_NULL",n}(Qe||{}),We=function(n){return n.EQ="EQ",n.NEQ="NEQ",n.GT="GT",n.LT="LT",n.EGT="EGT",n.ELT="ELT",n.RANGE="RANGE",n.NULL="NULL",n.NOT_NULL="NOT_NULL",n}(We||{}),Ze=function(n){return n.EQ="EQ",n.NEQ="NEQ",n.NULL="NULL",n.NOT_NULL="NOT_NULL",n}(Ze||{}),B=function(n){return n.EQ="EQ",n.NEQ="NEQ",n.LIKE="LIKE",n.NOT_LIKE="NOT_LIKE",n.START_WITH="START_WITH",n.END_WITH="END_WITH",n.IN="IN",n.NOT_IN="NOT_IN",n.NULL="NULL",n.NOT_NULL="NOT_NULL",n}(B||{});function ta(n,a){1&n&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2,"\u6216"),e.k0s()())}function na(n,a){if(1&n&&(e.j41(0,"span",22),e.EFF(1),e.k0s()),2&n){const t=e.XpG().index;e.R7$(1),e.SpI("\u6761\u4ef6\u7ec4 ",t+1,"")}}function oa(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).index,r=e.XpG();return e.Njj(r.removeConditionGroup(i))}),e.nrm(1,"i",25),e.k0s()}}function ia(n,a){if(1&n&&e.DNE(0,oa,2,0,"button",23),2&n){const t=e.XpG(2);e.Y8G("ngIf",t.search.length>1)}}function ra(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",34)(1,"span",35),e.EFF(2,"\u4e14"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG().index,r=e.XpG().index,s=e.XpG();return e.Njj(s.removeCondition(r,i))}),e.nrm(4,"i",25),e.k0s()()}}function aa(n,a){if(1&n&&e.nrm(0,"nz-option",37),2&n){const t=e.XpG().$implicit;e.Y8G("nzValue",t.fieldName)("nzLabel",t.eruptFieldJson.edit.title)}}function sa(n,a){if(1&n&&(e.qex(0),e.DNE(1,aa,1,2,"nz-option",36),e.bVm()),2&n){const t=a.$implicit;e.R7$(1),e.Y8G("ngIf",null==t.eruptFieldJson.edit?null:t.eruptFieldJson.edit.title)}}function ca(n,a){if(1&n&&e.nrm(0,"nz-option",37),2&n){const t=a.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}const ee=function(){return{standalone:!0}};function la(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"nz-input-number",41),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2).index,s=e.XpG().index,p=e.XpG();return e.Njj(p.search[s][r].value=i)}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2).index,o=e.XpG().index,i=e.XpG();e.R7$(1),e.Y8G("ngModelOptions",e.lJ4(3,ee))("ngModel",i.search[o][t].value)("nzMin",0)}}function pa(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"input",42),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2).index,s=e.XpG().index,p=e.XpG();return e.Njj(p.search[s][r].value=i)}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2).index,o=e.XpG().index,i=e.XpG();e.R7$(1),e.Y8G("ngModelOptions",e.lJ4(2,ee))("ngModel",i.search[o][t].value)}}function da(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"nz-range-picker",43),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2).index,s=e.XpG().index,p=e.XpG();return e.Njj(p.search[s][r].value=i)}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2).index,o=e.XpG().index,i=e.XpG();e.R7$(1),e.Y8G("nzShowTime",!0)("ngModel",i.search[o][t].value)}}function ua(n,a){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"nz-select",44),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2).index,s=e.XpG().index,p=e.XpG();return e.Njj(p.search[s][r].value=i)}),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2).index,o=e.XpG().index,i=e.XpG();e.R7$(1),e.Y8G("ngModelOptions",e.lJ4(3,ee))("nzPlaceHolder","\u8bf7\u9009\u62e9")("ngModel",i.search[o][t].value)}}function ma(n,a){if(1&n&&(e.j41(0,"div",38)(1,"nz-form-item",39),e.DNE(2,la,2,4,"ng-container",40),e.DNE(3,pa,2,3,"ng-container",40),e.DNE(4,da,2,2,"ng-container",40),e.DNE(5,ua,2,4,"ng-container",40),e.k0s()()),2&n){const t=e.XpG().index,o=e.XpG().index,i=e.XpG();e.R7$(2),e.Y8G("ngIf","FUTURE_DAYS"===i.search[o][t].operator||"FEW_DAYS"===i.search[o][t].operator||"GT"===i.search[o][t].operator||"LT"===i.search[o][t].operator||"EGT"===i.search[o][t].operator||"ELT"===i.search[o][t].operator),e.R7$(1),e.Y8G("ngIf","EQ"===i.search[o][t].operator||"NEQ"===i.search[o][t].operator||"LIKE"===i.search[o][t].operator||"NOT_LIKE"===i.search[o][t].operator||"START_WITH"===i.search[o][t].operator||"END_WITH"===i.search[o][t].operator),e.R7$(1),e.Y8G("ngIf","RANGE"===i.search[o][t].operator),e.R7$(1),e.Y8G("ngIf","IN"===i.search[o][t].operator||"NOT_IN"===i.search[o][t].operator)}}function ha(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",26),e.DNE(1,ra,5,0,"div",27),e.j41(2,"div",28)(3,"nz-form-item")(4,"nz-select",29),e.bIt("ngModelChange",function(i){const s=e.eBV(t).index,p=e.XpG().index,f=e.XpG();return e.Njj(f.search[p][s].field=i)})("ngModelChange",function(){const r=e.eBV(t).index,s=e.XpG().index,p=e.XpG();return e.Njj(p.onFieldChange(s,r))}),e.DNE(5,sa,2,1,"ng-container",30),e.k0s()(),e.j41(6,"nz-form-item")(7,"nz-select",31),e.bIt("ngModelChange",function(i){const s=e.eBV(t).index,p=e.XpG().index,f=e.XpG();return e.Njj(f.search[p][s].operator=i)}),e.DNE(8,ca,1,2,"nz-option",32),e.k0s()(),e.DNE(9,ma,6,4,"div",33),e.k0s()()}if(2&n){const t=a.index,o=e.XpG().index,i=e.XpG();e.R7$(1),e.Y8G("ngIf",t>0),e.R7$(3),e.Y8G("ngModel",i.search[o][t].field)("ngModelOptions",e.lJ4(8,ee)),e.R7$(1),e.Y8G("ngForOf",i.eruptModel.eruptFieldModels),e.R7$(2),e.Y8G("ngModel",i.search[o][t].operator)("ngModelOptions",e.lJ4(9,ee)),e.R7$(1),e.Y8G("ngForOf",i.getOperator(i.search[o][t].field)),e.R7$(1),e.Y8G("ngIf",i.search[o][t].operator)}}function ga(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",12),e.DNE(1,ta,3,0,"div",13),e.j41(2,"nz-card",14),e.DNE(3,na,2,1,"ng-template",null,15,e.C5r),e.DNE(5,ia,1,1,"ng-template",null,16,e.C5r),e.j41(7,"div",17),e.DNE(8,ha,10,10,"div",18),e.j41(9,"button",19),e.bIt("click",function(){const r=e.eBV(t).index,s=e.XpG();return e.Njj(s.addCondition(r))}),e.nrm(10,"i",11),e.EFF(11," \u6dfb\u52a0\u6761\u4ef6 "),e.k0s()()()()}if(2&n){const t=a.$implicit,o=a.index,i=e.sdS(4),r=e.sdS(6);e.R7$(1),e.Y8G("ngIf",o>0),e.R7$(1),e.Y8G("nzTitle",i)("nzExtra",r)("nzSize","small"),e.R7$(6),e.Y8G("ngForOf",t)}}let fa=(()=>{class n{constructor(){this.search=[],this.editType=d.zl}ngOnInit(){(!this.search||0===this.search.length)&&(this.search=[[this.createEmptyCondition()]]),console.log(this.eruptModel)}getOperator(t){let o=[];if(!this.eruptModel||!this.eruptModel.eruptFieldModelMap.get(t))return o;let r={TODAY:"\u4eca\u5929",FEW_DAYS:"\u8fc7\u53bb N \u5929",FUTURE_DAYS:"\u672a\u6765 N \u5929",RANGE:"\u533a\u95f4",GT:"\u5927\u4e8e",LT:"\u5c0f\u4e8e",EGT:"\u5927\u4e8e\u7b49\u4e8e",ELT:"\u5c0f\u4e8e\u7b49\u4e8e",NULL:"\u4e3a\u7a7a",NOT_NULL:"\u975e\u7a7a",EQ:"\u7b49\u4e8e",NEQ:"\u4e0d\u7b49\u4e8e",LIKE:"\u76f8\u4f3c",NOT_LIKE:"\u4e0d\u76f8\u4f3c",START_WITH:"\u4ee5**\u5f00\u59cb",END_WITH:"\u4ee5**\u7ed3\u5c3e",IN:"\u5305\u542b\u4e8e",NOT_IN:"\u4e0d\u5305\u542b\u4e8e"};switch(this.eruptModel.eruptFieldModelMap.get(t).eruptFieldJson.edit.type){case d.zl.NUMBER:case d.zl.SLIDER:case d.zl.RATE:for(let s in We)o.push({label:r[s]||s,value:s});return o;case d.zl.DATE:for(let s in Qe)o.push({label:r[s]||s,value:s});return o;case d.zl.CHOICE:case d.zl.MULTI_CHOICE:case d.zl.REFERENCE_TABLE:case d.zl.REFERENCE_TREE:case d.zl.BOOLEAN:for(let s in Ze)o.push({label:r[s]||s,value:s});return o;default:for(let s in B)o.push({label:r[s]||s,value:s});return o}}isInputOperator(t){return[B.LIKE,B.NOT_LIKE,B.START_WITH,B.END_WITH].includes(t)}ngOnChanges(t){t.search&&!t.search.firstChange&&(this.search=0===this.search.length?[[this.createEmptyCondition()]]:this.search.map(o=>o&&o.length?o:[this.createEmptyCondition()]))}createEmptyCondition(){return{field:"",operator:B.EQ,value:""}}onFieldChange(t,o){const i=this.search[t]?.[o];if(!i)return;const r=this.getOperator(i.field)||[];r.length&&(i.operator=r[0].value),i.value=void 0}addConditionGroup(){this.search.push([this.createEmptyCondition()])}removeConditionGroup(t){t>=0&&t<this.search.length&&this.search.splice(t,1)}addCondition(t){this.search[t]||(this.search[t]=[]),this.search[t].push(this.createEmptyCondition())}removeCondition(t,o){this.search[t]&&this.search[t].splice(o,1)}resetForm(){this.search=[[this.createEmptyCondition()]]}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["erupt-smart-search"]],inputs:{eruptModel:"eruptModel",search:"search"},features:[e.OA$],decls:15,vars:1,consts:[[1,"smart-search-container"],[1,"header-section"],[1,"title-area"],[1,"main-title"],["nz-button","","nzType","default",2,"margin-left","auto",3,"click"],["nz-form","",1,"condition-builder"],[1,"condition-panel"],[1,"condition-groups"],["class","condition-group-wrapper",4,"ngFor","ngForOf"],[1,"add-group-section"],["nz-button","","nzType","dashed","nzBlock","",3,"click"],["nz-icon","","nzType","plus"],[1,"condition-group-wrapper"],["class","or-divider",4,"ngIf"],[1,"condition-group-card",3,"nzTitle","nzExtra","nzSize"],["cardTitle",""],["cardExtra",""],[1,"conditions-list"],["class","condition-item",4,"ngFor","ngForOf"],["nz-button","","nzType","dashed","nzSize","small",1,"add-condition-btn",3,"click"],[1,"or-divider"],[1,"or-text"],[1,"card-title-text"],["nz-button","","nzType","text","nzSize","small","nzDanger","",3,"click",4,"ngIf"],["nz-button","","nzType","text","nzSize","small","nzDanger","",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],[1,"condition-item"],["class","logic-label",4,"ngIf"],[1,"condition-content"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u5b57\u6bb5","nzShowSearch","",1,"field-select",3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],[1,"operator-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["class","value-row",4,"ngIf"],[1,"logic-label"],[1,"logic-text"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],[1,"value-row"],[1,"value-input-container"],[4,"ngIf"],[2,"width","100%",3,"ngModelOptions","ngModel","nzMin","ngModelChange"],["nz-input","","type","text","placeholder","\u8bf7\u8f93\u5165",3,"ngModelOptions","ngModel","ngModelChange"],[2,"width","100%",3,"nzShowTime","ngModel","ngModelChange"],["nzMode","tags",2,"width","100%",3,"ngModelOptions","nzPlaceHolder","ngModel","ngModelChange"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4," \u5f53\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u65f6\u8fdb\u5165\u5f53\u524d\u5206\u652f "),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return i.resetForm()}),e.EFF(6," \u91cd\u7f6e "),e.k0s()()(),e.j41(7,"form",5)(8,"div",6)(9,"div",7),e.DNE(10,ga,12,5,"div",8),e.k0s(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){return i.addConditionGroup()}),e.nrm(13,"i",11),e.EFF(14," \u6dfb\u52a0\u6761\u4ef6\u7ec4 "),e.k0s()()()()()),2&o&&(e.R7$(10),e.Y8G("ngForOf",i.search))},dependencies:[l.Sq,l.bT,u.qT,u.me,u.BC,u.cb,u.vS,u.cV,x.aO,w.c,T.p,ke.e,K.ld,K.WI,h.Dn,_.Sy,he.SN,he.vw,Be.FG,me.CA,me.Ls,Se.cK],styles:['.smart-search-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.header-section[_ngcontent-%COMP%]{margin-bottom:16px}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:500;color:#646464;display:flex;align-items:center;gap:8px}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00000073;font-size:14px}.condition-group-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}.condition-group-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.or-divider[_ngcontent-%COMP%]{text-align:center;margin:16px 0;position:relative}.or-divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:#f0f0f0;z-index:1}.or-divider[_ngcontent-%COMP%]   .or-text[_ngcontent-%COMP%]{background:#fff;padding:0 16px;color:#00000073;font-size:12px;font-weight:500;position:relative;z-index:2;border:1px solid #f0f0f0;border-radius:12px}.condition-group-card[_ngcontent-%COMP%]{border:1px solid #f0f0f0;border-radius:6px}.condition-group-card[_ngcontent-%COMP%]     .ant-card-head{min-height:48px;padding:0 16px}.condition-group-card[_ngcontent-%COMP%]     .ant-card-head .ant-card-head-title{padding:12px 0;font-size:14px;font-weight:500}.condition-group-card[_ngcontent-%COMP%]     .ant-card-head .ant-card-extra{padding:12px 0}.condition-group-card[_ngcontent-%COMP%]     .ant-card-body{padding:16px}.condition-group-card[_ngcontent-%COMP%]   .card-title-text[_ngcontent-%COMP%]{color:#000000d9}.conditions-list[_ngcontent-%COMP%]   .condition-item[_ngcontent-%COMP%]{margin-bottom:12px}.conditions-list[_ngcontent-%COMP%]   .condition-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.logic-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.logic-label[_ngcontent-%COMP%]   .logic-text[_ngcontent-%COMP%]{font-size:12px;color:#00000073;font-weight:500}.condition-content[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start;flex-wrap:wrap}.condition-content[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0;flex:1;min-width:150px}.condition-content[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]   .field-select[_ngcontent-%COMP%], .condition-content[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]   .operator-select[_ngcontent-%COMP%], .condition-content[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]   .value-select[_ngcontent-%COMP%]{width:100%}.condition-content[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%}.condition-content[_ngcontent-%COMP%]   .value-row[_ngcontent-%COMP%]{width:100%}.add-condition-btn[_ngcontent-%COMP%]{margin-top:8px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:24px}@media (max-width: 768px){.smart-search-container[_ngcontent-%COMP%]{padding:16px}.condition-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.condition-content[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{min-width:auto}.header-section[_ngcontent-%COMP%]   .title-area[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.or-divider[_ngcontent-%COMP%]{margin:12px 0}.or-divider[_ngcontent-%COMP%]   .or-text[_ngcontent-%COMP%]{padding:0 12px;font-size:11px}}']})}}return n})(),_a=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({providers:[E,se],imports:[qr.G,Kr,l.MD,u.YN,u.X1,qe.q1,H.ad,x.Zw,_.j,F.eq,R.Sg,h.Y3,It,me.PQ,K.DH,J.IJ,ne.Sw,he.LE,Ft.eT,Pt.$,Dt.Sk,jt.jw,Bt.SE,V.U6,Rt.g9,k.Qt,ge.MC,Se.Ti,Gt.g,Lt,ke.f3,Wt,fe.GP,cn,_e.hM,y.$G,ln.rD,pn.Yb,Ee.W2,Ce.T,Ie.m,oe.V,dn.i3,un.$,mn.K9,hn.sH,j._v,Gn,Wn,ao,so.GB,co.xQ,yo,wo.x2,Xo,Yo.jl,Be.GP,Jr.Cu,ea.EruptModule]})}}return n})();e.wjB(Y,[l.bT,u.me,u.BC,u.vS,x.aO,w.c,T.p,k.VJ,h.Dn,F.vg,F.wk,Xe],[]),e.wjB(Re,[l.bT,u.me,u.BC,u.vS,x.aO,w.c,T.p,k.VJ,h.Dn,F.vg,F.wk,Et,fa,Xe],[])}}]);