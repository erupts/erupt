(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-782507d8"],{"00ee":function(e,t,s){var i=s("b622"),o=i("toStringTag"),l={};l[o]="z",e.exports="[object z]"===String(l)},"0cb2":function(e,t,s){var i=s("e330"),o=s("7b0b"),l=Math.floor,n=i("".charAt),a=i("".replace),r=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,s,i,u,p){var m=s+e.length,h=i.length,f=d;return void 0!==u&&(u=o(u),f=c),a(p,f,(function(o,a){var c;switch(n(a,0)){case"$":return"$";case"&":return e;case"`":return r(t,0,s);case"'":return r(t,m);case"<":c=u[r(a,1,-1)];break;default:var d=+a;if(0===d)return o;if(d>h){var p=l(d/10);return 0===p?o:p<=h?void 0===i[p-1]?n(a,1):i[p-1]+n(a,1):o}c=i[d-1]}return void 0===c?"":c}))}},"2b36":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("el-form",{ref:"form",staticClass:"process-form",attrs:{"label-position":"top",rules:e.rules,model:e._value}},e._l(e.forms,(function(s,i){return"SpanLayout"!==s.name&&"Description"!==s.name?t("el-form-item",{key:s.name+i,attrs:{prop:s.id,label:s.title}},[t("form-design-render",{ref:"sub-item_"+s.id,refInFor:!0,attrs:{mode:e.mode,formDisable:e.formDisable,config:s},on:{change:e.change},model:{value:e._value[s.id],callback:function(t){e.$set(e._value,s.id,t)},expression:"_value[item.id]"}})],1):t("form-design-render",{ref:"span-layout",attrs:{mode:e.mode,formDisable:e.formDisable,config:s},model:{value:e._value,callback:function(t){e._value=t},expression:"_value"}})})),1)},o=[],l=s("d16b"),n={name:"FormRender",components:{FormDesignRender:l["a"]},props:{forms:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})},mode:{type:String,default:"PC"},formDisable:{type:Boolean,default:!1}},data(){return{rules:{}}},created(){this.loadFormConfig(this.forms)},computed:{_value:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{},methods:{validate(e){let t=!0;this.$refs.form.validate(s=>{if(t=s,s)for(let e=0;e<this.forms.length;e++)if("TableList"===this.forms[e].name){let s=this.$refs["sub-item_"+this.forms[e].id];if(s&&Array.isArray(s)&&s.length>0&&(s[0].validate(e=>{t=e}),!t))break}e(t)})},loadFormConfig(e){e.forEach(e=>{"SpanLayout"===e.name?this.loadFormConfig(e.props.items):(this.$set(this._value,e.id,this.value[e.id]),e.props.required&&this.$set(this.rules,e.id,[{type:"Array"===e.valueType?"array":void 0,required:!0,message:"ËØ∑Â°´ÂÜô"+e.title,trigger:"blur"}]))})},change(e,t){this.$emit("change",e,t)}}},a=n,r=(s("9257"),s("2877")),c=Object(r["a"])(a,i,o,!1,null,"4bde07c6",null);t["a"]=c.exports},"30c5":function(e,t,s){},"41f4":function(e,t,s){e.exports=s.p+"img/code.09fdd434.png"},"423b":function(e,t,s){"use strict";s("beb1")},"44e7":function(e,t,s){var i=s("861d"),o=s("c6b6"),l=s("b622"),n=l("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==o(e))}},4975:function(e,t,s){"use strict";s("f9e6")},"4b08":function(e,t,s){"use strict";s("d607")},"4c95":function(e,t,s){},"4e02":function(e,t,s){"use strict";s.d(t,"e",(function(){return o})),s.d(t,"f",(function(){return l})),s.d(t,"g",(function(){return n})),s.d(t,"h",(function(){return a})),s.d(t,"b",(function(){return r})),s.d(t,"m",(function(){return c})),s.d(t,"j",(function(){return d})),s.d(t,"k",(function(){return u})),s.d(t,"a",(function(){return p})),s.d(t,"d",(function(){return m})),s.d(t,"l",(function(){return h})),s.d(t,"i",(function(){return f})),s.d(t,"c",(function(){return v}));var i=s("0c6d");function o(e){return Object(i["a"])({url:"/admin/form/group",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/process/groups",method:"get",params:e})}function n(e){return Object(i["a"])({url:"/admin/form/sort",method:"put",data:e})}function a(e){return Object(i["a"])({url:"/admin/form/group/sort",method:"put",data:e})}function r(e){return Object(i["a"])({url:"/admin/form/group",method:"post",params:{groupName:e}})}function c(e,t){return Object(i["a"])({url:"/admin/form/group/"+e,method:"put",data:t})}function d(e){return Object(i["a"])({url:"/admin/form/group/"+e,method:"delete"})}function u(e,t){return Object(i["a"])({url:"/admin/form/"+e,method:"put",data:t})}function p(e){return Object(i["a"])({url:"/admin/form",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/admin/form/detail/"+e,method:"get"})}function h(e){return Object(i["a"])({url:"/admin/form/detail",method:"put",data:e})}function f(e){return Object(i["a"])({url:"/admin/form/"+e.formId,method:"delete",data:e})}function v(){return Object(i["a"])({url:"/forms",method:"get"})}},"53e5":function(e,t,s){"use strict";s("4c95")},"577e":function(e,t,s){var i=s("f5df"),o=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},"5b5a":function(e,t,s){},"5b81":function(e,t,s){"use strict";var i=s("23e7"),o=s("c65b"),l=s("e330"),n=s("1d80"),a=s("1626"),r=s("7234"),c=s("44e7"),d=s("577e"),u=s("dc4a"),p=s("90d8"),m=s("0cb2"),h=s("b622"),f=s("c430"),v=h("replace"),g=TypeError,b=l("".indexOf),y=l("".replace),_=l("".slice),k=Math.max,x=function(e,t,s){return s>e.length?-1:""===t?s:b(e,t,s)};i({target:"String",proto:!0},{replaceAll:function(e,t){var s,i,l,h,w,S,C,N,$,O=n(this),I=0,T=0,P="";if(!r(e)){if(s=c(e),s&&(i=d(n(p(e))),!~b(i,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(l=u(e,v),l)return o(l,e,O,t);if(f&&s)return y(d(O),e,t)}h=d(O),w=d(e),S=a(t),S||(t=d(t)),C=w.length,N=k(1,C),I=x(h,w,0);while(-1!==I)$=S?d(t(w,I,h)):m(w,h,I,[],void 0,t),P+=_(h,T,I)+$,T=I+C,I=x(h,w,I+N);return T<h.length&&(P+=_(h,T)),P}})},"5f6d":function(e,t,s){"use strict";s("5b5a")},"63b8":function(e,t,s){},"6a9e":function(e,t,s){},"6aef":function(e,t,s){"use strict";s("c948")},"6c5a":function(e,t,s){},"709c":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("w-dialog",{attrs:{border:!1,closeFree:"",width:"600px",title:e._title},on:{ok:e.selectOk},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("div",{staticClass:"picker"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"candidate"},["role"!==e.type?t("div",[t("el-input",{staticStyle:{width:"95%"},attrs:{size:"small",clearable:"",placeholder:"ÊêúÁ¥¢","prefix-icon":"el-icon-search"},on:{input:e.searchUser},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.showUsers,expression:"!showUsers"}]},[t("ellipsis",{staticStyle:{height:"18px",color:"#8c8c8c",padding:"5px 0 0"},attrs:{hoverTip:"",row:1,content:e.deptStackStr}},[t("i",{staticClass:"el-icon-office-building",attrs:{slot:"pre"},slot:"pre"})]),t("div",{staticStyle:{"margin-top":"5px"}},[e.multiple?t("el-checkbox",{on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("ÂÖ®ÈÄâ")]):e._e(),t("span",{directives:[{name:"show",rawName:"v-show",value:e.deptStack.length>0,expression:"deptStack.length > 0"}],staticClass:"top-dept",on:{click:e.beforeNode}},[e._v("‰∏ä‰∏ÄÁ∫ß")])],1)],1)],1):t("div",{staticClass:"role-header"},[t("div",[e._v("Á≥ªÁªüËßíËâ≤")])]),t("div",{staticClass:"org-items",style:"role"===e.type?"height: 350px":""},[t("el-empty",{directives:[{name:"show",rawName:"v-show",value:!e.nodes||0===e.nodes.length,expression:"!nodes || nodes.length === 0"}],attrs:{"image-size":100,description:"‰ºº‰πéÊ≤°ÊúâÊï∞ÊçÆ"}}),e._l(e.nodes,(function(s,i){return t("div",{key:i,class:e.orgItemClass(s)},[s.type===e.type?t("el-checkbox",{on:{change:function(t){return e.selectChange(s)}},model:{value:s.selected,callback:function(t){e.$set(s,"selected",t)},expression:"org.selected"}}):e._e(),"dept"===s.type?t("div",{on:{click:function(t){return e.triggerCheckbox(s)}}},[t("i",{staticClass:"el-icon-folder-opened"}),t("span",{staticClass:"name",attrs:{title:s.name}},[e._v(e._s(s.name.substring(0,12)))]),t("span",{class:"next-dept"+(s.selected?"-disable":""),on:{click:function(t){t.stopPropagation(),!s.selected&&e.nextNode(s)}}},[t("i",{staticClass:"iconfont icon-map-site"}),e._v(" ‰∏ãÁ∫ß ")])]):"user"===s.type?t("div",{staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){return e.triggerCheckbox(s)}}},[e.$isNotEmpty(s.avatar)?t("el-avatar",{attrs:{size:35,src:s.avatar}}):t("span",{staticClass:"avatar"},[e._v(e._s(e.getShortName(s.name)))]),t("span",{staticClass:"name",attrs:{title:s.name}},[e._v(e._s(s.name.substring(0,12)))])],1):t("div",{staticStyle:{display:"inline-block"},on:{click:function(t){return e.triggerCheckbox(s)}}},[t("i",{staticClass:"iconfont icon-bumen"}),t("span",{staticClass:"name",attrs:{title:s.name}},[e._v(e._s(s.name.substring(0,12)))])])],1)}))],2)]),t("div",{staticClass:"selected"},[t("div",{staticClass:"count"},[t("span",[e._v("Â∑≤ÈÄâ "+e._s(e.select.length)+" È°π")]),t("span",{on:{click:e.clearSelected}},[e._v("Ê∏ÖÁ©∫")])]),t("div",{staticClass:"org-items",staticStyle:{height:"350px"}},[t("el-empty",{directives:[{name:"show",rawName:"v-show",value:0===e.select.length,expression:"select.length === 0"}],attrs:{"image-size":100,description:"ËØ∑ÁÇπÂáªÂ∑¶‰æßÂàóË°®ÈÄâÊã©Êï∞ÊçÆ"}}),e._l(e.select,(function(s,i){return t("div",{key:i,class:e.orgItemClass(s)},["dept"===s.type?t("div",[t("i",{staticClass:"el-icon-folder-opened"}),t("span",{staticClass:"name",staticStyle:{position:"static"}},[e._v(e._s(s.name))])]):"user"===s.type?t("div",{staticStyle:{display:"flex","align-items":"center"}},[e.$isNotEmpty(s.avatar)?t("el-avatar",{attrs:{size:35,src:s.avatar}}):t("span",{staticClass:"avatar"},[e._v(e._s(e.getShortName(s.name)))]),t("span",{staticClass:"name"},[e._v(e._s(s.name))])],1):t("div",[t("i",{staticClass:"iconfont icon-bumen"}),t("span",{staticClass:"name"},[e._v(e._s(s.name))])]),t("i",{staticClass:"el-icon-close",on:{click:function(t){return e.noSelected(i)}}})])}))],2)])])])},o=[],l=(s("5b81"),s("14d9"),s("0c6d"));function n(e){return Object(l["a"])({url:"/oa/org/tree",method:"get",params:e})}function a(e){return Object(l["a"])({url:"/oa/org/tree/user",method:"get",params:e})}function r(e){return Object(l["a"])({url:"/oa/role",method:"get",params:e})}var c={name:"OrgPicker",components:{},props:{title:{default:"ËØ∑ÈÄâÊã©",type:String},type:{type:String,required:!0},multiple:{default:!1,type:Boolean},selected:{default:()=>[],type:Array}},data(){return{visible:!1,loading:!1,checkAll:!1,nowDeptId:null,isIndeterminate:!1,searchUsers:[],nodes:[],select:[],search:"",deptStack:[]}},computed:{_title(){return"user"===this.type?"ËØ∑ÈÄâÊã©Áî®Êà∑"+(this.multiple?"[Â§öÈÄâ]":"[ÂçïÈÄâ]"):"dept"===this.type?"ËØ∑ÈÄâÊã©ÈÉ®Èó®"+(this.multiple?"[Â§öÈÄâ]":"[ÂçïÈÄâ]"):"role"===this.type?"ËØ∑ÈÄâÊã©ËßíËâ≤"+(this.multiple?"[Â§öÈÄâ]":"[ÂçïÈÄâ]"):"-"},deptStackStr(){return String(this.deptStack.map(e=>e.name)).replaceAll(","," > ")},showUsers(){return this.search||""!==this.search.trim()}},methods:{show(){this.visible=!0,this.init(),this.getDataList()},orgItemClass(e){return{"org-item":!0,"org-dept-item":"dept"===e.type,"org-user-item":"user"===e.type,"org-role-item":"role"===e.type}},getDataList(){if(this.loading=!0,"user"===this.type)return a({deptId:this.nowDeptId,keywords:this.search}).then(e=>{this.loading=!1,this.nodes=e.data,this.selectToLeft()}),"ËØ∑ÈÄâÊã©Áî®Êà∑";"dept"===this.type?n({deptId:this.nowDeptId,keywords:this.search}).then(e=>{this.loading=!1,this.nodes=e.data,this.selectToLeft()}):"role"===this.type&&r({deptId:this.nowDeptId,keywords:this.search}).then(e=>{this.loading=!1,this.nodes=e.data,this.selectToLeft()})},getShortName(e){return e?e.length>2?e.substring(1,3):e:"**"},searchUser(){},selectToLeft(){let e=""===this.search.trim()?this.nodes:this.searchUsers;e.forEach(e=>{for(let t=0;t<this.select.length;t++){if(this.select[t].id===e.id){e.selected=!0;break}e.selected=!1}})},triggerCheckbox(e){e.type==this.type&&(e.selected=!e.selected,this.selectChange(e))},selectChange(e){if(e.selected)this.multiple||(this.nodes.forEach(e=>{e.selected=!1}),this.select=[]),e.selected=!0,this.select.push(e);else{this.checkAll=!1;for(let t=0;t<this.select.length;t++)if(this.select[t].id===e.id){this.select.splice(t,1);break}}},noSelected(e){let t=this.nodes;for(let s=0;s<2;s++){for(let s=0;s<t.length;s++)if(t[s].id===this.select[e].id){t[s].selected=!1,this.checkAll=!1;break}t=this.searchUsers}this.select.splice(e,1)},handleCheckAllChange(){this.nodes.forEach(e=>{if(this.checkAll)e.selected||e.type!=this.type||(e.selected=!0,this.select.push(e));else{e.selected=!1;for(let t=0;t<this.select.length;t++)if(this.select[t].id===e.id){this.select.splice(t,1);break}}})},nextNode(e){this.nowDeptId=e.id,this.deptStack.push(e),this.getDataList()},beforeNode(){0!==this.deptStack.length&&(this.deptStack.length<2?this.nowDeptId=null:this.nowDeptId=this.deptStack[this.deptStack.length-2].id,this.deptStack.splice(this.deptStack.length-1,1),this.getDataList())},recover(){this.select=[],this.nodes.forEach(e=>e.selected=!1)},selectOk(){this.$emit("ok",Object.assign([],this.select.map(e=>(e.avatar=void 0,e)))),this.visible=!1,this.recover()},clearSelected(){this.$confirm("ÊÇ®Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫Â∑≤ÈÄâ‰∏≠ÁöÑÈ°π?","ÊèêÁ§∫",{confirmButtonText:"Á°ÆÂÆö",cancelButtonText:"ÂèñÊ∂à",type:"warning"}).then(()=>{this.recover()})},close(){this.$emit("close"),this.recover()},init(){this.checkAll=!1,this.nowDeptId=null,this.deptStack=[],this.nodes=[],this.select=Object.assign([],this.selected),this.selectToLeft()}}},d=c,u=(s("96dd"),s("2877")),p=Object(u["a"])(d,i,o,!1,null,"100ea722",null);t["a"]=p.exports},7304:function(e,t,s){"use strict";s("88b9")},"78e9":function(e,t,s){},"7f71":function(e,t,s){},8032:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o}));const i={string:"String",object:"Object",array:"Array",number:"Number",date:"Date",user:"User",dept:"Dept",role:"Role",dateRange:"DateRange"},o=[{name:"Â∏ÉÂ±Ä",components:[{title:"ÂàÜÊ†èÂ∏ÉÂ±Ä",name:"SpanLayout",icon:"el-icon-c-scale-to-original",value:[],valueType:i.array,props:{items:[]}}]},{name:"Âü∫Á°ÄÁªÑ‰ª∂",components:[{title:"ÂçïË°åÊñáÊú¨ËæìÂÖ•",name:"TextInput",icon:"el-icon-edit",value:"",valueType:i.string,props:{required:!1,enablePrint:!0}},{title:"Â§öË°åÊñáÊú¨ËæìÂÖ•",name:"TextareaInput",icon:"el-icon-more-outline",value:"",valueType:i.string,props:{required:!1,enablePrint:!0}},{title:"Êï∞Â≠óËæìÂÖ•Ê°Ü",name:"NumberInput",icon:"el-icon-edit-outline",value:"",valueType:i.number,props:{required:!1,enablePrint:!0}},{title:"ÈáëÈ¢ùËæìÂÖ•Ê°Ü",name:"AmountInput",icon:"iconfont icon-zhufangbutiezhanghu",value:"",valueType:i.number,props:{required:!1,enablePrint:!0,showChinese:!0}},{title:"ÂçïÈÄâÊ°Ü",name:"SelectInput",icon:"el-icon-circle-check",value:"",valueType:i.string,props:{required:!1,enablePrint:!0,expanding:!1,options:["ÈÄâÈ°π1","ÈÄâÈ°π2"]}},{title:"Â§öÈÄâÊ°Ü",name:"MultipleSelect",icon:"iconfont icon-duoxuankuang",value:[],valueType:i.array,props:{required:!1,enablePrint:!0,expanding:!1,options:["ÈÄâÈ°π1","ÈÄâÈ°π2"]}},{title:"Êó•ÊúüÊó∂Èó¥ÁÇπ",name:"DateTime",icon:"el-icon-date",value:"",valueType:i.date,props:{required:!1,enablePrint:!0,format:"yyyy-MM-dd HH:mm"}},{title:"Êó•ÊúüÊó∂Èó¥Âå∫Èó¥",name:"DateTimeRange",icon:"iconfont icon-kaoqin",valueType:i.dateRange,props:{required:!1,enablePrint:!0,placeholder:["ÂºÄÂßãÊó∂Èó¥","ÁªìÊùüÊó∂Èó¥"],format:"yyyy-MM-dd HH:mm",showLength:!1}},{title:"‰∏ä‰º†ÂõæÁâá",name:"ImageUpload",icon:"el-icon-picture-outline",value:[],valueType:i.array,props:{required:!1,enablePrint:!0,maxSize:5,maxNumber:10,enableZip:!0}},{title:"‰∏ä‰º†ÈôÑ‰ª∂",name:"FileUpload",icon:"el-icon-folder-opened",value:[],valueType:i.array,props:{required:!1,enablePrint:!0,onlyRead:!1,maxSize:100,maxNumber:10,fileTypes:[]}},{title:"‰∫∫ÂëòÈÄâÊã©",name:"UserPicker",icon:"el-icon-user",value:[],valueType:i.user,props:{required:!1,enablePrint:!0,multiple:!1}},{title:"ÈÉ®Èó®ÈÄâÊã©",name:"DeptPicker",icon:"iconfont icon-map-site",value:[],valueType:i.dept,props:{required:!1,enablePrint:!0,multiple:!1}},{title:"ËßíËâ≤ÈÄâÊã©",name:"RolePicker",icon:"el-icon-s-custom",value:[],valueType:i.role,props:{required:!1,enablePrint:!0,multiple:!1}},{title:"ËØ¥ÊòéÊñáÂ≠ó",name:"Description",icon:"el-icon-warning-outline",value:"",valueType:i.string,props:{required:!1,enablePrint:!0}}]},{name:"Êâ©Â±ïÁªÑ‰ª∂",components:[{title:"ÊòéÁªÜË°®",name:"TableList",icon:"el-icon-tickets",value:[],valueType:i.array,props:{required:!1,enablePrint:!0,showBorder:!0,rowLayout:!0,showSummary:!1,summaryColumns:[],maxSize:0,columns:[]}}]}]},"80d6":function(e,t,s){},"85ec":function(e,t,s){"use strict";s("a716")},"88b9":function(e,t,s){},"8f74":function(e,t,s){},"90d8":function(e,t,s){var i=s("c65b"),o=s("1a2d"),l=s("3a9b"),n=s("ad6d"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!l(a,e)?t:i(n,e)}},9257:function(e,t,s){"use strict";s("bab7")},"96b7":function(e,t,s){"use strict";s("6c5a")},"96dd":function(e,t,s){"use strict";s("d66a")},"9b5b":function(e,t,s){},"9d05":function(e,t,s){},a2c5:function(e){e.exports=JSON.parse('{"id":"3538338","name":"wflow","font_family":"iconfont","css_prefix_text":"icon-","description":"","glyphs":[{"icon_id":"807897","name":"iconfont-kefu","font_class":"iconfontkefu","unicode":"e61c","unicode_decimal":58908},{"icon_id":"1313126","name":"BBDÂØÜÁ†Å","font_class":"mima","unicode":"e648","unicode_decimal":58952},{"icon_id":"2131309","name":"‰∫∫ÂäõÁ§æ‰øù","font_class":"renlishebao","unicode":"e636","unicode_decimal":58934},{"icon_id":"4774868","name":"ÈÉ®Èó®","font_class":"bumen","unicode":"e758","unicode_decimal":59224},{"icon_id":"6337457","name":"ÊèíÂÖ•ÂõæÁâá","font_class":"charutupian","unicode":"ec7f","unicode_decimal":60543},{"icon_id":"2958951","name":"ËÄÉÂã§ÁÆ°ÁêÜ","font_class":"kaoqinguanli","unicode":"e610","unicode_decimal":58896},{"icon_id":"3007689","name":"Ë∫´‰ªΩËØÅ","font_class":"shenfenzheng","unicode":"e614","unicode_decimal":58900},{"icon_id":"5121522","name":"‰ΩçÁΩÆ","font_class":"weizhi","unicode":"e64b","unicode_decimal":58955},{"icon_id":"7568869","name":"24gf-phoneBubble","font_class":"24gf-phoneBubble","unicode":"e966","unicode_decimal":59750},{"icon_id":"11134714","name":"ËÄÉÂã§","font_class":"kaoqin","unicode":"e643","unicode_decimal":58947},{"icon_id":"15972093","name":"‰ºöËÆÆ","font_class":"huiyi","unicode":"e61b","unicode_decimal":58907},{"icon_id":"19883444","name":"Âä†Áè≠","font_class":"jiaban","unicode":"e637","unicode_decimal":58935},{"icon_id":"1392555","name":"Ë°®Ê†º","font_class":"biaoge","unicode":"e665","unicode_decimal":58981},{"icon_id":"3868276","name":"‰ΩøÁî®ÊñáÊ°£","font_class":"shiyongwendang","unicode":"eb66","unicode_decimal":60262},{"icon_id":"5881147","name":"Â§öÈÄâÊ°Ü","font_class":"duoxuankuang","unicode":"e62e","unicode_decimal":58926},{"icon_id":"26323690","name":"ÂçïÈÄâ","font_class":"danxuan","unicode":"e751","unicode_decimal":59217},{"icon_id":"5032","name":"Âá∫Áßü","font_class":"chuzu","unicode":"e600","unicode_decimal":58880},{"icon_id":"1079372","name":"ÊãõËÅò","font_class":"zhaopin","unicode":"e647","unicode_decimal":58951},{"icon_id":"1183143","name":"Ë¥¢Âä°","font_class":"caiwu","unicode":"e67d","unicode_decimal":59005},{"icon_id":"1727267","name":"05ÈááË¥≠","font_class":"caigou","unicode":"e887","unicode_decimal":59527},{"icon_id":"1876349","name":"ÊàëÁöÑ‰∫ßÂìÅ","font_class":"wodechanpin","unicode":"e679","unicode_decimal":59001},{"icon_id":"1977843","name":"ÂèëÁ•®ÁÆ°ÁêÜ","font_class":"fapiaoguanli","unicode":"e63b","unicode_decimal":58939},{"icon_id":"7790995","name":"Â∑•ËµÑ","font_class":"gongzi","unicode":"e7e9","unicode_decimal":59369},{"icon_id":"10120009","name":"‰ΩèÊàøË°•Ë¥¥Ë¥¶Êà∑","font_class":"zhufangbutiezhanghu","unicode":"e60c","unicode_decimal":58892},{"icon_id":"11435446","name":"Áª¥‰øÆ","font_class":"weixiu","unicode":"e613","unicode_decimal":58899},{"icon_id":"11435453","name":"ÂëòÂ∑•Á¶ªËÅå","font_class":"yuangonglizhi","unicode":"e615","unicode_decimal":58901},{"icon_id":"11435456","name":"ÊãõËÅòÁÆ°ÁêÜ","font_class":"zhaopinguanli","unicode":"e616","unicode_decimal":58902},{"icon_id":"12911861","name":"Ë¥¢Âä°","font_class":"caiwu1","unicode":"e603","unicode_decimal":58883},{"icon_id":"14443545","name":"ËØ∑ÂÅáÁî≥ËØ∑","font_class":"qingjiashenqing","unicode":"e60d","unicode_decimal":58893},{"icon_id":"14947326","name":"Âá∫Â∑Æ","font_class":"ziyuan207","unicode":"e722","unicode_decimal":59170},{"icon_id":"17187052","name":"Áî®È§êÂ∞±È§ê","font_class":"yongcanjiucan","unicode":"e67e","unicode_decimal":59006},{"icon_id":"18170995","name":"Âú∞ÂõæÁªÑÁªáÁ´ôÁÇπ,Â±ÇÁ∫ß,‰∏ãÁ∫ß,ÁªÑÁªáÊû∂ÊûÑÂ∏ÉÂ±Ä","font_class":"map-site","unicode":"ea00","unicode_decimal":59904},{"icon_id":"21053836","name":"ÂêàÂêå","font_class":"hetong","unicode":"e68a","unicode_decimal":59018},{"icon_id":"21159370","name":"Ë°•Âç°","font_class":"buka","unicode":"e6ca","unicode_decimal":59082},{"icon_id":"24080655","name":"Âá∫Â∑Æ","font_class":"chucha","unicode":"e6c7","unicode_decimal":59079},{"icon_id":"24283254","name":"Êä•ÈîÄÁî≥ËØ∑-Ë¥πÁî®Êä•ÈîÄÁî≥ËØ∑-02","font_class":"baoxiaoshenqing-feiyongbaoxiaoshenqing-02","unicode":"e726","unicode_decimal":59174},{"icon_id":"29522596","name":"11CÂàÜÁªÑ,ÁªÑÁªáÊ†ë","font_class":"a-11Cfenzuzuzhishu","unicode":"e676","unicode_decimal":58998}]}')},a716:function(e,t,s){},a944:function(e,t,s){"use strict";s("6a9e")},ad6d:function(e,t,s){"use strict";var i=s("825a");e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},b274:function(e,t,s){"use strict";s("f6e7")},b7e4:function(e,t,s){"use strict";s("eb85")},bab7:function(e,t,s){},bc14:function(e,t,s){"use strict";s("9b5b")},beb1:function(e,t,s){},bf29:function(e,t,s){},c948:function(e,t,s){},cefb:function(e,t,s){"use strict";s("63b8")},d003:function(e,t,s){},d16b:function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t(e.config.name,e._b({ref:"form",tag:"component",attrs:{mode:e.mode,formDisable:e.formDisable},on:{change:e.change},model:{value:e._value,callback:function(t){e._value=t},expression:"_value"}},"component",e.config.props,!1))},o=[];let l=()=>s.e("chunk-26c5db12").then(s.bind(null,"b28d")),n=()=>s.e("chunk-76d1ec8f").then(s.bind(null,"cf45")),a=()=>s.e("chunk-5f45dc72").then(s.bind(null,"5cb6")),r=()=>s.e("chunk-790652fa").then(s.bind(null,"d158")),c=()=>s.e("chunk-8b173cd0").then(s.bind(null,"0d29")),d=()=>s.e("chunk-c0be42b4").then(s.bind(null,"412b")),u=()=>s.e("chunk-4684e5ce").then(s.bind(null,"f89a")),p=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-3c5bfb4f")]).then(s.bind(null,"4f98")),m=()=>s.e("chunk-ff757d9a").then(s.bind(null,"77aa")),h=()=>s.e("chunk-63081f7a").then(s.bind(null,"db9e")),f=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-1b91adc2")]).then(s.bind(null,"023d")),v=()=>s.e("chunk-2d0f04df").then(s.bind(null,"9c98")),g=()=>s.e("chunk-2d0e4c53").then(s.bind(null,"9248")),b=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-0c788674")]).then(s.bind(null,"f13b")),y=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-4d4659b4")]).then(s.bind(null,"86c3")),_=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-4dd0600d")]).then(s.bind(null,"6ea6")),k=()=>s.e("chunk-2d0e9937").then(s.bind(null,"8db7")),x=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-11c03a8b"),s.e("chunk-12aa92e6")]).then(s.bind(null,"918a")),w=()=>Promise.all([s.e("chunk-632f0cb0"),s.e("chunk-11c03a8b"),s.e("chunk-d69b4ae0")]).then(s.bind(null,"7ca0"));var S={TextInput:l,NumberInput:n,AmountInput:a,TextareaInput:r,SelectInput:c,MultipleSelect:d,DateTime:u,DateTimeRange:p,UserPicker:y,DeptPicker:b,RolePicker:_,Description:m,FileUpload:f,ImageUpload:h,MoneyInput:g,Location:v,SignPanel:k,SpanLayout:x,TableList:w},C={name:"FormRender",components:S,props:{mode:{type:String,default:"DESIGN"},formDisable:{type:Boolean,default:!1},value:{default:void 0},config:{type:Object,default:()=>({})}},computed:{_value:{get(){return this.value},set(e){this.$emit("input",e)}}},data(){return{}},methods:{validate(e){this.$refs.form.validate(e)},change(e){this.$emit("change",this.config.id,e)}}},N=C,$=s("2877"),O=Object($["a"])(N,i,o,!1,null,"755de815",null);t["a"]=O.exports},d607:function(e,t,s){},d626:function(e,t,s){"use strict";s("7f71")},d66a:function(e,t,s){},d6a9:function(e,t,s){"use strict";s("78e9")},d776:function(e,t,s){"use strict";s("30c5")},da97:function(e,t,s){"use strict";s("80d6")},e3bb:function(e,t,s){"use strict";s("d003")},e5e0:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{background:"white"}},[t("layout-header",{on:{publish:e.publishProcess,preview:e.preview},model:{value:e.activeSelect,callback:function(t){e.activeSelect=t},expression:"activeSelect"}})],1),t("div",{staticClass:"layout-body"},[t("form-base-setting",{directives:[{name:"show",rawName:"v-show",value:"baseSetting"===e.activeSelect,expression:"activeSelect === 'baseSetting'"}],ref:"baseSetting"}),t("form-design",{directives:[{name:"show",rawName:"v-show",value:"formSetting"===e.activeSelect,expression:"activeSelect === 'formSetting'"}],ref:"formSetting"}),t("process-design",{directives:[{name:"show",rawName:"v-show",value:"processDesign"===e.activeSelect,expression:"activeSelect === 'processDesign'"}],ref:"processDesign"}),t("form-pro-setting",{directives:[{name:"show",rawName:"v-show",value:"proSetting"===e.activeSelect,expression:"activeSelect === 'proSetting'"}],ref:"proSetting"})],1),t("w-dialog",{attrs:{showFooter:!1,title:"ËÆæÁΩÆÈ°πÊ£ÄÊü•"},model:{value:e.validVisible,callback:function(t){e.validVisible=t},expression:"validVisible"}},[t("el-steps",{attrs:{"align-center":"",active:e.validStep,"finish-status":"success"}},e._l(e.validOptions,(function(e,s){return t("el-step",{key:s,attrs:{title:e.title,icon:e.icon,status:e.status,description:e.description}})})),1),t("el-result",{attrs:{icon:e.validIcon,title:e.errTitle,subTitle:e.validResult.desc}},[e.validResult.finished?e._e():t("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"30px"},attrs:{slot:"icon"},slot:"icon"}),e.validResult.errs.length>0?t("div",{staticClass:"err-info",attrs:{slot:"subTitle"},slot:"subTitle"},e._l(e.validResult.errs,(function(e,s){return t("ellipsis",{key:s+"_err",attrs:{"hover-tip":"",content:e}},[t("i",{staticClass:"el-icon-warning-outline",attrs:{slot:"pre"},slot:"pre"})])})),1):e._e(),t("template",{slot:"extra"},[e.validResult.finished?t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.doAfter}},[e._v(" "+e._s(e.validResult.action)+" ")]):e._e()],1)],2)],1)],1)},o=[],l=(s("14d9"),function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"header"},[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.value,"active-text-color":"#409eff",mode:"horizontal"},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"baseSetting"},on:{click:function(t){return e.to("baseSetting")}}},[e._v("‚ë† Âü∫Á°Ä‰ø°ÊÅØ")]),t("el-menu-item",{attrs:{index:"formSetting"},on:{click:function(t){return e.to("formSetting")}}},[e._v("‚ë° Ë°®Âçï")]),t("el-menu-item",{attrs:{index:"processDesign"},on:{click:function(t){return e.to("processDesign")}}},[e._v("‚ë¢ ÂÆ°ÊâπÊµÅÁ®ã ")]),t("el-menu-item",{attrs:{index:"proSetting"},on:{click:function(t){return e.to("proSetting")}}},[e._v("‚ë£ Êâ©Â±ïËÆæÁΩÆ")])],1),t("div",{staticClass:"publish"},[t("el-button",{attrs:{size:"mini"},on:{click:e.preview}},[t("i",{staticClass:"el-icon-view"}),e._v("È¢ÑËßà")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.publish}},[t("i",{staticClass:"el-icon-s-promotion"}),e._v("ÂèëÂ∏É")])],1),t("div",{staticClass:"back"},[t("el-button",{attrs:{size:"medium",icon:"el-icon-arrow-left",circle:""},on:{click:e.exit}}),t("span",[t("i",{class:e.setup.logo&&e.setup.logo.icon,style:"background:"+(e.setup.logo&&e.setup.logo.background)}),t("span",[e._v(e._s(e.setup.formName))])])],1)],1),t("el-dialog",{attrs:{title:"ËØ∑‰ΩøÁî®ÊâãÊú∫Êâ´Á†ÅÈ¢ÑËßà",visible:e.viewCode,width:"300px","close-on-click-modal":!1,center:""},on:{"update:visible":function(t){e.viewCode=t}}},[t("img",{attrs:{src:s("41f4"),width:"250",height:"250"}})])],1)}),n=[],a=s("3786"),r={name:"LayoutHeader",props:{value:{type:String,default:"baseSetup"}},data(){return{viewCode:!1}},computed:{setup(){return this.$store.state.design}},created(){this.check()},mounted(){document.body.offsetWidth<=970&&this.$msgbox.alert("Êú¨ËÆæËÆ°Âô®Êú™ÈÄÇÈÖç‰∏≠Â∞èÂ±èÂπïÔºåÂª∫ËÆÆÊÇ®Âú®PCÁîµËÑëÁ´ØÊµèËßàÂô®ËøõË°åÊìç‰Ωú"),this.listener()},methods:{publish(){this.$emit("publish")},preview(){this.$emit("preview"),this.viewCode=!0},valid(){return!!this.$isNotEmpty(this.setup.group)||(this.$message.warning("ËØ∑ÈÄâÊã©ÂàÜÁªÑ"),this.$router.push("/layout/baseSetup?_token="+Object(a["a"])()),!1)},exit(){this.$confirm("Êú™ÂèëÂ∏ÉÁöÑÂÜÖÂÆπÂ∞Ü‰∏ç‰ºöË¢´‰øùÂ≠òÔºåÊòØÂê¶Áõ¥Êé•ÈÄÄÂá∫ ?","ÊèêÁ§∫",{confirmButtonText:"ÈÄÄÂá∫",cancelButtonText:"ÂèñÊ∂à",type:"warning"}).then(()=>{this.$router.push("/formsPanel?_token="+Object(a["a"])())})},to(e){this.$emit("input",e)},handleSelect(e,t){},listener(){window.onunload=this.closeBefore(),window.onbeforeunload=this.closeBefore()},closeBefore(){return!1},check(){this.$store.state.isEditFormProcessDesign}}},c=r,d=(s("53e5"),s("2877")),u=Object(d["a"])(c,l,n,!1,null,"0a3a959b",null),p=u.exports,m=s("4e02"),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-setup",on:{click:function(t){e.showIconSelect=!1}}},[t("el-form",{ref:"baseSetting",attrs:{model:e.setup,"label-position":"top","label-width":"80px"}},[e.setup.logo?t("el-form-item",{attrs:{label:"Ë°®ÂçïÂõæÊ†á"}},[t("i",{class:e.setup.logo.icon,style:"background:"+e.setup.logo.background}),t("span",{staticClass:"change-icon"},[t("span",[t("span",[e._v("ÈÄâÊã©ËÉåÊôØËâ≤")]),t("el-color-picker",{attrs:{"show-alpha":"",size:"small",predefine:e.colors},model:{value:e.setup.logo.background,callback:function(t){e.$set(e.setup.logo,"background",t)},expression:"setup.logo.background"}})],1),t("span",[t("span",[e._v("ÈÄâÊã©ÂõæÊ†á")]),t("el-popover",{attrs:{placement:"bottom-start",width:"390",trigger:"click"}},[t("div",{staticClass:"icon-select"},e._l(e.icons,(function(s,i){return t("i",{key:i,class:s,on:{click:function(t){e.setup.logo.icon=s}}})})),0),t("i",{class:e.setup.logo.icon,attrs:{slot:"reference"},slot:"reference"})]),t("i",{class:e.setup.icon,on:{click:function(t){t.stopPropagation(),e.showIconSelect=!0}}})],1)])]):e._e(),t("el-form-item",{attrs:{label:"Ë°®ÂçïÂêçÁß∞",rules:e.getRule("ËØ∑ËæìÂÖ•Ë°®ÂçïÂêçÁß∞"),prop:"formName"}},[t("el-input",{attrs:{size:"medium"},model:{value:e.setup.formName,callback:function(t){e.$set(e.setup,"formName",t)},expression:"setup.formName"}})],1),t("el-form-item",{staticClass:"group",attrs:{label:"ÊâÄÂú®ÂàÜÁªÑ",rules:e.getRule("ËØ∑ÈÄâÊã©Ë°®ÂçïÂàÜÁªÑ"),prop:"groupId"}},[t("el-select",{attrs:{placeholder:"ËØ∑ÈÄâÊã©ÂàÜÁªÑ",size:"medium"},model:{value:e.setup.groupId,callback:function(t){e.$set(e.setup,"groupId",t)},expression:"setup.groupId"}},e._l(e.fromGroup,(function(e,s){return t("el-option",{directives:[{name:"show",rawName:"v-show",value:e.groupId>-1,expression:"op.groupId > -1"}],key:s,attrs:{label:e.groupName,value:e.groupId}})})),1),t("el-popover",{attrs:{placement:"bottom-end",title:"Êñ∞Âª∫Ë°®ÂçïÂàÜÁªÑ",width:"300",trigger:"click"}},[t("el-input",{attrs:{size:"medium",placeholder:"ËØ∑ËæìÂÖ•Êñ∞ÁöÑÂàÜÁªÑÂêç"},model:{value:e.newGroup,callback:function(t){e.newGroup=t},expression:"newGroup"}},[t("el-button",{attrs:{slot:"append",size:"medium",type:"primary"},on:{click:e.addGroup},slot:"append"},[e._v("Êèê‰∫§")])],1),t("el-button",{attrs:{slot:"reference",icon:"el-icon-plus",size:"medium",type:"primary"},slot:"reference"},[e._v("Êñ∞Âª∫ÂàÜÁªÑ")])],1)],1),t("el-form-item",{attrs:{label:"Ë°®ÂçïËØ¥Êòé"}},[t("el-input",{attrs:{placeholder:"ËØ∑ËæìÂÖ•Ë°®ÂçïËØ¥Êòé",type:"textarea","show-word-limit":"",autosize:{minRows:2,maxRows:5},maxlength:"500"},model:{value:e.setup.remark,callback:function(t){e.$set(e.setup,"remark",t)},expression:"setup.remark"}})],1),e.setup.settings?t("el-form-item",{attrs:{label:"Ê∂àÊÅØÈÄöÁü•ÊñπÂºè",rules:e.getRule("ËØ∑ÈÄâÊã©Ê∂àÊÅØÈÄöÁü•ÊñπÂºè")}},[t("el-select",{staticStyle:{width:"30%"},attrs:{"value-key":"name",placeholder:"ÈÄâÊã©Ê∂àÊÅØÈÄöÁü•ÊñπÂºè",size:"medium",clearable:"",multiple:"","collapse-tags":""},model:{value:e.setup.settings.notify.types,callback:function(t){e.$set(e.setup.settings.notify,"types",t)},expression:"setup.settings.notify.types"}},e._l(e.notifyTypes,(function(e,s){return t("el-option",{key:s,attrs:{label:e.name,value:e}})})),1),t("el-input",{staticStyle:{width:"68%",float:"right"},attrs:{size:"medium",placeholder:"Ê∂àÊÅØÈÄöÁü•Ê†áÈ¢ò"},model:{value:e.setup.settings.notify.title,callback:function(t){e.$set(e.setup.settings.notify,"title",t)},expression:"setup.settings.notify.title"}})],1):e._e()],1),t("org-picker",{ref:"orgPicker",attrs:{title:"ËØ∑ÈÄâÊã©ÂèØ‰ª•ÁÆ°ÁêÜÊ≠§Ë°®ÂçïÁöÑ‰∫∫Âëò",multiple:"",type:"user",selected:e.select},on:{ok:e.selected}})],1)},f=[],v=s("709c"),g=s("a2c5"),b={name:"FormBaseSetting",components:{OrgPicker:v["a"]},data(){return{nowUserSelect:null,showIconSelect:!1,select:[],newGroup:"",fromGroup:[],notifyTypes:[{type:"APP",name:"Â∫îÁî®ÂÜÖÈÄöÁü•"},{type:"EMAIL",name:"ÈÇÆ‰ª∂ÈÄöÁü•"},{type:"SMS",name:"Áü≠‰ø°ÈÄöÁü•"},{type:"WX",name:"ÂæÆ‰ø°ÈÄöÁü•"},{type:"DING",name:"ÈíâÈíâÈÄöÁü•"}],colors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],icons:["el-icon-delete-solid","el-icon-s-tools","el-icon-s-goods","el-icon-warning","el-icon-circle-plus","el-icon-camera-solid","el-icon-s-promotion","el-icon-s-cooperation","el-icon-s-platform","el-icon-s-custom","el-icon-s-data","el-icon-s-check","el-icon-s-claim"],rules:{formName:[{}],groupId:[]}}},computed:{setup(){let e=this.$store.state.design;return e}},created(){this.loadIconfont()},mounted(){this.getGroups()},methods:{getRule(e){return[{required:!0,message:e,trigger:"blur"}]},loadIconfont(){g&&g.id&&g.glyphs.forEach(e=>{this.icons.push(`${g.font_family} ${g.css_prefix_text}${e.font_class}`)})},getGroups(){Object(m["e"])().then(e=>{this.fromGroup=e.data}).catch(e=>{this.$message.error(e)})},addGroup(){""!==this.newGroup.trim()&&Object(m["b"])(this.newGroup.trim()).then(e=>{this.$message.success(e.message),this.getGroups()}).catch(e=>this.$message.error(e.response.message))},selected(e){this.$set(this.setup.settings,this.nowUserSelect,e)},selectUser(e){this.select=this.setup.settings[e],this.nowUserSelect=e,this.$refs.orgPicker.show()},validate(){this.$refs.baseSetting.validate();let e=[];return this.$isNotEmpty(this.setup.formName)||e.push("Ë°®ÂçïÂêçÁß∞Êú™ËÆæÁΩÆ"),this.$isNotEmpty(this.setup.groupId)||e.push("Ë°®ÂçïÂàÜÁªÑÊú™ËÆæÁΩÆ"),0===this.setup.settings.notify.types.length&&e.push("ÂÆ°ÊâπÊ∂àÊÅØÈÄöÁü•ÊñπÂºèÊú™ËÆæÁΩÆ"),e}}},y=b,_=(s("d776"),Object(d["a"])(y,h,f,!1,null,"03858d5f",null)),k=_.exports,x=function(){var e=this,t=e._self._c;return t("el-container",{staticStyle:{height:"calc(100vh - 65px)"}},[t("el-aside",[t("div",{staticClass:"components-nav"},[t("span",{on:{click:function(t){e.libSelect=0}}},[e._v("ÁªÑ‰ª∂Â∫ì")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.libSelect,expression:"libSelect==0"}]},[e._l(e.baseComponents,(function(s,i){return t("div",{key:i,staticClass:"components"},[t("p",[e._v(e._s(s.name))]),t("ul",[t("draggable",{staticClass:"drag",attrs:{list:s.components,options:{sort:!1},group:{name:"form",pull:"clone",put:!1},clone:e.clone},on:{start:function(t){e.isStart=!0},end:function(t){e.isStart=!1}}},e._l(s.components,(function(s,i){return t("li",{key:i},[t("i",{class:s.icon}),t("span",[e._v(e._s(s.title))])])})),0)],1)])})),e.eruptForms&&e.eruptForms.length>0?t("div",{staticClass:"components"},[t("p",[e._v("EruptË°®Âçï")]),t("ul",[t("div",{staticClass:"drag"},e._l(e.eruptForms,(function(s,i){return t("li",{key:i,staticStyle:{cursor:"pointer"},attrs:{title:"ÁîüÊàê„Ää"+s.name+"„ÄãË°®Âçï"},on:{click:function(t){return e.useForm(s)}}},[t("i",{staticClass:"el-icon-s-order"}),t("span",[e._v(e._s(s.name))])])})),0)])]):e._e()],2)]),t("el-main",{staticClass:"layout-main"},[t("div",{staticClass:"tool-nav"},[t("div",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Êí§ÈîÄ",placement:"bottom-start"}},[t("i",{staticClass:"el-icon-refresh-left"})]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"ÊÅ¢Â§ç",placement:"bottom-start"}},[t("i",{staticClass:"el-icon-refresh-right"})])],1),t("div",[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"È¢ÑËßàË°®Âçï",placement:"bottom-start"}},[t("i",{staticClass:"el-icon-view",on:{click:e.viewForms}})]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"ÁßªÂä®Á´Ø",placement:"bottom-start"}},[t("i",{class:{"el-icon-mobile":!0,select:e.showMobile},on:{click:function(t){e.showMobile=!0}}})]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"PCÁ´Ø",placement:"bottom-start"}},[t("i",{class:{"el-icon-monitor":!0,select:!e.showMobile},on:{click:function(t){e.showMobile=!1}}})])],1)]),t("div",{staticClass:"work-form"},[t("div",{class:{mobile:e.showMobile,pc:!e.showMobile}},[t("div",{class:{bd:e.showMobile}},[t("div",{class:{"form-content":e.showMobile}},[t("div",{staticClass:"form"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.forms&&0===e.forms.length&&!e.isStart,expression:"forms && forms.length === 0 && !isStart"}],staticClass:"tip"},[e._v("üëà ËØ∑Âú®Â∑¶‰æßÈÄâÊã©Êéß‰ª∂Âπ∂ÊãñËá≥Ê≠§Â§Ñ")]),t("draggable",{staticClass:"drag-from",attrs:{list:e.forms,group:"form",options:{animation:300,chosenClass:"choose",sort:!0}},on:{start:function(t){e.drag=!0,e.selectFormItem=null},end:function(t){e.drag=!1}}},e._l(e.forms,(function(s,i){return t("div",{key:i,staticClass:"form-item",style:e.getSelectedClass(s),on:{click:function(t){return e.selectItem(s)}}},[t("div",{staticClass:"form-header"},[t("p",[s.props.required?t("span",[e._v("*")]):e._e(),e._v(e._s(s.title))]),t("div",{staticClass:"option"},[t("i",{staticClass:"el-icon-close",on:{click:function(t){return e.del(i)}}})]),t("form-design-render",{attrs:{config:s}})],1)])})),0)],1)])])])])]),t("el-aside",{staticClass:"layout-param"},[e.selectFormItem?t("div",{staticClass:"tool-nav-r"},[t("i",{class:e.selectFormItem.icon,staticStyle:{"margin-right":"5px","font-size":"medium"}}),t("span",[e._v(e._s(e.selectFormItem.title))])]):e._e(),e.selectFormItem&&0!==e.forms.length?t("div",{staticStyle:{"text-align":"left",padding:"10px"}},[t("form-component-config")],1):t("div",{staticClass:"tip"},[e._v(" üòÄ ÈÄâ‰∏≠Êéß‰ª∂ÂêéÂú®ËøôÈáåËøõË°åÁºñËæë ")])]),t("w-dialog",{attrs:{clickClose:"",closeFree:"",width:"800px",showFooter:!1,border:!1,title:"Ë°®ÂçïÈ¢ÑËßà"},model:{value:e.viewFormVisible,callback:function(t){e.viewFormVisible=t},expression:"viewFormVisible"}},[t("form-render",{ref:"form",attrs:{forms:e.forms},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}})],1)],1)},w=[],S=s("b76a"),C=s.n(S),N=s("2b36"),$=s("d16b"),O=function(){var e=this,t=e._self._c;return t("div",["SpanLayout"!==e.form.name?t("el-form",{attrs:{"label-width":"90px"}},[t("el-form-item",{attrs:{label:"Ë°®ÂçïÂêçÁß∞"}},[t("el-input",{attrs:{size:"small",clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),t(e.form.name,{tag:"component",model:{value:e.form.props,callback:function(t){e.$set(e.form,"props",t)},expression:"form.props"}}),t("el-form-item",{attrs:{label:"ÂøÖÂ°´È°π"}},[t("el-switch",{model:{value:e.form.props.required,callback:function(t){e.$set(e.form.props,"required",t)},expression:"form.props.required"}})],1),t("el-form-item",{attrs:{label:"ÂèØÊâìÂç∞"}},[t("el-switch",{model:{value:e.form.props.enablePrint,callback:function(t){e.$set(e.form.props,"enablePrint",t)},expression:"form.props.enablePrint"}})],1)],1):t("el-empty",{attrs:{description:"ÂΩìÂâçÁªÑ‰ª∂‰∏çÊîØÊåÅÈÖçÁΩÆ"}})],1)},I=[],T=function(){var e=this,t=e._self._c;return t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1)},P=[],E={name:"TextInput",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},R=E,D=Object(d["a"])(R,T,P,!1,null,"5a2e2d58",null),A=D.exports,z=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1)],1)},F=[],U={name:"NumberInput",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},j=U,M=Object(d["a"])(j,z,F,!1,null,"bb4e78be",null),L=M.exports,B=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"‰øùÁïôÂ∞èÊï∞"}},[t("el-input-number",{attrs:{"controls-position":"right",precision:0,max:3,min:0,size:"small",placeholder:"Â∞èÊï∞‰ΩçÊï∞"},model:{value:e.value.precision,callback:function(t){e.$set(e.value,"precision",t)},expression:"value.precision"}}),e._v(" ‰Ωç ")],1),t("el-form-item",{attrs:{label:"Â±ïÁ§∫Â§ßÂÜô"}},[t("el-switch",{model:{value:e.value.showChinese,callback:function(t){e.$set(e.value,"showChinese",t)},expression:"value.showChinese"}})],1)],1)},G=[],V={name:"AmountInputConfig",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},q=V,H=Object(d["a"])(q,B,G,!1,null,"5a46fff2",null),J=H.exports,Y=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1)],1)},W=[],K={name:"TextareaInput",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},X=K,Z=Object(d["a"])(X,Y,W,!1,null,"61204883",null),Q=Z.exports,ee=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form",{attrs:{"label-position":"top"}},[t("el-form-item",{staticClass:"options",attrs:{label:"ÈÄâÈ°πËÆæÁΩÆ"}},[t("div",{staticClass:"option-item-label",attrs:{slot:"label"},slot:"label"},[t("span",[e._v("ÈÄâÈ°πËÆæÁΩÆ")]),t("el-button",{attrs:{icon:"el-icon-plus",type:"text",size:"mini"},on:{click:function(t){return e.value.options.push("Êñ∞ÈÄâÈ°π")}}},[e._v("Êñ∞Â¢ûÈÄâÈ°π")])],1),t("draggable",{attrs:{list:e.value.options,group:"option",handler:".el-icon-rank",options:e.dragOption}},e._l(e.value.options,(function(s,i){return t("div",{key:i,staticClass:"option-item"},[t("i",{staticClass:"el-icon-rank"}),t("el-input",{attrs:{size:"medium",placeholder:"ËØ∑ËÆæÁΩÆÈÄâÈ°πÂÄº",clearable:""},model:{value:e.value.options[i],callback:function(t){e.$set(e.value.options,i,t)},expression:"value.options[index]"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-delete",type:"danger",size:"medium"},on:{click:function(t){return e.value.options.splice(i,1)}},slot:"append"})],1)],1)})),0)],1)],1),t("el-form-item",{attrs:{label:"ÈÄâÈ°πÂ±ïÂºÄ"}},[t("el-switch",{model:{value:e.value.expanding,callback:function(t){e.$set(e.value,"expanding",t)},expression:"value.expanding"}})],1)],1)},te=[],se={name:"SelectInputConfig",components:{draggable:C.a},props:{value:{type:Object,default:()=>({})}},data(){return{dragOption:{animation:300,sort:!0}}},methods:{}},ie=se,oe=(s("85ec"),Object(d["a"])(ie,ee,te,!1,null,"b65a1d60",null)),le=oe.exports,ne=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊó•ÊúüÊèêÁ§∫"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"Êó•ÊúüÊ†ºÂºè"}},[t("el-select",{attrs:{size:"small"},model:{value:e.value.format,callback:function(t){e.$set(e.value,"format",t)},expression:"value.format"}},[t("el-option",{attrs:{value:"yyyy",label:"Âπ¥"}}),t("el-option",{attrs:{value:"yyyy-MM",label:"Âπ¥-Êúà"}}),t("el-option",{attrs:{value:"yyyy-MM-dd",label:"Âπ¥-Êúà-Êó•"}}),t("el-option",{attrs:{value:"yyyy-MM-dd HH:mm",label:"Âπ¥-Êúà-Êó• Êó∂:ÂàÜ"}})],1)],1)],1)},ae=[],re={name:"DateTime",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},ce=re,de=Object(d["a"])(ce,ne,ae,!1,null,"021277c8",null),ue=de.exports,pe=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ÂºÄÂßãÊó•ÊúüÊèêÁ§∫"},model:{value:e.value.placeholder[0],callback:function(t){e.$set(e.value.placeholder,0,t)},expression:"value.placeholder[0]"}}),t("el-input",{attrs:{size:"small",placeholder:"ÁªìÊùüÊó•ÊúüÊèêÁ§∫"},model:{value:e.value.placeholder[1],callback:function(t){e.$set(e.value.placeholder,1,t)},expression:"value.placeholder[1]"}})],1),t("el-form-item",{attrs:{label:"Êó•ÊúüÊ†ºÂºè"}},[t("el-select",{attrs:{size:"small"},model:{value:e.value.format,callback:function(t){e.$set(e.value,"format",t)},expression:"value.format"}},[t("el-option",{attrs:{value:"yyyy",label:"Âπ¥"}}),t("el-option",{attrs:{value:"yyyy-MM",label:"Âπ¥-Êúà"}}),t("el-option",{attrs:{value:"yyyy-MM-dd",label:"Âπ¥-Êúà-Êó•"}}),t("el-option",{attrs:{value:"yyyy-MM-dd HH:mm",label:"Âπ¥-Êúà-Êó• Êó∂:ÂàÜ"}})],1)],1),t("el-form-item",{attrs:{label:"Â±ïÁ§∫Êó∂Èïø"}},[t("el-switch",{model:{value:e.value.showLength,callback:function(t){e.$set(e.value,"showLength",t)},expression:"value.showLength"}})],1)],1)},me=[],he={name:"DateTimeRangeConfig",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},fe=he,ve=Object(d["a"])(fe,pe,me,!1,null,"3719ad92",null),ge=ve.exports,be=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"Êï∞ÈáèÈôêÂà∂"}},[t("tip",{attrs:{slot:"label",content:"ÈôêÂà∂ÊúÄÂ§ß‰∏ä‰º†ÂõæÁâáÊï∞ÈáèÔºà‰∏∫0Âàô‰∏çÈôêÂà∂Ôºâ"},slot:"label"},[e._v("Êï∞ÈáèÈôêÂà∂")]),t("el-input-number",{staticClass:"max-fill",attrs:{"controls-position":"right",precision:0,size:"small",placeholder:"ÊúÄÂ§ö‰∏ä‰º†Âá†Âº†ÂõæÁâá"},model:{value:e.value.maxNumber,callback:function(t){e.$set(e.value,"maxNumber",t)},expression:"value.maxNumber"}})],1),t("el-form-item",{attrs:{label:"Â§ßÂ∞èÈôêÂà∂"}},[t("tip",{attrs:{slot:"label",content:"ÈôêÂà∂Âçï‰∏™ÂõæÁâáÊúÄÂ§ßÂ§ßÂ∞è-MBÔºà‰∏∫0Âàô‰∏çÈôêÂà∂Ôºâ"},slot:"label"},[e._v("Â§ßÂ∞èÈôêÂà∂")]),t("el-input-number",{staticClass:"max-fill",attrs:{"controls-position":"right",precision:1,size:"small",placeholder:"Âçï‰∏™Êñá‰ª∂ÊúÄÂ§ßÂ§ßÂ∞è"},model:{value:e.value.maxSize,callback:function(t){e.$set(e.value,"maxSize",t)},expression:"value.maxSize"}})],1),t("el-form-item",{attrs:{label:"ÂõæÁâáÂéãÁº©"}},[t("el-switch",{model:{value:e.value.enableZip,callback:function(t){e.$set(e.value,"enableZip",t)},expression:"value.enableZip"}})],1)],1)},ye=[],_e={name:"ImageUploadConfig",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},ke=_e,xe=(s("7304"),Object(d["a"])(ke,be,ye,!1,null,"a6aa5262",null)),we=xe.exports,Se=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"Êï∞ÈáèÈôêÂà∂"}},[t("tip",{attrs:{slot:"label",content:"ÈôêÂà∂ÊúÄÂ§ß‰∏ä‰º†ÂõæÁâáÊï∞ÈáèÔºà‰∏∫0Âàô‰∏çÈôêÂà∂Ôºâ"},slot:"label"},[e._v("Êï∞ÈáèÈôêÂà∂")]),t("el-input-number",{staticClass:"max-fill",attrs:{"controls-position":"right",precision:0,size:"small",placeholder:"ÊúÄÂ§ö‰∏ä‰º†Âá†Âº†ÂõæÁâá"},model:{value:e.value.maxNumber,callback:function(t){e.$set(e.value,"maxNumber",t)},expression:"value.maxNumber"}})],1),t("el-form-item",{attrs:{label:"Â§ßÂ∞èÈôêÂà∂"}},[t("tip",{attrs:{slot:"label",content:"ÈôêÂà∂Âçï‰∏™Êñá‰ª∂ÊúÄÂ§ßÂ§ßÂ∞è-MBÔºà‰∏∫0Âàô‰∏çÈôêÂà∂Ôºâ"},slot:"label"},[e._v("Â§ßÂ∞èÈôêÂà∂")]),t("el-input-number",{staticClass:"max-fill",attrs:{"controls-position":"right",precision:1,size:"small",placeholder:"Âçï‰∏™Êñá‰ª∂ÊúÄÂ§ßÂ§ßÂ∞è"},model:{value:e.value.maxSize,callback:function(t){e.$set(e.value,"maxSize",t)},expression:"value.maxSize"}})],1),t("el-form-item",{attrs:{label:"Á±ªÂûãÈôêÂà∂"}},[t("tip",{attrs:{slot:"label",content:"ÈôêÂà∂‰∏ä‰º†Êñá‰ª∂ÁöÑÂêéÁºÄÁ±ªÂûã"},slot:"label"},[e._v("Á±ªÂûãÈôêÂà∂")]),t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:"ÂÖÅËÆ∏‰∏ä‰º†Êñá‰ª∂ÁöÑÂêéÁºÄÊ†ºÂºèÔºåÂèØËÆæÁΩÆÂ§öÁßç"},model:{value:e.value.fileTypes,callback:function(t){e.$set(e.value,"fileTypes",t)},expression:"value.fileTypes"}})],1),t("el-form-item",{attrs:{label:"‰∏çÂèØ‰∏ãËΩΩ"}},[t("el-switch",{model:{value:e.value.onlyRead,callback:function(t){e.$set(e.value,"onlyRead",t)},expression:"value.onlyRead"}})],1)],1)},Ce=[],Ne={name:"FileUploadConfig",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},$e=Ne,Oe=(s("6aef"),Object(d["a"])($e,Se,Ce,!1,null,"4860ea76",null)),Ie=Oe.exports,Te=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÂÜÖÂÆπ"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ÂÜÖÂÆπ"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"ÊñáÂ≠óÈ¢úËâ≤"}},[t("el-color-picker",{attrs:{size:"medium"},model:{value:e.value.color,callback:function(t){e.$set(e.value,"color",t)},expression:"value.color"}})],1)],1)},Pe=[],Ee={name:"Description",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},Re=Ee,De=Object(d["a"])(Re,Te,Pe,!1,null,"5dd903f7",null),Ae=De.exports,ze=function(){var e=this,t=e._self._c;return t("div")},Fe=[],Ue={name:"MoneyInput",components:{},data(){return{}},methods:{}},je=Ue,Me=Object(d["a"])(je,ze,Fe,!1,null,"6886da1c",null),Le=Me.exports,Be=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ËØ∑ËÆæÁΩÆÊèêÁ§∫ËØ≠"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"ÊòØÂê¶Â§öÈÄâ"}},[t("el-switch",{model:{value:e.value.multiple,callback:function(t){e.$set(e.value,"multiple",t)},expression:"value.multiple"}})],1)],1)},Ge=[],Ve={name:"OrgPicker",components:{},props:{value:{type:Object,default:()=>({})}},data(){return{}},methods:{}},qe=Ve,He=Object(d["a"])(qe,Be,Ge,!1,null,"def7cafc",null),Je=He.exports,Ye=function(){var e=this,t=e._self._c;return t("div",[t("el-form-item",{attrs:{label:"ÊèêÁ§∫ÊñáÂ≠ó"}},[t("el-input",{attrs:{size:"small",placeholder:"ÊèêÈÜíÊ∑ªÂä†ËÆ∞ÂΩïÁöÑÊèêÁ§∫"},model:{value:e.value.placeholder,callback:function(t){e.$set(e.value,"placeholder",t)},expression:"value.placeholder"}})],1),t("el-form-item",{attrs:{label:"ÊúÄÂ§ßË°åÊï∞"}},[t("tip",{attrs:{slot:"label",content:"ÂÖÅËÆ∏Ê∑ªÂä†Â§öÂ∞ëÊù°ËÆ∞ÂΩïÔºà‰∏∫0Âàô‰∏çÈôêÂà∂Ôºâ"},slot:"label"},[e._v("ÊúÄÂ§ßË°åÊï∞")]),t("el-input-number",{attrs:{"controls-position":"right",precision:0,max:100,min:0,size:"small",placeholder:"ÈôêÂà∂Êù°Êï∞"},model:{value:e.value.maxSize,callback:function(t){e.$set(e.value,"maxSize",t)},expression:"value.maxSize"}})],1),t("el-form-item",{attrs:{label:"Â∏ÉÂ±ÄÊñπÂºè"}},[t("el-radio",{attrs:{name:"layout",label:!0},model:{value:e.value.rowLayout,callback:function(t){e.$set(e.value,"rowLayout",t)},expression:"value.rowLayout"}},[e._v("ÊåâË°®Ê†º")]),t("el-radio",{attrs:{name:"layout",label:!1},model:{value:e.value.rowLayout,callback:function(t){e.$set(e.value,"rowLayout",t)},expression:"value.rowLayout"}},[e._v("ÊåâË°®Âçï")])],1),t("el-form-item",{attrs:{label:"Â±ïÁ§∫ÂêàËÆ°"}},[t("el-switch",{model:{value:e.value.showSummary,callback:function(t){e.$set(e.value,"showSummary",t)},expression:"value.showSummary"}}),e.value.showSummary?t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",clearable:"",placeholder:"ËØ∑ÈÄâÊã©ÂêàËÆ°È°π"},model:{value:e.value.summaryColumns,callback:function(t){e.$set(e.value,"summaryColumns",t)},expression:"value.summaryColumns"}},e._l(e.columns,(function(e){return t("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1):e._e()],1),t("el-form-item",{attrs:{label:"Â±ïÁ§∫ËæπÊ°Ü"}},[t("el-switch",{model:{value:e.value.showBorder,callback:function(t){e.$set(e.value,"showBorder",t)},expression:"value.showBorder"}})],1)],1)},We=[],Ke={name:"TableListConfig",components:{},props:{value:{type:Object,default:()=>({})}},computed:{columns(){return this.value.columns.filter(e=>"Number"===e.valueType)}},data(){return{}},methods:{}},Xe=Ke,Ze=Object(d["a"])(Xe,Ye,We,!1,null,"5bbee00a",null),Qe=Ze.exports,et={name:"FormComponentConfig",components:{TextInput:A,NumberInput:L,AmountInput:J,TextareaInput:Q,SelectInput:le,MultipleSelect:le,DateTime:ue,DateTimeRange:ge,ImageUpload:we,FileUpload:Ie,Description:Ae,MoneyInput:Le,DeptPicker:Je,UserPicker:Je,RolePicker:Je,TableList:Qe},props:{},computed:{form(){return this.$store.state.selectFormItem}},data(){return{}},methods:{}},tt=et,st=Object(d["a"])(tt,O,I,!1,null,"58d95019",null),it=st.exports,ot=s("8032"),lt={name:"FormDesign",components:{draggable:C.a,FormComponentConfig:it,FormDesignRender:$["a"],FormRender:N["a"]},data(){return{formData:{},libSelect:0,viewFormVisible:!1,isStart:!1,showMobile:!0,baseComponents:ot["b"],select:null,drag:!1,eruptForms:[]}},computed:{forms(){return this.$store.state.design.formItems},selectFormItem:{get(){return this.$store.state.selectFormItem},set(e){this.$store.state.selectFormItem=e}},nodeMap(){return this.$store.state.nodeMap}},created(){Object(m["c"])().then(e=>{this.eruptForms=e.data}).catch(e=>{this.$message.error(e)})},methods:{copy(e,t){this.form.splice(t+1,0,Object.assign({},e))},getId(){return"field"+(Math.floor(89999*Math.random())+1e4).toString()+(new Date).getTime().toString().substring(5)},del(e){this.$confirm("Âà†Èô§ÁªÑ‰ª∂Â∞Ü‰ºöËøûÂ∏¶Âà†Èô§ÂåÖÂê´ËØ•ÁªÑ‰ª∂ÁöÑÊù°‰ª∂‰ª•ÂèäÁõ∏ÂÖ≥ËÆæÁΩÆÔºåÊòØÂê¶ÁªßÁª≠?","ÊèêÁ§∫",{confirmButtonText:"Á°Æ ÂÆö",cancelButtonText:"Âèñ Ê∂à",type:"warning"}).then(()=>{this.removeFormItemAbout(e,this.forms[e])})},async removeFormItemAbout(e,t){if("SpanLayout"===t.name)return this.forms[e].props.items.forEach(t=>{this.removeFormItemAbout(e,t)}),void this.forms.splice(e,1);this.nodeMap.forEach(e=>{"CONDITION"===e.type&&e.props.groups.forEach(e=>{let s=e.cids.remove(t.id);s>-1&&e.conditions.splice(s,1)}),"ROOT"!==e.type&&"APPROVAL"!==e.type&&"CC"!==e.type||(e.props.formPerms.removeByKey("id",t.id),e.props.formUser===t.id&&(e.props.formUser=""))}),this.forms.splice(e,1)},clone(e){return e.id=this.getId(),JSON.parse(JSON.stringify(e))},viewForms(){this.viewFormVisible=!0},selectItem(e){this.selectFormItem=e},getSelectedClass(e){return this.selectFormItem&&this.selectFormItem.id===e.id?"border-left: 4px solid #409eff":""},validateItem(e,t,s){t.has(s.title)&&"SpanLayout"!==s.name&&e.push(`Ë°®Âçï ${s.title} ÂêçÁß∞ÈáçÂ§ç`),t.add(s.title),"SelectInput"===s.name||"MultipleSelect"===s.name?0===s.props.options.length&&e.push(s.title+" Êú™ËÆæÁΩÆÈÄâÈ°π"):"TableList"===s.name?0===s.props.columns.length&&e.push(`ÊòéÁªÜË°® ${s.title} ÂÜÖÊú™Ê∑ªÂä†ÁªÑ‰ª∂`):"SpanLayout"===s.name&&(0===s.props.items.length?e.push("ÂàÜÊ†èÂÜÖÊú™Ê∑ªÂä†ÁªÑ‰ª∂"):s.props.items.forEach(s=>this.validateItem(e,t,s)))},validate(){let e=[];if(this.forms.length>0){let t=new Set;this.forms.forEach(s=>{this.validateItem(e,t,s)})}else e.push("Ë°®Âçï‰∏∫Á©∫ÔºåËØ∑Ê∑ªÂä†ÁªÑ‰ª∂");return e},useForm(e){this.$confirm("ÁîüÊàê„Ää"+e.name+"„ÄãË°®ÂçïÔºåÂ∞Ü‰ºöË¶ÜÁõñÁé∞ÊúâÁªÑ‰ª∂ÔºåÊòØÂê¶ÁªßÁª≠?","ÊèêÁ§∫",{confirmButtonText:"Á°Æ ÂÆö",cancelButtonText:"Âèñ Ê∂à",type:"warning"}).then(()=>{for(let e in this.forms)this.removeFormItemAbout(e,this.forms[e]);e.formItems.forEach(e=>{this.forms.push(e)})})}}},nt=lt,at=(s("da97"),Object(d["a"])(nt,x,w,!1,null,"7f853d00",null)),rt=at.exports,ct=function(){var e=this,t=e._self._c;return t("el-main",[t("div",{staticClass:"scale"},[t("el-button",{attrs:{icon:"el-icon-plus",size:"small",disabled:e.scale>=150,circle:""},on:{click:function(t){e.scale+=10}}}),t("span",[e._v(e._s(e.scale)+"%")]),t("el-button",{attrs:{icon:"el-icon-minus",size:"small",disabled:e.scale<=40,circle:""},on:{click:function(t){e.scale-=10}}}),t("el-button",{on:{click:e.validate}},[e._v("Ê†°È™åÊµÅÁ®ã")])],1),t("div",{staticClass:"design",style:"transform: scale("+e.scale/100+");"},[t("process-tree",{ref:"process-tree",on:{selectedNode:e.nodeSelected}})],1),t("el-drawer",{attrs:{title:e.selectedNode.name,visible:e.showConfig,"modal-append-to-body":!1,size:"CONDITION"===e.selectedNode.type?"600px":"500px",direction:"rtl",modal:!1,"destroy-on-close":""},on:{"update:visible":function(t){e.showConfig=t}}},[t("div",{attrs:{slot:"title"},slot:"title"},[t("el-input",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticStyle:{width:"300px"},attrs:{size:"medium"},on:{blur:function(t){e.showInput=!1}},model:{value:e.selectedNode.name,callback:function(t){e.$set(e.selectedNode,"name",t)},expression:"selectedNode.name"}}),t("el-link",{directives:[{name:"show",rawName:"v-show",value:!e.showInput,expression:"!showInput"}],staticStyle:{"font-size":"medium"},on:{click:function(t){e.showInput=!0}}},[t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-right":"10px"}}),e._v(" "+e._s(e.selectedNode.name)+" ")])],1),t("div",{staticClass:"node-config-content"},[t("node-config")],1)])],1)},dt=[],ut=function(){var e=this,t=e._self._c;return t("node",{attrs:{title:e.config.name,"show-error":e.showError,content:e.content,"error-info":e.errorInfo,placeholder:"ËØ∑ËÆæÁΩÆÂÆ°Êâπ‰∫∫","header-bgc":"#ff943e","header-icon":"el-icon-s-check"},on:{selected:function(t){return e.$emit("selected")},delNode:function(t){return e.$emit("delNode")},insertNode:t=>e.$emit("insertNode",t)}})},pt=[],mt=(s("5b81"),function(){var e=this,t=e._self._c;return t("div",{class:{node:!0,root:e.isRoot||!e.show,"node-error-state":e.showError}},[e.show?t("div",{class:{"node-body":!0,error:e.showError},on:{click:function(t){return e.$emit("selected")}}},[t("div",[t("div",{staticClass:"node-body-header",style:{"background-color":e.headerBgc}},[""!==(e.headerIcon||"")?t("i",{class:e.headerIcon,staticStyle:{"margin-right":"5px"}}):e._e(),t("ellipsis",{staticClass:"name",attrs:{"hover-tip":"",content:e.title}}),e.isRoot?e._e():t("i",{staticClass:"el-icon-close",staticStyle:{float:"right"},on:{click:function(t){return e.$emit("delNode")}}})],1),t("div",{staticClass:"node-body-content"},[e.leftIcon?t("i",{class:e.leftIcon}):e._e(),""===(e.content||"").trim()?t("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder))]):t("ellipsis",{attrs:{row:3,content:e.content}}),t("i",{staticClass:"el-icon-arrow-right"})],1),e.showError?t("div",{staticClass:"node-error"},[t("el-tooltip",{attrs:{effect:"dark",content:e.errorInfo,placement:"top-start"}},[t("i",{staticClass:"el-icon-warning-outline"})])],1):e._e()])]):e._e(),t("div",{staticClass:"node-footer"},[t("div",{staticClass:"btn"},[t("insert-button",{on:{insertNode:t=>e.$emit("insertNode",t)}})],1)])])}),ht=[],ft=function(){var e=this,t=e._self._c;return t("el-popover",{attrs:{placement:"bottom-start",title:"Ê∑ªÂä†ÊµÅÁ®ãËäÇÁÇπ",width:"350",trigger:"click"}},[t("div",{staticClass:"node-select"},[t("div",{on:{click:e.addApprovalNode}},[t("i",{staticClass:"el-icon-s-check",staticStyle:{color:"rgb(255, 148, 62)"}}),t("span",[e._v("ÂÆ°Êâπ‰∫∫")])]),t("div",{on:{click:e.addCcNode}},[t("i",{staticClass:"el-icon-s-promotion",staticStyle:{color:"rgb(50, 150, 250)"}}),t("span",[e._v("ÊäÑÈÄÅ‰∫∫")])]),t("div",{on:{click:e.addConditionsNode}},[t("i",{staticClass:"el-icon-share",staticStyle:{color:"rgb(21, 188, 131)"}}),t("span",[e._v("Êù°‰ª∂ÂàÜÊîØ")])]),t("div",{on:{click:e.addConcurrentsNode}},[t("i",{staticClass:"el-icon-s-operation",staticStyle:{color:"#718dff"}}),t("span",[e._v("Âπ∂Ë°åÂàÜÊîØ")])])]),t("el-button",{attrs:{slot:"reference",icon:"el-icon-plus",type:"primary",size:"small",circle:""},slot:"reference"})],1)},vt=[],gt={name:"InsertButton",components:{},data(){return{}},computed:{selectedNode(){this.$store.state.selectedNode}},methods:{addApprovalNode(){this.$emit("insertNode","APPROVAL")},addCcNode(){this.$emit("insertNode","CC")},addDelayNode(){this.$emit("insertNode","DELAY")},addConditionsNode(){this.$emit("insertNode","CONDITIONS")},addConcurrentsNode(){this.$emit("insertNode","CONCURRENTS")},addTriggerNode(){this.$emit("insertNode","TRIGGER")}}},bt=gt,yt=(s("bc14"),Object(d["a"])(bt,ft,vt,!1,null,"fce28cfc",null)),_t=yt.exports,kt={name:"Node",components:{InsertButton:_t},props:{isRoot:{type:Boolean,default:!1},show:{type:Boolean,default:!0},content:{type:String,default:""},title:{type:String,default:"Ê†áÈ¢ò"},placeholder:{type:String,default:"ËØ∑ËÆæÁΩÆ"},leftIcon:{type:String,default:void 0},headerIcon:{type:String,default:""},headerBgc:{type:String,default:"#576a95"},showError:{type:Boolean,default:!1},errorInfo:{type:String,default:"Êó†‰ø°ÊÅØ"}},data(){return{}},methods:{}},xt=kt,wt=(s("f91e"),Object(d["a"])(xt,mt,ht,!1,null,"31783cce",null)),St=wt.exports,Ct={name:"ApprovalNode",props:{config:{type:Object,default:()=>({})}},components:{Node:St},data(){return{showError:!1,errorInfo:""}},computed:{content(){const e=this.config.props;switch(e.assignedType){case"ASSIGN_USER":if(e.assignedUser.length>0){let t=[];return e.assignedUser.forEach(e=>t.push(e.name)),"ÊåáÂÆöÁî®Êà∑Ôºö"+String(t).replaceAll(",","„ÄÅ")}return"ËØ∑ÊåáÂÆöÂÆ°Êâπ‰∫∫";case"SELF":return"ÂèëËµ∑‰∫∫Ëá™Â∑±";case"SELF_SELECT":return e.selfSelect.multiple?"ÂèëËµ∑‰∫∫Ëá™ÈÄâÂ§ö‰∫∫":"ÂèëËµ∑‰∫∫Ëá™ÈÄâ‰∏Ä‰∫∫";case"LEADER_TOP":return"Â§öÁ∫ß‰∏ªÁÆ°‰æùÊ¨°ÂÆ°Êâπ";case"LEADER":return e.leader.level>1?"ÂèëËµ∑‰∫∫ÁöÑÁ¨¨ "+e.leader.level+" Á∫ß‰∏ªÁÆ°":"ÂèëËµ∑‰∫∫ÁöÑÁõ¥Êé•‰∏ªÁÆ°";case"FORM_USER":if(e.formUser&&""!==e.formUser){let t=this.getFormItemById(e.formUser);return t&&t.title?`Ë°®ÂçïÔºà${t.title}ÔºâÂÜÖÁöÑ‰∫∫Âëò`:"ËØ•Ë°®ÂçïÂ∑≤Ë¢´ÁßªÈô§üò•"}return"Ë°®ÂçïÂÜÖËÅîÁ≥ª‰∫∫ÔºàÊú™ÈÄâÊã©Ôºâ";case"ROLE":if(e.role.length>0){let t=[];return e.role.forEach(e=>t.push(e.name)),"ÊåáÂÆöËßíËâ≤Ôºö"+String(t).replaceAll(",","„ÄÅ")}return"ÊåáÂÆöËßíËâ≤ÔºàÊú™ËÆæÁΩÆÔºâ";default:return"Êú™Áü•ËÆæÁΩÆÈ°πüò•"}}},methods:{getFormItemById(e){return this.$store.state.design.formItems.find(t=>t.id===e)},validate(e){try{return this.showError=!this["validate_"+this.config.props.assignedType](e)}catch(t){return!0}},validate_ASSIGN_USER(e){return this.config.props.assignedUser.length>0||(this.errorInfo="ËØ∑ÊåáÂÆöÂÆ°Êâπ‰∫∫Âëò",e.push(this.config.name+" Êú™ÊåáÂÆöÂÆ°Êâπ‰∫∫Âëò"),!1)},validate_SELF_SELECT(e){return!0},validate_LEADER_TOP(e){return!0},validate_LEADER(e){return!0},validate_ROLE(e){return!(this.config.props.role.length<=0)||(this.errorInfo="ËØ∑ÊåáÂÆöË¥üË¥£ÂÆ°ÊâπÁöÑÁ≥ªÁªüËßíËâ≤",e.push(this.config.name+" Êú™ÊåáÂÆöÂÆ°ÊâπËßíËâ≤"),!1)},validate_SELF(e){return!0},validate_FORM_USER(e){return""!==this.config.props.formUser||(this.errorInfo="ËØ∑ÊåáÂÆöË°®Âçï‰∏≠ÁöÑ‰∫∫ÂëòÁªÑ‰ª∂",e.push(this.config.name+" ÂÆ°Êâπ‰∫∫‰∏∫Ë°®Âçï‰∏≠‰∫∫ÂëòÔºå‰ΩÜÊú™ÊåáÂÆö"),!1)},validate_REFUSE(e){return!0}}},Nt=Ct,$t=Object(d["a"])(Nt,ut,pt,!1,null,"53d02e9a",null),Ot=$t.exports,It=function(){var e=this,t=e._self._c;return t("node",{attrs:{title:e.config.name,"show-error":e.showError,content:e.content,"error-info":e.errorInfo,placeholder:"ËØ∑ËÆæÁΩÆÊäÑÈÄÅ‰∫∫","header-bgc":"#3296fa","header-icon":"el-icon-s-promotion"},on:{selected:function(t){return e.$emit("selected")},delNode:function(t){return e.$emit("delNode")},insertNode:t=>e.$emit("insertNode",t)}})},Tt=[],Pt={name:"CcNode",props:{config:{type:Object,default:()=>({})}},components:{Node:St},data(){return{showError:!1,errorInfo:""}},computed:{content(){if(this.config.props.shouldAdd)return"Áî±ÂèëËµ∑‰∫∫ÊåáÂÆö";if(this.config.props.assignedUser.length>0){let e=[];return this.config.props.assignedUser.forEach(t=>e.push(t.name)),String(e).replaceAll(",","„ÄÅ")}return null}},methods:{validate(e){return this.showError=!1,this.config.props.shouldAdd?this.showError=!1:0===this.config.props.assignedUser.length&&(this.showError=!0,this.errorInfo="ËØ∑ÈÄâÊã©ÈúÄË¶ÅÊäÑÈÄÅÁöÑ‰∫∫Âëò"),this.showError&&e.push(`ÊäÑÈÄÅËäÇÁÇπ ${this.config.name} Êú™ËÆæÁΩÆÊäÑÈÄÅ‰∫∫`),!this.showError}}},Et=Pt,Rt=Object(d["a"])(Et,It,Tt,!1,null,"b2b462ee",null),Dt=Rt.exports,At=function(){var e=this,t=e._self._c;return t("div",{staticClass:"node"},[t("div",{staticClass:"node-body",on:{click:function(t){return e.$emit("selected")}}},[e.level>1?t("div",{staticClass:"node-body-left",on:{click:function(t){return t.stopPropagation(),e.$emit("leftMove")}}},[t("i",{staticClass:"el-icon-arrow-left"})]):e._e(),t("div",{staticClass:"node-body-main"},[t("div",{staticClass:"node-body-main-header"},[t("span",{staticClass:"title"},[t("i",{staticClass:"el-icon-s-operation"}),t("ellipsis",{staticClass:"name",attrs:{"hover-tip":"",content:e.config.name?e.config.name:"Âπ∂Ë°å‰ªªÂä°"+e.level}})],1),t("span",{staticClass:"option"},[t("el-tooltip",{attrs:{effect:"dark",content:"Â§çÂà∂ÂàÜÊîØ",placement:"top"}},[t("i",{staticClass:"el-icon-copy-document",on:{click:function(t){return e.$emit("copy")}}})]),t("i",{staticClass:"el-icon-close",on:{click:function(t){return t.stopPropagation(),e.$emit("delNode")}}})],1)]),e._m(0)]),e.level<e.size?t("div",{staticClass:"node-body-right",on:{click:function(t){return t.stopPropagation(),e.$emit("rightMove")}}},[t("i",{staticClass:"el-icon-arrow-right"})]):e._e()]),t("div",{staticClass:"node-footer"},[t("div",{staticClass:"btn"},[t("insert-button",{on:{insertNode:t=>e.$emit("insertNode",t)}})],1)])])},zt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"node-body-main-content"},[t("span",[e._v("Âπ∂Ë°å‰ªªÂä°ÔºàÂêåÊó∂ËøõË°åÔºâ")])])}],Ft={name:"ConcurrentNode",components:{InsertButton:_t},props:{config:{type:Object,default:()=>({})},level:{type:Number,default:1},size:{type:Number,default:0}},data(){return{}},methods:{}},Ut=Ft,jt=(s("96b7"),Object(d["a"])(Ut,At,zt,!1,null,"6aba52c7",null)),Mt=jt.exports,Lt=function(){var e=this,t=e._self._c;return t("div",{class:{node:!0,"node-error-state":e.showError}},[t("div",{class:{"node-body":!0,error:e.showError}},[e.level>1?t("div",{staticClass:"node-body-left",on:{click:function(t){return e.$emit("leftMove")}}},[t("i",{staticClass:"el-icon-arrow-left"})]):e._e(),t("div",{staticClass:"node-body-main",on:{click:function(t){return e.$emit("selected")}}},[t("div",{staticClass:"node-body-main-header"},[t("ellipsis",{staticClass:"title",attrs:{"hover-tip":"",content:e.config.name?e.config.name:"Êù°‰ª∂"+e.level}}),t("span",{staticClass:"level"},[e._v("‰ºòÂÖàÁ∫ß"+e._s(e.level))]),t("span",{staticClass:"option"},[t("el-tooltip",{attrs:{effect:"dark",content:"Â§çÂà∂Êù°‰ª∂",placement:"top"}},[t("i",{staticClass:"el-icon-copy-document",on:{click:function(t){return t.stopPropagation(),e.$emit("copy")}}})]),t("i",{staticClass:"el-icon-close",on:{click:function(t){return t.stopPropagation(),e.$emit("delNode")}}})],1)],1),t("div",{staticClass:"node-body-main-content"},[""===(e.content||"").trim()?t("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder))]):t("ellipsis",{attrs:{hoverTip:"",row:4,content:e.content}})],1)]),e.level<e.size?t("div",{staticClass:"node-body-right",on:{click:function(t){return e.$emit("rightMove")}}},[t("i",{staticClass:"el-icon-arrow-right"})]):e._e(),e.showError?t("div",{staticClass:"node-error"},[t("el-tooltip",{attrs:{effect:"dark",content:e.errorInfo,placement:"top-start"}},[t("i",{staticClass:"el-icon-warning-outline"})])],1):e._e()]),t("div",{staticClass:"node-footer"},[t("div",{staticClass:"btn"},[t("insert-button",{on:{insertNode:t=>e.$emit("insertNode",t)}})],1)])])},Bt=[];const Gt=["A","B","C","D","E","F","G","H","I","J"];var Vt={name:"ConditionNode",components:{InsertButton:_t},props:{config:{type:Object,default:()=>({})},level:{type:Number,default:1},size:{type:Number,default:0}},data(){return{ValueType:ot["a"],groupNames:Gt,placeholder:"ËØ∑ËÆæÁΩÆÊù°‰ª∂",errorInfo:"",showError:!1}},computed:{content(){if(this.config.props.isDefault)return"ÈªòËÆ§Êù°‰ª∂";const e=this.config.props.groups;let t=[];e.forEach(e=>{let s=[];e.conditions.forEach(e=>{let t="";switch(e.valueType){case ot["a"].dept:case ot["a"].user:"user"==e.compare?t=`${e.title}Â±û‰∫é[${String(e.value.map(e=>e.name)).replaceAll(",",". ")}]‰πã‰∏Ä`:"dept"==e.compare?t=`${e.title}ÈÉ®Èó®Â±û‰∫é[${String(e.value.map(e=>e.name)).replaceAll(",",". ")}]‰πã‰∏Ä`:"role"==e.compare?t=`${e.title}ËßíËâ≤Â±û‰∫é[${String(e.value.map(e=>e.name)).replaceAll(",",". ")}]‰πã‰∏Ä`:(console.log(e),t="Êú™Áü•");break;case ot["a"].number:case ot["a"].string:t=this.getOrdinaryConditionContent(e);break}s.push(t)});let i=String(s).replaceAll(",",s.length>1?"AND"===e.groupType?") ‰∏î (":") Êàñ (":"AND"===e.groupType?" ‰∏î ":" Êàñ ");t.push(s.length>1?`(${i})`:i)});let s=String(t).replaceAll(",","AND"===this.config.props.groupsType?" ‰∏î ":" Êàñ ");return s}},methods:{getDefault(e,t){return e&&""!==e?e:t},getOrdinaryConditionContent(e){switch(e.compare){case"IN":return`${e.title}‰∏∫[${String(e.value).replaceAll(",","„ÄÅ")}]‰∏≠‰πã‰∏Ä`;case"B":return`${e.value[0]} < ${e.title} < ${e.value[1]}`;case"AB":return`${e.value[0]} ‚â§ ${e.title} < ${e.value[1]}`;case"BA":return`${e.value[0]} < ${e.title} ‚â§ ${e.value[1]}`;case"ABA":return`${e.value[0]} ‚â§ ${e.title} ‚â§ ${e.value[1]}`;case"<=":return`${e.title} ‚â§ ${this.getDefault(e.value[0]," ?")}`;case">=":return`${e.title} ‚â• ${this.getDefault(e.value[0]," ?")}`;default:return`${e.title}${e.compare}${this.getDefault(e.value[0]," ?")}`}},validate(e){const t=this.config.props;if(t.isDefault)return!0;if(t.groups.length<=0)this.showError=!0,this.errorInfo="ËØ∑ËÆæÁΩÆÂàÜÊîØÊù°‰ª∂",e.push(this.config.name+" Êú™ËÆæÁΩÆÊù°‰ª∂");else for(let s=0;s<t.groups.length;s++){if(0===t.groups[s].cids.length){this.showError=!0,this.errorInfo=`ËØ∑ËÆæÁΩÆÊù°‰ª∂ÁªÑ${this.groupNames[s]}ÂÜÖÁöÑÊù°‰ª∂`,e.push(`Êù°‰ª∂ ${this.config.name} Êù°‰ª∂ÁªÑ${this.groupNames[s]}ÂÜÖÊú™ËÆæÁΩÆÊù°‰ª∂`);break}{let i=t.groups[s].conditions;for(let t=0;t<i.length;t++){let o=i[t];if(0===o.value.length?this.showError=!0:this.showError=!1,this.showError)return this.errorInfo=`ËØ∑ÂÆåÂñÑÊù°‰ª∂ÁªÑ${this.groupNames[s]}ÂÜÖÁöÑ${o.title}Êù°‰ª∂`,e.push(`Êù°‰ª∂ ${this.config.name} Êù°‰ª∂ÁªÑ${this.groupNames[s]}ÂÜÖ${o.title}Êù°‰ª∂Êú™ÂÆåÂñÑ`),!1}}}return!this.showError}}},qt=Vt,Ht=(s("d626"),Object(d["a"])(qt,Lt,Bt,!1,null,"93eca7ca",null)),Jt=Ht.exports,Yt=function(){var e=this,t=e._self._c;return t("node",{attrs:{title:e.config.name,"show-error":e.showError,content:e.content,"error-info":e.errorInfo,placeholder:"ËØ∑ËÆæÁΩÆËß¶ÂèëÂô®","header-bgc":"#47bc82","header-icon":"el-icon-set-up"},on:{selected:function(t){return e.$emit("selected")},delNode:function(t){return e.$emit("delNode")},insertNode:t=>e.$emit("insertNode",t)}})},Wt=[],Kt={name:"TriggerNode",props:{config:{type:Object,default:()=>({})}},components:{Node:St},data(){return{showError:!1,errorInfo:""}},computed:{content(){this.config}},methods:{validate(e){return this.showError=!1,"WEBHOOK"===this.config.props.type?this.$isNotEmpty(this.config.props.http.url)?this.showError=!1:(this.showError=!0,this.errorInfo="ËØ∑ËÆæÁΩÆWEBHOOKÁöÑURLÂú∞ÂùÄ"):"EMAIL"===this.config.props.type&&(this.$isNotEmpty(this.config.props.email.subject)&&0!==this.config.props.email.to.length&&this.$isNotEmpty(this.config.props.email.content)?this.showError=!1:(this.showError=!0,this.errorInfo="ËØ∑ËÆæÁΩÆÈÇÆ‰ª∂ÂèëÈÄÅÈÖçÁΩÆ")),this.showError&&e.push(this.config.name+" Ëß¶ÂèëÂä®‰ΩúÊú™ËÆæÁΩÆÂÆåÂñÑ"),!this.showError}}},Xt=Kt,Zt=Object(d["a"])(Xt,Yt,Wt,!1,null,"3d299947",null),Qt=Zt.exports,es=function(){var e=this,t=e._self._c;return t("node",{attrs:{title:e.config.name,"show-error":e.showError,content:e.content,"error-info":e.errorInfo,placeholder:"ËØ∑ËÆæÁΩÆÂª∂Êó∂Êó∂Èó¥","header-bgc":"#f25643","header-icon":"el-icon-time"},on:{selected:function(t){return e.$emit("selected")},delNode:function(t){return e.$emit("delNode")},insertNode:t=>e.$emit("insertNode",t)}})},ts=[],ss={name:"DelayNode",props:{config:{type:Object,default:()=>({})}},components:{Node:St},data(){return{showError:!1,errorInfo:""}},computed:{content(){return"FIXED"===this.config.props.type?`Á≠âÂæÖ ${this.config.props.time} ${this.getName(this.config.props.unit)}`:"AUTO"===this.config.props.type?"Ëá≥ÂΩìÂ§© "+this.config.props.dateTime:null}},methods:{validate(e){this.showError=!1;try{"AUTO"===this.config.props.type?""===(this.config.props.dateTime||"")&&(this.showError=!0,this.errorInfo="ËØ∑ÈÄâÊã©Êó∂Èó¥ÁÇπ"):this.config.props.time<=0&&(this.showError=!0,this.errorInfo="ËØ∑ËÆæÁΩÆÂª∂Êó∂Êó∂Èïø")}catch(t){this.showError=!0,this.errorInfo="ÈÖçÁΩÆÂá∫Áé∞ÈóÆÈ¢ò"}return this.showError&&e.push(this.config.name+" Êú™ËÆæÁΩÆÂª∂Êó∂ËßÑÂàô"),!this.showError},getName(e){switch(e){case"D":return"Â§©";case"H":return"Â∞èÊó∂";case"M":return"ÂàÜÈíü";default:return"Êú™Áü•"}}}},is=ss,os=Object(d["a"])(is,es,ts,!1,null,"0ed9ede5",null),ls=os.exports,ns=function(){var e=this,t=e._self._c;return t("node",{attrs:{show:!1},on:{insertNode:t=>e.$emit("insertNode",t)}})},as=[],rs={name:"EmptyNode",components:{Node:St},data(){return{}},methods:{}},cs=rs,ds=Object(d["a"])(cs,ns,as,!1,null,"c70b12b0",null),us=ds.exports,ps=function(){var e=this,t=e._self._c;return t("node",{attrs:{title:"ÂèëËµ∑‰∫∫","is-root":!0,content:e.content,placeholder:"ÊâÄÊúâ‰∫∫","header-bgc":"#576a95","header-icon":"el-icon-user-solid"},on:{selected:function(t){return e.$emit("selected")},insertNode:t=>e.$emit("insertNode",t)}})},ms=[],hs={name:"RootNode",components:{Node:St},props:{config:{type:Object,default:()=>({})}},computed:{content(){if(this.config.props.assignedUser.length>0){let e=[];return this.config.props.assignedUser.forEach(t=>e.push(t.name)),String(e).replaceAll(",","„ÄÅ")}return"ÊâÄÊúâ‰∫∫"}},data(){return{}},methods:{}},fs=hs,vs=Object(d["a"])(fs,ps,ms,!1,null,"5f3c2dc2",null),gs=vs.exports;const bs={assignedType:"ASSIGN_USER",mode:"OR",sign:!1,nobody:{handler:"TO_PASS",assignedUser:[]},timeLimit:{timeout:{unit:"H",value:0},handler:{type:"REFUSE",notify:{once:!0,hour:1}}},assignedUser:[],formPerms:[],selfSelect:{multiple:!1},leaderTop:{endCondition:"TOP",endLevel:1},leader:{level:1},role:[],refuse:{type:"TO_END",target:""},formUser:""},ys={assignedUser:[],formPerms:[]},_s={isDefault:!1,groupsType:"OR",groups:[{groupType:"AND",cids:[],conditions:[]}],expression:""},ks={isDefault:!0,groupsType:"OR",groups:[{groupType:"AND",cids:[],conditions:[]}],expression:""},xs={shouldAdd:!1,assignedUser:[],formPerms:[]},ws={type:"WEBHOOK",http:{method:"GET",url:"",headers:[{name:"",isField:!0,value:""}],contentType:"FORM",params:[{name:"",isField:!0,value:""}],retry:1,handlerByScript:!1,success:"function handlerOk(res) {\n  return true;\n}",fail:"function handlerFail(res) {\n  return true;\n}"},email:{subject:"",to:[],content:""}},Ss={type:"FIXED",time:0,unit:"M",dateTime:""};var Cs,Ns,$s={APPROVAL_PROPS:bs,CC_PROPS:xs,DELAY_PROPS:Ss,CONDITION_PROPS:_s,CONDITION_PROPS_DEFAULT:ks,ROOT_PROPS:ys,TRIGGER_PROPS:ws},Os={name:"ProcessTree",components:{Node:St,Root:gs,Approval:Ot,Cc:Dt,Trigger:Qt,Concurrent:Mt,Condition:Jt,Delay:ls,Empty:us},data(){return{valid:!0}},computed:{nodeMap(){return this.$store.state.nodeMap},dom(){return this.$store.state.design.process}},render(e,t){this.nodeMap.clear();let s=this.getDomTree(e,this.dom);return s.push(e("div",{style:{"text-align":"center"}},[e("div",{class:{"process-end":!0},domProps:{innerHTML:"ÊµÅÁ®ãÁªìÊùü"}})])),e("div",{class:{_root:!0},ref:"_root"},s)},methods:{getDomTree(e,t){if(this.toMapping(t),this.isPrimaryNode(t)){let s=this.getDomTree(e,t.children);return this.decodeAppendDom(e,t,s),[e("div",{class:{"primary-node":!0}},s)]}if(this.isBranchNode(t)){let s=0,i=t.branchs.map(i=>{this.toMapping(i);let o=this.getDomTree(e,i.children);return this.decodeAppendDom(e,i,o,{level:s+1,size:t.branchs.length}),this.insertCoverLine(e,s,o,t.branchs),s++,e("div",{class:{"branch-node-item":!0}},o)});i.unshift(e("div",{class:{"add-branch-btn":!0}},[e("el-button",{class:{"add-branch-btn-el":!0},props:{size:"small",round:!0},on:{click:()=>this.addBranchNode(t)},domProps:{innerHTML:"Ê∑ªÂä†"+(this.isConditionNode(t)?"Êù°‰ª∂":"ÂàÜÊîØ")}},[])]));let o=[e("div",{class:{"branch-node":!0}},i)],l=this.getDomTree(e,t.children);return[e("div",{},[o,l])]}if(this.isEmptyNode(t)){let s=this.getDomTree(e,t.children);return this.decodeAppendDom(e,t,s),[e("div",{class:{"empty-node":!0}},s)]}return[]},decodeAppendDom(e,t,s,i={}){i.config=t,s.unshift(e(t.type.toLowerCase(),{props:i,ref:t.id,key:t.id,on:{insertNode:e=>this.insertNode(e,t),delNode:()=>this.delNode(t),selected:()=>this.selectNode(t),copy:()=>this.copyBranch(t),leftMove:()=>this.branchMove(t,-1),rightMove:()=>this.branchMove(t,1)}},[]))},toMapping(e){e&&e.id&&this.nodeMap.set(e.id,e)},insertCoverLine(e,t,s,i){0===t?(s.unshift(e("div",{class:{"line-top-left":!0}},[])),s.unshift(e("div",{class:{"line-bot-left":!0}},[]))):t===i.length-1&&(s.unshift(e("div",{class:{"line-top-right":!0}},[])),s.unshift(e("div",{class:{"line-bot-right":!0}},[])))},copyBranch(e){let t=this.nodeMap.get(e.parentId),s=this.$deepCopy(e);s.name=s.name+"-copy",this.forEachNode(t,s,(e,t)=>{let s=this.getRandomId();console.log(t,"Êñ∞id =>"+s,"ËÄÅnodeId:"+t.id),t.id=s,t.parentId=e.id}),t.branchs.splice(t.branchs.indexOf(e),0,s),this.$forceUpdate()},branchMove(e,t){let s=this.nodeMap.get(e.parentId),i=s.branchs.indexOf(e),o=s.branchs[i+t];s.branchs[i+t]=s.branchs[i],s.branchs[i]=o,this.$forceUpdate()},isPrimaryNode(e){return e&&("ROOT"===e.type||"APPROVAL"===e.type||"CC"===e.type||"DELAY"===e.type||"TRIGGER"===e.type)},isBranchNode(e){return e&&("CONDITIONS"===e.type||"CONCURRENTS"===e.type)},isEmptyNode(e){return e&&"EMPTY"===e.type},isConditionNode(e){return"CONDITIONS"===e.type},isBranchSubNode(e){return e&&("CONDITION"===e.type||"CONCURRENT"===e.type)},isConcurrentNode(e){return"CONCURRENTS"===e.type},getRandomId(){return`node_${(new Date).getTime().toString().substring(5)}${Math.round(9e3*Math.random()+1e3)}`},selectNode(e){this.$store.commit("selectedNode",e),this.$emit("selectedNode",e)},insertNode(e,t){this.$refs["_root"].click();let s=t.children;switch(t.children={id:this.getRandomId(),parentId:t.id,props:{},type:e},e){case"APPROVAL":this.insertApprovalNode(t,s);break;case"CC":this.insertCcNode(t);break;case"DELAY":this.insertDelayNode(t);break;case"TRIGGER":this.insertTriggerNode(t);break;case"CONDITIONS":this.insertConditionsNode(t);break;case"CONCURRENTS":this.insertConcurrentsNode(t);break;default:break}this.isBranchNode({type:e})?(s&&s.id&&(s.parentId=t.children.children.id),this.$set(t.children.children,"children",s)):(s&&s.id&&(s.parentId=t.children.id),this.$set(t.children,"children",s)),this.$forceUpdate()},insertApprovalNode(e){this.$set(e.children,"name","ÂÆ°Êâπ‰∫∫"),this.$set(e.children,"props",this.$deepCopy($s.APPROVAL_PROPS))},insertCcNode(e){this.$set(e.children,"name","ÊäÑÈÄÅ‰∫∫"),this.$set(e.children,"props",this.$deepCopy($s.CC_PROPS))},insertDelayNode(e){this.$set(e.children,"name","Âª∂Êó∂Â§ÑÁêÜ"),this.$set(e.children,"props",this.$deepCopy($s.DELAY_PROPS))},insertTriggerNode(e){this.$set(e.children,"name","Ëß¶ÂèëÂô®"),this.$set(e.children,"props",this.$deepCopy($s.TRIGGER_PROPS))},insertConditionsNode(e){this.$set(e.children,"name","Êù°‰ª∂ÂàÜÊîØ"),this.$set(e.children,"children",{id:this.getRandomId(),parentId:e.children.id,type:"EMPTY"}),this.$set(e.children,"branchs",[{id:this.getRandomId(),parentId:e.children.id,type:"CONDITION",props:this.$deepCopy($s.CONDITION_PROPS),name:"Êù°‰ª∂1",children:{}},{id:this.getRandomId(),parentId:e.children.id,type:"CONDITION",props:this.$deepCopy($s.CONDITION_PROPS_DEFAULT),name:"ÈªòËÆ§Êù°‰ª∂",children:{}}])},insertConcurrentsNode(e){this.$set(e.children,"name","Âπ∂Ë°åÂàÜÊîØ"),this.$set(e.children,"children",{id:this.getRandomId(),parentId:e.children.id,type:"EMPTY"}),this.$set(e.children,"branchs",[{id:this.getRandomId(),name:"ÂàÜÊîØ1",parentId:e.children.id,type:"CONCURRENT",props:{},children:{}},{id:this.getRandomId(),name:"ÂàÜÊîØ2",parentId:e.children.id,type:"CONCURRENT",props:{},children:{}}])},getBranchEndNode(e){return e.children&&e.children.id?this.getBranchEndNode(e.children):e},addBranchNode(e){e.branchs.length<8?e.branchs.push({id:this.getRandomId(),parentId:e.id,name:(this.isConditionNode(e)?"Êù°‰ª∂":"ÂàÜÊîØ")+(e.branchs.length+1),props:this.isConditionNode(e)?this.$deepCopy($s.CONDITION_PROPS):{},type:this.isConditionNode(e)?"CONDITION":"CONCURRENT",children:{}}):this.$message.warning("ÊúÄÂ§öÂè™ËÉΩÊ∑ªÂä† 8 È°πüò•")},delNode(e){let t=this.nodeMap.get(e.parentId);if(t){if(this.isBranchNode(t)){if(t.branchs.splice(t.branchs.indexOf(e),1),t.branchs.length<2){let e=this.nodeMap.get(t.parentId);if(t.branchs[0].children&&t.branchs[0].children.id){e.children=t.branchs[0].children,e.children.parentId=e.id;let s=this.getBranchEndNode(t.branchs[0]);s.children=t.children.children,s.children&&s.children.id&&(s.children.parentId=s.id)}else e.children=t.children.children,e.children&&e.children.id&&(e.children.parentId=e.id)}}else e.children&&e.children.id&&(e.children.parentId=t.id),t.children=e.children;this.$forceUpdate()}else this.$message.warning("Âá∫Áé∞ÈîôËØØÔºåÊâæ‰∏çÂà∞‰∏äÁ∫ßËäÇÁÇπüò•")},validateProcess(){this.valid=!0;let e=[];return this.validate(e,this.dom),e},validateNode(e,t){this.$refs[t.id].validate&&(this.valid=this.$refs[t.id].validate(e))},nodeDomUpdate(e){this.$refs[e.id].$forceUpdate()},forEachNode(e,t,s){this.isBranchNode(t)?(s(e,t),this.forEachNode(t,t.children,s),t.branchs.map(e=>{s(t,e),this.forEachNode(e,e.children,s)})):(this.isPrimaryNode(t)||this.isEmptyNode(t)||this.isBranchSubNode(t))&&(s(e,t),this.forEachNode(t,t.children,s))},validate(e,t){this.isPrimaryNode(t)?(this.validateNode(e,t),this.validate(e,t.children)):this.isBranchNode(t)?(t.branchs.map(t=>{this.validateNode(e,t),this.validate(e,t.children)}),this.validate(e,t.children)):this.isEmptyNode(t)&&this.validate(e,t.children)}},watch:{}},Is=Os,Ts=(s("a944"),Object(d["a"])(Is,Cs,Ns,!1,null,"1ed1e6af",null)),Ps=Ts.exports,Es=function(){var e=this,t=e._self._c;return t("div",[e.name&&e.formConfig.length>0?t("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[t("el-tab-pane",{attrs:{label:e.name,name:"properties"}},[t((e.selectNode.type||"").toLowerCase(),{tag:"component",attrs:{config:e.selectNode.props}})],1),t("el-tab-pane",{attrs:{label:"Ë°®ÂçïÊùÉÈôêËÆæÁΩÆ",name:"permissions"}},[t("form-authority-config")],1)],1):t((e.selectNode.type||"").toLowerCase(),{tag:"component",attrs:{config:e.selectNode.props}})],1)},Rs=[],Ds=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{"label-position":"top","label-width":"90px"}},[t("el-form-item",{staticClass:"user-type",attrs:{label:"‚öô ÈÄâÊã©ÂÆ°Êâπ‰∫∫",prop:"text"}},[t("el-radio-group",{model:{value:e.nodeProps.assignedType,callback:function(t){e.$set(e.nodeProps,"assignedType",t)},expression:"nodeProps.assignedType"}},e._l(e.approvalTypes,(function(s){return t("el-radio",{key:s.type,attrs:{label:s.type}},[e._v(e._s(s.name))])})),1),"ASSIGN_USER"===e.nodeProps.assignedType?t("div",[t("el-form-item",{staticClass:"approve-end",attrs:{label:"ÊåáÂÆö‰∫∫Âëò",prop:"text"}},[t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:e.openForAssigneeUser}},[e._v("ÈÄâÊã©‰∫∫Âëò")]),t("org-items",{model:{value:e.nodeProps.assignedUser,callback:function(t){e.$set(e.nodeProps,"assignedUser",t)},expression:"nodeProps.assignedUser"}})],1)],1):"ROLE"===e.nodeProps.assignedType?t("div",[t("el-form-item",{staticClass:"approve-end",attrs:{label:"ÊåáÂÆöËßíËâ≤",prop:"text"}},[t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:e.openForAssigneeRole}},[e._v("ÈÄâÊã©ËßíËâ≤")]),t("org-items",{model:{value:e.nodeProps.role,callback:function(t){e.$set(e.nodeProps,"role",t)},expression:"nodeProps.role"}})],1)],1):"LEADER_TOP"===e.nodeProps.assignedType?t("div",[t("el-form-item",{staticClass:"approve-end",attrs:{label:"ÂÆ°ÊâπÁªàÁÇπ",prop:"text"}},[t("el-radio-group",{model:{value:e.nodeProps.leaderTop.endCondition,callback:function(t){e.$set(e.nodeProps.leaderTop,"endCondition",t)},expression:"nodeProps.leaderTop.endCondition"}},[t("el-radio",{attrs:{label:"TOP"}},[e._v("Áõ¥Âà∞ÊúÄ‰∏äÂ±Ç‰∏ªÁÆ°")]),t("el-radio",{attrs:{label:"LEAVE"}},[e._v("‰∏çË∂ÖËøáÂèëËµ∑‰∫∫ÁöÑ")])],1),"LEAVE"===e.nodeProps.leaderTop.endCondition?t("div",{staticClass:"approve-end-leave"},[t("span",[e._v("Á¨¨ ")]),t("el-input-number",{attrs:{min:1,max:20,step:1,size:"mini"},model:{value:e.nodeProps.leaderTop.level,callback:function(t){e.$set(e.nodeProps.leaderTop,"level",t)},expression:"nodeProps.leaderTop.level"}}),t("span",[e._v(" Á∫ß‰∏ªÁÆ°")])],1):e._e()],1)],1):"LEADER"===e.nodeProps.assignedType?t("div",[t("el-form-item",{attrs:{label:"ÊåáÂÆö‰∏ªÁÆ°",prop:"text"}},[t("span",[e._v("ÂèëËµ∑‰∫∫ÁöÑÁ¨¨ ")]),t("el-input-number",{attrs:{min:1,max:20,step:1,size:"mini"},model:{value:e.nodeProps.leader.level,callback:function(t){e.$set(e.nodeProps.leader,"level",t)},expression:"nodeProps.leader.level"}}),t("span",[e._v(" Á∫ß‰∏ªÁÆ°")]),t("div",{staticStyle:{color:"#409EFF","font-size":"small"}},[e._v("üëâ 1Á∫ß‰∏ªÁÆ°‰∏∫Êú¨ÈÉ®Èó®‰∏ªÁÆ°ÔºåÈÉ®Èó®ÂÜÖÊéíÂ∫èÁ¨¨‰∏ÄÁöÑ‰∫∫‰∏∫‰∏ªÁÆ°")])],1)],1):"FORM_USER"===e.nodeProps.assignedType?t("div",[t("el-form-item",{staticClass:"approve-end",attrs:{label:"Ë°®ÂçïÂÜÖËÅîÁ≥ª‰∫∫",prop:"text"}},[t("el-select",{staticStyle:{width:"80%"},attrs:{size:"small",placeholder:"ËØ∑ÈÄâÊã©ÂåÖÂê´ËÅîÁ≥ª‰∫∫ÁöÑË°®ÂçïÈ°π"},model:{value:e.nodeProps.formUser,callback:function(t){e.$set(e.nodeProps,"formUser",t)},expression:"nodeProps.formUser"}},e._l(e.forms,(function(e){return t("el-option",{attrs:{label:e.title,value:e.id}})})),1)],1)],1):t("div",[t("span",{staticClass:"item-desc"},[e._v("ÂèëËµ∑‰∫∫Ëá™Â∑±‰Ωú‰∏∫ÂÆ°Êâπ‰∫∫ËøõË°åÂÆ°Êâπ")])])],1),t("el-divider"),t("el-form-item",{staticClass:"line-mode",attrs:{label:"üë§ ÂÆ°Êâπ‰∫∫‰∏∫Á©∫Êó∂",prop:"text"}},[t("el-radio-group",{model:{value:e.nodeProps.nobody.handler,callback:function(t){e.$set(e.nodeProps.nobody,"handler",t)},expression:"nodeProps.nobody.handler"}},[t("el-radio",{attrs:{label:"TO_PASS"}},[e._v("Ëá™Âä®ÈÄöËøá")]),t("el-radio",{attrs:{label:"TO_REFUSE"}},[e._v("Ëá™Âä®È©≥Âõû")]),t("el-radio",{attrs:{label:"TO_ADMIN"}},[e._v("ËΩ¨‰∫§ÂÆ°ÊâπÁÆ°ÁêÜÂëò")]),t("el-radio",{attrs:{label:"TO_USER"}},[e._v("ËΩ¨‰∫§Âà∞ÊåáÂÆö‰∫∫Âëò")])],1),"TO_USER"===e.nodeProps.nobody.handler?t("div",{staticStyle:{"margin-top":"10px"}},[t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:e.openForNobodyAssignee}},[e._v("ÈÄâÊã©‰∫∫Âëò")]),t("org-items",{model:{value:e.nodeProps.nobody.assignedUser,callback:function(t){e.$set(e.nodeProps.nobody,"assignedUser",t)},expression:"nodeProps.nobody.assignedUser"}})],1):e._e()],1),e.showMode?t("div",[t("el-divider"),t("el-form-item",{staticClass:"approve-mode",attrs:{label:"üë©‚Äçüë¶‚Äçüë¶ "+e.nodeProps.nobody.tips,prop:"text"}},[t("el-radio-group",{model:{value:e.nodeProps.mode,callback:function(t){e.$set(e.nodeProps,"mode",t)},expression:"nodeProps.mode"}},[t("el-radio",{attrs:{label:"NEXT"}},[e._v("‰æùÊ¨°‰ºöÁ≠æ ÔºàÊåâÈ°∫Â∫èÂÆ°ÊâπÔºåÊØè‰∏™‰∫∫ÂøÖÈ°ªÂêåÊÑèÔºâ")]),t("el-radio",{attrs:{label:"AND"}},[e._v("ÂêåÊó∂‰ºöÁ≠æÔºàÂèØÂêåÊó∂ÂÆ°ÊâπÔºåÊØè‰∏™‰∫∫ÂøÖÈ°ªÂêåÊÑèÔºâ")]),t("el-radio",{attrs:{label:"OR"}},[e._v("ÊàñÁ≠æÔºàÊúâ‰∏Ä‰∫∫ÂêåÊÑèÂç≥ÂèØÔºâ")])],1)],1)],1):e._e(),t("el-divider",[e._v("È´òÁ∫ßËÆæÁΩÆ")]),e._e(),t("el-form-item",{attrs:{label:"üôÖ‚Äç Â¶ÇÊûúÂÆ°ÊâπË¢´È©≥Âõû üëá"}},[t("el-radio-group",{model:{value:e.nodeProps.refuse.type,callback:function(t){e.$set(e.nodeProps.refuse,"type",t)},expression:"nodeProps.refuse.type"}},[t("el-radio",{attrs:{label:"TO_END"}},[e._v("Áõ¥Êé•ÁªìÊùüÊµÅÁ®ã")]),t("el-radio",{attrs:{label:"TO_BEFORE"}},[e._v("È©≥ÂõûÂà∞‰∏äÁ∫ßÂÆ°ÊâπËäÇÁÇπ")]),t("el-radio",{attrs:{label:"TO_NODE"}},[e._v("È©≥ÂõûÂà∞ÊåáÂÆöËäÇÁÇπ")])],1),"TO_NODE"===e.nodeProps.refuse.type?t("div",[t("span",[e._v("ÊåáÂÆöËäÇÁÇπ:")]),t("el-select",{staticStyle:{"margin-left":"10px",width:"150px"},attrs:{placeholder:"ÈÄâÊã©Ë∑≥ËΩ¨Ê≠•È™§",size:"small"},model:{value:e.nodeProps.refuse.target,callback:function(t){e.$set(e.nodeProps.refuse,"target",t)},expression:"nodeProps.refuse.target"}},e._l(e.nodeOptions,(function(e,s){return t("el-option",{key:s,attrs:{label:e.name,value:e.id}})})),1)],1):e._e()],1)],1),t("org-picker",{ref:"orgPicker",attrs:{multiple:"",type:e.orgPickerType,selected:e.orgPickerChecked},on:{ok:e.orgPickerOk}})],1)},As=[],zs=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-top":"10px"}},e._l(e._value,(function(s,i){return t("el-tag",{key:i+"_org",staticClass:"org-item",attrs:{type:"dept"===s.type?"":"info",closable:"",size:"mini"},on:{close:function(t){return e.removeOrgItem(i)}}},[e._v(" "+e._s(s.name)+" ")])})),1)},Fs=[],Us={name:"OrgItems",components:{},props:{value:{type:Array,default:()=>[]}},computed:{_value:{get(){return this.value},set(e){this.$emit("input",e)}}},data(){return{}},methods:{removeOrgItem(e){this._value.splice(e,1)}}},js=Us,Ms=(s("4b08"),Object(d["a"])(js,zs,Fs,!1,null,"7e2e8510",null)),Ls=Ms.exports,Bs={name:"ApprovalNodeConfig",components:{OrgPicker:v["a"],OrgItems:Ls},props:{config:{type:Object,default:()=>({})}},watch:{},data(){return{orgPickerType:"user",orgPickerChecked:[],orgPickerMod:null,approvalTypes:[{name:"ÊåáÂÆö‰∫∫Âëò",type:"ASSIGN_USER"},{name:"ÊåáÂÆöËßíËâ≤",type:"ROLE"},{name:"ÂèëËµ∑‰∫∫Ëá™Â∑±",type:"SELF"},{name:"ËøûÁª≠Â§öÁ∫ß‰∏ªÁÆ°",type:"LEADER_TOP"},{name:"‰∏ªÁÆ°",type:"LEADER"},{name:"Ë°®ÂçïÂÜÖËÅîÁ≥ª‰∫∫",type:"FORM_USER"}]}},computed:{nodeProps(){return this.$store.state.selectedNode.props},forms(){return this.$store.state.design.formItems.filter(e=>"UserPicker"===e.name)},nodeOptions(){let e=[];const t=["EMPTY","CONDITION","CONDITIONS","CONCURRENT","CONCURRENTS"];return this.$store.state.nodeMap.forEach(s=>{-1===t.indexOf(s.type)&&e.push({id:s.id,name:s.name})}),e},showMode(){switch(this.nodeProps.assignedType){case"ASSIGN_USER":return this.nodeProps.nobody.tips="ÊåáÂÆöÂ§ö‰∫∫Êó∂",this.nodeProps.assignedUser.length>0;case"SELF_SELECT":return this.nodeProps.nobody.tips="Â§ö‰∫∫ÂÆ°ÊâπÊó∂",this.nodeProps.selfSelect.multiple;case"LEADER_TOP":return this.nodeProps.nobody.tips="ÈÉ®Èó®‰∏ªÁÆ°‰∏∫Â§ö‰∫∫Êó∂",!0;case"FORM_USER":return this.nodeProps.nobody.tips="Ë°®ÂçïËÅîÁ≥ª‰∫∫ÈÄâÊã©Â§ö‰∫∫Êó∂",!0;case"ROLE":return this.nodeProps.nobody.tips="ËßíËâ≤‰∏ãÊúâÂ§ö‰∫∫Êó∂",!0;default:return!1}}},methods:{openForAssigneeUser(){this.orgPickerMod="user",this.orgPickerType="user",this.orgPickerChecked=this.config.assignedUser||[],console.log(this.orgPickerMod,this.orgPickerType,this.orgPickerChecked),this.$nextTick(()=>{this.$refs.orgPicker.show()})},openForAssigneeRole(){this.orgPickerMod="role",this.orgPickerType="role",this.orgPickerChecked=this.config.role||[],this.$nextTick(()=>{this.$refs.orgPicker.show()})},openForNobodyAssignee(){this.orgPickerMod="nobodyUser",this.orgPickerType="user",this.orgPickerChecked=this.config.nobody.assignedUser||[],this.$nextTick(()=>{this.$refs.orgPicker.show()})},orgPickerOk(e){"user"===this.orgPickerMod&&(this.config.assignedUser.length=0,e.forEach(e=>this.config.assignedUser.push(e))),"role"===this.orgPickerMod&&(this.config.role.length=0,e.forEach(e=>this.config.role.push(e))),"nobodyUser"===this.orgPickerMod&&(this.config.nobody.assignedUser.length=0,e.forEach(e=>this.config.nobody.assignedUser.push(e)))},removeOrgItem(e){this.select.splice(e,1)}}},Gs=Bs,Vs=(s("f82e"),Object(d["a"])(Gs,Ds,As,!1,null,"36a60433",null)),qs=Vs.exports,Hs=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{inline:"","label-width":"100px"}},[t("el-row",[t("el-form-item",{attrs:{label:"Ë∞ÉÊï¥‰ºòÂÖàÁ∫ß",prop:"level"}},[t("el-popover",{attrs:{placement:"right",title:"ÊãñÊãΩÊù°‰ª∂Ë∞ÉÊï¥‰ºòÂÖàÁ∫ßÈ°∫Â∫è",width:"250",trigger:"click"}},[t("draggable",{staticStyle:{width:"100%","min-height":"25px"},attrs:{list:e.prioritySortList,group:"from",options:e.sortOption}},e._l(e.prioritySortList,(function(s,i){return t("div",{class:{"drag-no-choose":!0,"drag-hover":s.id===e.selectedNode.id}},[t("ellipsis",{staticStyle:{width:"160px"},attrs:{"hover-tip":"",content:s.name}}),t("div",[e._v("‰ºòÂÖàÁ∫ß "+e._s(i+1))])],1)})),0),t("el-button",{attrs:{slot:"reference",icon:"el-icon-sort",size:"small"},slot:"reference"},[e._v("Á¨¨"+e._s(e.nowNodeLeave+1)+"Á∫ß")])],1)],1),t("el-form-item",{attrs:{label:"ÈªòËÆ§Êù°‰ª∂"}},[t("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#c1c1c1","active-text":"ÊòØ","inactive-text":"Âê¶"},model:{value:e.config.isDefault,callback:function(t){e.$set(e.config,"isDefault",t)},expression:"config.isDefault"}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.isDefault,expression:"!config.isDefault"}]},[t("el-row",[t("el-form-item",{attrs:{label:"Êù°‰ª∂ÁªÑÂÖ≥Á≥ª"}},[t("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#c1c1c1","active-value":"AND","inactive-value":"OR","active-text":"‰∏î","inactive-text":"Êàñ"},model:{value:e.config.groupsType,callback:function(t){e.$set(e.config,"groupsType",t)},expression:"config.groupsType"}})],1)],1)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.isDefault,expression:"!config.isDefault"}]},[t("el-button",{staticStyle:{margin:"0 15px 15px 0"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus",round:""},on:{click:e.addConditionGroup}},[e._v(" Ê∑ªÂä†Êù°‰ª∂ÁªÑ ")]),t("span",{staticClass:"item-desc"},[e._v("Ê≥®ÊÑèÔºÅÂè™ÊúâÂøÖÂ°´ÈÄâÈ°πÊâçËÉΩ‰Ωú‰∏∫ÂÆ°ÊâπÊù°‰ª∂")])],1),t("group-item",{directives:[{name:"show",rawName:"v-show",value:!e.config.isDefault,expression:"!config.isDefault"}]})],1)},Js=[],Ys=function(){var e=this,t=e._self._c;return t("div",[e._l(e.selectedNode.props.groups,(function(s,i){return t("div",{key:i+"_g",staticClass:"group"},[t("div",{staticClass:"group-header"},[t("span",{staticClass:"group-name"},[e._v("Êù°‰ª∂ÁªÑ "+e._s(e.groupNames[i]))]),t("div",{staticClass:"group-cp"},[t("span",[e._v("ÁªÑÂÜÖÊù°‰ª∂ÂÖ≥Á≥ªÔºö")]),t("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#c1c1c1","active-value":"AND","inactive-value":"OR","active-text":"‰∏î","inactive-text":"Êàñ"},model:{value:s.groupType,callback:function(t){e.$set(s,"groupType",t)},expression:"group.groupType"}})],1),t("div",{staticClass:"group-operation"},[t("el-popover",{attrs:{placement:"bottom",title:"ÈÄâÊã©ÂÆ°ÊâπÊù°‰ª∂",width:"300",trigger:"click"}},[t("el-checkbox-group",{attrs:{"value-key":"id"},model:{value:s.cids,callback:function(t){e.$set(s,"cids",t)},expression:"group.cids"}},e._l(e.conditionList,(function(i,o){return t("el-checkbox",{key:i.id,attrs:{label:i.id},on:{change:function(t){return e.conditionChange(o,s)}}},[e._v(" "+e._s(i.title)+" ")])})),1),t("i",{staticClass:"el-icon-plus",attrs:{slot:"reference"},slot:"reference"})],1),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.delGroup(i)}}})],1)]),t("div",{staticClass:"group-content"},[0===s.conditions.length?t("p",[e._v("ÁÇπÂáªÂè≥‰∏äËßí + ‰∏∫Êú¨Êù°‰ª∂ÁªÑÊ∑ªÂä†Êù°‰ª∂ ‚òù")]):t("div",[t("el-form",{ref:"condition-form",refInFor:!0,attrs:{"label-width":"100px"}},e._l(s.conditions,(function(i,o){return t("el-form-item",{key:i.id+"_"+o},[t("ellipsis",{attrs:{slot:"label","hover-tip":"",content:i.title},slot:"label"}),i.valueType===e.ValueType.string?t("span",[t("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"Âà§Êñ≠Á¨¶"},on:{change:function(e){i.value=[]}},model:{value:i.compare,callback:function(t){e.$set(i,"compare",t)},expression:"condition.compare"}},[t("el-option",{attrs:{label:"Á≠â‰∫é",value:"="}}),e.getOptions(i.id).length>0?t("el-option",{attrs:{label:"ÂåÖÂê´Âú®",value:"IN"}}):e._e()],1),e.isSelect(i.id)?t("span",{staticStyle:{"margin-left":"10px"}},["IN"===i.compare?t("el-select",{staticStyle:{width:"280px"},attrs:{clearable:"",multiple:"",size:"small",placeholder:"ÈÄâÊã©ÂÄº"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"condition.value"}},e._l(e.getOptions(i.id),(function(e,s){return t("el-option",{key:s,attrs:{label:e,value:e}})})),1):t("el-select",{staticStyle:{width:"280px"},attrs:{clearable:"",size:"small",placeholder:"ÈÄâÊã©ÂÄº"},model:{value:i.value[0],callback:function(t){e.$set(i.value,0,t)},expression:"condition.value[0]"}},e._l(e.getOptions(i.id),(function(e,s){return t("el-option",{key:s,attrs:{label:e,value:e}})})),1)],1):t("span",{staticStyle:{"margin-left":"10px"}},["="===i.compare?t("el-input",{staticStyle:{width:"280px"},attrs:{placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº",size:"small"},model:{value:i.value[0],callback:function(t){e.$set(i.value,0,t)},expression:"condition.value[0]"}}):t("el-select",{staticStyle:{width:"280px"},attrs:{multiple:"",clearable:"",filterable:"","allow-create":"",size:"small",placeholder:"ËæìÂÖ•ÂèØËÉΩÂåÖÂê´ÁöÑÂÄº"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"condition.value"}})],1)],1):i.valueType===e.ValueType.number?t("span",[t("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"Âà§Êñ≠Á¨¶"},model:{value:i.compare,callback:function(t){e.$set(i,"compare",t)},expression:"condition.compare"}},e._l(e.explains,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("span",{staticStyle:{"margin-left":"10px"}},[0===e.conditionValType(i.compare)?t("el-input",{staticStyle:{width:"280px"},attrs:{size:"small",placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº",type:"number"},model:{value:i.value[0],callback:function(t){e.$set(i.value,0,t)},expression:"condition.value[0]"}}):1===e.conditionValType(i.compare)?t("el-select",{staticStyle:{width:"280px"},attrs:{multiple:"",filterable:"","allow-create":"",size:"small",placeholder:"ËæìÂÖ•ÂèØËÉΩÂåÖÂê´ÁöÑÂÄº"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"condition.value"}}):t("span",[t("el-input",{staticStyle:{width:"130px"},attrs:{size:"small",type:"number",placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº"},model:{value:i.value[0],callback:function(t){e.$set(i.value,0,t)},expression:"condition.value[0]"}}),t("span",[e._v(" ~ "),t("el-input",{staticStyle:{width:"130px"},attrs:{size:"small",type:"number",placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº"},model:{value:i.value[1],callback:function(t){e.$set(i.value,1,t)},expression:"condition.value[1]"}})],1)],1)],1)],1):i.valueType===e.ValueType.user?t("span",[t("el-select",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"small",placeholder:"Âà§Êñ≠Á¨¶"},model:{value:i.compare,callback:function(t){e.$set(i,"compare",t)},expression:"condition.compare"}},[t("el-option",{attrs:{label:"‰∏∫Êüê‰∫õ‰∫∫ÂÖ∂‰∏≠‰πã‰∏Ä",value:"user"}}),t("el-option",{attrs:{label:"‰∏∫ÊüêÈÉ®Èó®ÊàñÂÖ∂‰∏ãÂ±ûÈÉ®Èó®‰πã‰∏Ä",value:"dept"}}),t("el-option",{attrs:{label:"‰∏∫ÊüêËßíËâ≤ÂÖ∂‰∏≠‰πã‰∏Ä",value:"role"}})],1),t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:function(t){return e.selectUser(i.value,i.compare)}}},[e._v("ÈÄâÊã©ËåÉÂõ¥")]),t("org-items",{model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"condition.value"}})],1):i.valueType===e.ValueType.dept?t("span",[t("el-select",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{size:"small",placeholder:"Âà§Êñ≠Á¨¶"},model:{value:i.compare,callback:function(t){e.$set(i,"compare",t)},expression:"condition.compare"}},[t("el-option",{attrs:{label:"‰∏∫ÊüêÈÉ®Èó®ÊàñÂÖ∂‰∏ãÂ±ûÈÉ®Èó®‰πã‰∏Ä",value:"dept"}})],1),t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:function(t){return e.selectUser(i.value,"dept")}}},[e._v("ÈÄâÊã©ÈÉ®Èó®")]),t("org-items",{model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"condition.value"}})],1):i.valueType===e.ValueType.date?t("span",[t("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"Âà§Êñ≠Á¨¶"},model:{value:i.compare,callback:function(t){e.$set(i,"compare",t)},expression:"condition.compare"}},e._l(e.explains,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("span",{staticStyle:{"margin-left":"10px"}},[0===e.conditionValType(i.compare)?t("el-date-picker",{staticStyle:{width:"280px"},attrs:{"value-format":"yyyy-MM-dd",size:"small",placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº",type:"date"},model:{value:i.value[0],callback:function(t){e.$set(i.value,0,t)},expression:"condition.value[0]"}}):t("span",[t("el-date-picker",{staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº"},model:{value:i.value[0],callback:function(t){e.$set(i.value,0,t)},expression:"condition.value[0]"}}),t("span",[e._v(" ~ "),t("el-date-picker",{staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"ËæìÂÖ•ÊØîËæÉÂÄº"},model:{value:i.value[1],callback:function(t){e.$set(i.value,1,t)},expression:"condition.value[1]"}})],1)],1)],1)],1):e._e(),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.rmSubCondition(s,o)}}})],1)})),1)],1)])])})),t("org-picker",{ref:"orgPicker",attrs:{type:e.orgType,multiple:"",selected:e.users},on:{ok:e.selected}})],2)},Ws=[],Ks={name:"ConditionGroupItemConfig",components:{OrgPicker:v["a"],OrgItems:Ls},data(){return{ValueType:ot["a"],users:[],orgType:"user",showOrgSelect:!1,groupNames:["A","B","C","D","E","F","G","H","I","J"],supportTypes:[ot["a"].number,ot["a"].string,ot["a"].date,ot["a"].dept,ot["a"].user],explains:[{label:"Á≠â‰∫é",value:"="},{label:"Â§ß‰∫é",value:">"},{label:"Â§ß‰∫éÁ≠â‰∫é",value:">="},{label:"Â∞è‰∫é",value:"<"},{label:"Â∞è‰∫éÁ≠â‰∫é",value:"<="},{label:"ÂåÖÂê´Âú®",value:"IN"},{label:"x < ÂÄº < x",value:"B"},{label:"x ‚â§ ÂÄº < x",value:"AB"},{label:"x < ÂÄº ‚â§ x",value:"BA"},{label:"x ‚â§ ÂÄº ‚â§ x",value:"ABA"}]}},computed:{selectedNode(){return this.$store.state.selectedNode},select(){return this.selectedNode.props.assignedUser||[]},formItems(){return this.$store.state.design.formItems},formMap(){const e=new Map;return this.formItems.forEach(t=>this.itemToMap(e,t)),e},conditionList(){const e=[];return this.formItems.forEach(t=>this.filterCondition(t,e)),0!==e.length&&"root"===e[0].id||e.unshift({id:"root",title:"ÂèëËµ∑‰∫∫",valueType:"User"}),e}},methods:{itemToMap(e,t){e.set(t.id,t),"SpanLayout"===t.name&&t.props.items.forEach(t=>this.itemToMap(e,t))},isSelect(e){let t=this.formMap.get(e);return!(!t||"SelectInput"!==t.name&&"MultipleSelect"!==t.name)},getOptions(e){return this.formMap.get(e).props.options||[]},conditionValType(e){switch(e){case"=":case">":case">=":case"<":case"<=":return 0;case"IN":return 1;default:return 2}},selectUser(e,t){this.orgType===t||(e.length=0),this.users=e,this.orgType=t,this.$nextTick(()=>{this.$refs.orgPicker.show()})},filterCondition(e,t){"SpanLayout"===e.name?e.props.items.forEach(e=>this.filterCondition(e,t)):this.supportTypes.indexOf(e.valueType)>-1&&e.props.required&&t.push({title:e.title,id:e.id,valueType:e.valueType})},selected(e){this.users.length=0,e.forEach(e=>this.users.push(e))},delGroup(e){this.selectedNode.props.groups.splice(e,1)},rmSubCondition(e,t){e.cids.splice(t,1),e.conditions.splice(t,1)},conditionChange(e,t){t.cids.forEach(s=>{if(0>t.conditions.findIndex(e=>e.id===s)){let s={...this.conditionList[e]};s.compare="",s.value=[],t.conditions.push(s)}});for(let s=0;s<t.conditions.length;s++)t.cids.indexOf(t.conditions[s].id)<0&&t.conditions.splice(s,1)}}},Xs=Ks,Zs=(s("b7e4"),Object(d["a"])(Xs,Ys,Ws,!1,null,"a16325ba",null)),Qs=Zs.exports,ei={name:"ConditionNodeConfig",components:{draggable:C.a,GroupItem:Qs},props:{config:{type:Object,default:()=>({})}},computed:{selectedNode(){return this.$store.state.selectedNode},select(){return this.config.assignedUser||[]},nowNodeLeave(){return this.prioritySortList.indexOf(this.selectedNode)},prioritySortList(){let e=this.$store.state.nodeMap.get(this.selectedNode.parentId);return e&&e.branchs||[]}},data(){return{sortOption:{animation:300,chosenClass:"choose",scroll:!0,sort:!0}}},methods:{addConditionGroup(){this.config.groups.push({cids:[],groupType:"OR",conditions:[]})},selectUser(){this.showOrgSelect=!0},selected(e){this.showOrgSelect=!1,e.forEach(e=>this.select.push(e))},removeOrgItem(e){this.select.splice(e,1)}}},ti=ei,si=(s("f5be"),Object(d["a"])(ti,Hs,Js,!1,null,"2f8e493e",null)),ii=si.exports,oi=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-bottom":"20px"}},[t("p",{staticClass:"item-desc"},[e._v("Âª∂Êó∂ÊñπÂºè")]),t("el-radio-group",{attrs:{size:"small"},model:{value:e.config.type,callback:function(t){e.$set(e.config,"type",t)},expression:"config.type"}},[t("el-radio-button",{attrs:{label:"FIXED"}},[e._v("Âõ∫ÂÆöÊó∂Èïø")]),t("el-radio-button",{attrs:{label:"AUTO"}},[e._v("Ëá™Âä®ËÆ°ÁÆó")])],1)],1),"FIXED"===e.config.type?t("div",[t("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"Êó∂Èó¥Âçï‰Ωç",size:"small",type:"number"},model:{value:e.config.time,callback:function(t){e.$set(e.config,"time",t)},expression:"config.time"}},[t("el-select",{staticStyle:{width:"75px"},attrs:{slot:"append",placeholder:"ËØ∑ÈÄâÊã©"},slot:"append",model:{value:e.config.unit,callback:function(t){e.$set(e.config,"unit",t)},expression:"config.unit"}},[t("el-option",{attrs:{label:"Â§©",value:"D"}}),t("el-option",{attrs:{label:"Â∞èÊó∂",value:"H"}}),t("el-option",{attrs:{label:"ÂàÜÈíü",value:"M"}})],1)],1),t("span",{staticClass:"item-desc"},[e._v(" ÂêéËøõÂÖ•‰∏ã‰∏ÄÊ≠•")])],1):t("div",{staticClass:"item-desc"},[t("el-time-picker",{staticStyle:{width:"150px"},attrs:{"value-format":"HH:mm:ss",size:"small",placeholder:"‰ªªÊÑèÊó∂Èó¥ÁÇπ"},model:{value:e.config.dateTime,callback:function(t){e.$set(e.config,"dateTime",t)},expression:"config.dateTime"}}),t("span",{staticClass:"item-desc"},[e._v(" ÂêéËøõÂÖ•‰∏ã‰∏ÄÊ≠•")])],1)])},li=[],ni={name:"DelayNodeConfig",components:{},props:{config:{type:Object,default:()=>({})}},data(){return{}},methods:{}},ai=ni,ri=Object(d["a"])(ai,oi,li,!1,null,"95317f08",null),ci=ri.exports,di=function(){var e=this,t=e._self._c;return t("div",[t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:e.selectOrg}},[e._v("ÈÄâÊã©ÊäÑÈÄÅ‰∫∫")]),t("div",{staticClass:"option"}),t("org-items",{model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),t("org-picker",{ref:"orgPicker",attrs:{multiple:"",type:"user",selected:e.select},on:{ok:e.selected}})],1)},ui=[],pi={name:"CcNodeConfig.vue",components:{OrgPicker:v["a"],OrgItems:Ls},props:{config:{type:Object,default:()=>({})}},computed:{select:{get(){return this.config.assignedUser||[]},set(e){this.config.assignedUser=e}}},data(){return{}},methods:{selectOrg(){this.$refs.orgPicker.show()},selected(e){this.config.assignedType="CC",this.select=Object.assign([],e)},removeOrgItem(e){this.select.splice(e,1)}}},mi=pi,hi=(s("5f6d"),Object(d["a"])(mi,di,ui,!1,null,"2c118666",null)),fi=hi.exports,vi=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{attrs:{"label-position":"top","label-width":"90px"}},[t("el-form-item",{staticClass:"user-type",attrs:{label:"ÈÄâÊã©Ëß¶ÂèëÁöÑÂä®‰Ωú",prop:"text"}},[t("el-radio-group",{model:{value:e.config.type,callback:function(t){e.$set(e.config,"type",t)},expression:"config.type"}},[t("el-radio",{attrs:{label:"WEBHOOK"}},[e._v("ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç")]),t("el-radio",{attrs:{label:"EMAIL"}},[e._v("ÂèëÈÄÅÈÇÆ‰ª∂")])],1)],1),"WEBHOOK"===e.config.type?t("div",[t("el-form-item",{attrs:{label:"ËØ∑Ê±ÇÂú∞ÂùÄ",prop:"text"}},[t("el-input",{attrs:{placeholder:"ËØ∑ËæìÂÖ•URLÂú∞ÂùÄ",size:"medium"},model:{value:e.config.http.url,callback:function(t){e.$set(e.config.http,"url",t)},expression:"config.http.url"}},[t("el-select",{staticStyle:{width:"85px"},attrs:{slot:"prepend",placeholder:"URL"},slot:"prepend",model:{value:e.config.http.method,callback:function(t){e.$set(e.config.http,"method",t)},expression:"config.http.method"}},[t("el-option",{attrs:{label:"GET",value:"GET"}}),t("el-option",{attrs:{label:"POST",value:"POST"}}),t("el-option",{attrs:{label:"PUT",value:"PUT"}}),t("el-option",{attrs:{label:"DELETE",value:"DELETE"}})],1)],1)],1),t("el-form-item",{attrs:{label:"HeaderËØ∑Ê±ÇÂ§¥",prop:"text"}},[t("div",{attrs:{slot:"label"},slot:"label"},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v("HeaderËØ∑Ê±ÇÂ§¥")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.addItem(e.config.http.headers)}}},[e._v(" + Ê∑ªÂä†")])],1),e._l(e.config.http.headers,(function(s,i){return t("div",{key:s.name},[e._v(" - "),t("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"ÂèÇÊï∞Âêç",size:"small"},model:{value:s.name,callback:function(t){e.$set(s,"name",t)},expression:"header.name"}}),t("el-radio-group",{staticStyle:{margin:"0 5px"},attrs:{size:"small"},model:{value:s.isField,callback:function(t){e.$set(s,"isField",t)},expression:"header.isField"}},[t("el-radio-button",{attrs:{label:!0}},[e._v("Ë°®Âçï")]),t("el-radio-button",{attrs:{label:!1}},[e._v("Âõ∫ÂÆö")])],1),s.isField?t("el-select",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"ËØ∑ÈÄâÊã©Ë°®ÂçïÂ≠óÊÆµ"},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"header.value"}},e._l(e.forms,(function(e){return t("el-option",{key:e.id,attrs:{label:e.title,value:e.title}})})),1):t("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"ËØ∑ËÆæÁΩÆÂ≠óÊÆµÂÄº",size:"small"},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"header.value"}}),t("el-icon",{staticClass:"el-icon-delete",staticStyle:{"margin-left":"5px",color:"#c75450",cursor:"pointer"},on:{click:function(t){return e.delItem(e.config.http.headers,i)}}})],1)}))],2),t("el-form-item",{attrs:{label:"HeaderËØ∑Ê±ÇÂèÇÊï∞",prop:"text"}},[t("div",{attrs:{slot:"label"},slot:"label"},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v("HeaderËØ∑Ê±ÇÂèÇÊï∞ ")]),t("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"text"},on:{click:function(t){return e.addItem(e.config.http.params)}}},[e._v(" + Ê∑ªÂä†")]),t("span",[e._v("ÂèÇÊï∞Á±ªÂûã - ")]),t("el-radio-group",{staticStyle:{margin:"0 5px"},attrs:{size:"mini"},model:{value:e.config.http.contentType,callback:function(t){e.$set(e.config.http,"contentType",t)},expression:"config.http.contentType"}},[t("el-radio-button",{attrs:{label:"JSON"}},[e._v("json")]),t("el-radio-button",{attrs:{label:"FORM"}},[e._v("form")])],1)],1),e._l(e.config.http.params,(function(s,i){return t("div",{key:s.name},[e._v(" - "),t("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"ÂèÇÊï∞Âêç",size:"small"},model:{value:s.name,callback:function(t){e.$set(s,"name",t)},expression:"param.name"}}),t("el-radio-group",{staticStyle:{margin:"0 5px"},attrs:{size:"small"},model:{value:s.isField,callback:function(t){e.$set(s,"isField",t)},expression:"param.isField"}},[t("el-radio-button",{attrs:{label:!0}},[e._v("Ë°®Âçï")]),t("el-radio-button",{attrs:{label:!1}},[e._v("Âõ∫ÂÆö")])],1),s.isField?t("el-select",{staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"ËØ∑ÈÄâÊã©Ë°®ÂçïÂ≠óÊÆµ"},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"param.value"}},e._l(e.forms,(function(e){return t("el-option",{key:e.id,attrs:{label:e.title,value:e.title}})})),1):t("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"ËØ∑ËÆæÁΩÆÂ≠óÊÆµÂÄº",size:"small"},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"param.value"}}),t("el-icon",{staticClass:"el-icon-delete",staticStyle:{"margin-left":"5px",color:"#c75450",cursor:"pointer"},on:{click:function(t){return e.delItem(e.config.http.params,i)}}})],1)})),t("div")],2),t("el-form-item",{attrs:{label:"ËØ∑Ê±ÇÁªìÊûúÂ§ÑÁêÜ",prop:"text"}},[t("div",{attrs:{slot:"label"},slot:"label"},[t("span",[e._v("ËØ∑Ê±ÇÁªìÊûúÂ§ÑÁêÜ")]),t("span",{staticStyle:{"margin-left":"20px"}},[e._v("Ëá™ÂÆö‰πâËÑöÊú¨: ")]),t("el-switch",{model:{value:e.config.http.handlerByScript,callback:function(t){e.$set(e.config.http,"handlerByScript",t)},expression:"config.http.handlerByScript"}})],1),e.config.http.handlerByScript?t("span",{staticClass:"item-desc"},[e._v(" üëâ ËøîÂõûÂÄº‰∏∫ ture ÂàôÊµÅÁ®ãÈÄöËøáÔºå‰∏∫ false ÂàôÊµÅÁ®ãÂ∞ÜË¢´È©≥Âõû "),t("div",[e._v("ÊîØÊåÅÂáΩÊï∞ "),t("span",{staticStyle:{color:"dodgerblue"}},[e._v("setFormByName( "),t("span",{staticStyle:{color:"#939494"}},[e._v("'Ë°®ÂçïÂ≠óÊÆµÂêç', 'Ë°®ÂçïÂ≠óÊÆµÂÄº'")]),e._v(" )")]),e._v(" ÂèØÊîπË°®ÂçïÊï∞ÊçÆ ")])]):t("span",{staticClass:"item-desc"},[e._v("üëâ Êó†ËÆ∫ËØ∑Ê±ÇÁªìÊûúÂ¶Ç‰ΩïÔºåÂùáÈÄöËøá")]),e.config.http.handlerByScript?t("div",[t("div",[t("span",[e._v("ËØ∑Ê±ÇÊàêÂäüüòÄÔºö")]),t("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.config.http.success,callback:function(t){e.$set(e.config.http,"success",t)},expression:"config.http.success"}})],1),t("div",[t("span",[e._v("ËØ∑Ê±ÇÂ§±Ë¥•üò•Ôºö")]),t("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.config.http.fail,callback:function(t){e.$set(e.config.http,"fail",t)},expression:"config.http.fail"}})],1)]):e._e()])],1):"EMAIL"===e.config.type?t("div",[t("el-form-item",{attrs:{label:"ÈÇÆ‰ª∂‰∏ªÈ¢ò",prop:"text"}},[t("el-input",{attrs:{placeholder:"ËØ∑ËæìÂÖ•ÈÇÆ‰ª∂‰∏ªÈ¢ò",size:"medium"},model:{value:e.config.email.subject,callback:function(t){e.$set(e.config.email,"subject",t)},expression:"config.email.subject"}})],1),t("el-form-item",{attrs:{label:"Êî∂‰ª∂Êñπ",prop:"text"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",multiple:"","allow-create":"","default-first-option":"",placeholder:"ËØ∑ËæìÂÖ•Êî∂‰ª∂‰∫∫"},model:{value:e.config.email.to,callback:function(t){e.$set(e.config.email,"to",t)},expression:"config.email.to"}},e._l(e.config.email.to,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"ÈÇÆ‰ª∂Ê≠£Êñá",prop:"text"}},[t("el-input",{attrs:{type:"textarea",rows:4,placeholder:"ÈÇÆ‰ª∂ÂÜÖÂÆπÔºåÊîØÊåÅÂèòÈáèÊèêÂèñË°®ÂçïÊï∞ÊçÆ ${Ë°®ÂçïÂ≠óÊÆµÂêç} "},model:{value:e.config.email.content,callback:function(t){e.$set(e.config.email,"content",t)},expression:"config.email.content"}})],1)],1):e._e()],1)],1)},gi=[],bi={name:"TriggerNodeConfig",components:{},props:{config:{type:Object,default:()=>({})}},computed:{forms(){return this.$store.state.design.formItems||[]}},data(){return{cmOptions:{tabSize:4,indentUnit:4,styleActiveLine:!0,lineNumbers:!0,styleSelectedText:!0,line:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","lock","warn"],highlightSelectionMatches:{showToken:/w/,annotateScrollbar:!0},mode:"javascript",hintOptions:{completeSingle:!1},keyMap:"sublime",matchBrackets:!0,showCursorWhenSelecting:!1,theme:"material",extraKeys:{Ctrl:"autocomplete"},lastLineBefore:0}}},methods:{addItem(e){e.length>0&&(""===e[e.length-1].name.trim()||""===e[e.length-1].value.trim())?this.$message.warning("ËØ∑ÂÆåÂñÑ‰πãÂâçÈ°πÂêéÂú®Ê∑ªÂä†"):e.push({name:"",value:"",isField:!0})},delItem(e,t){e.splice(t,1)},onCmCodeChange(){},onCmReady(){}}},yi=bi,_i=(s("423b"),Object(d["a"])(yi,vi,gi,!1,null,"0337be07",null)),ki=_i.exports,xi=function(){var e=this,t=e._self._c;return t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#f5f6f6"},data:e.formPerms,border:""}},[t("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"Ë°®ÂçïÂ≠óÊÆµ"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.required?t("span",{staticStyle:{color:"#c75450"}},[e._v(" * ")]):e._e(),t("span",[e._v(e._s(s.row.title))])]}}])}),t("el-table-column",{attrs:{prop:"readOnly",label:"Âè™ËØª",width:"80"},scopedSlots:e._u([{key:"header",fn:function(s){return[t("el-radio",{attrs:{label:"R"},on:{change:function(t){return e.allSelect("R")}},model:{value:e.permSelect,callback:function(t){e.permSelect=t},expression:"permSelect"}},[e._v("Âè™ËØª")])]}},{key:"default",fn:function(s){return[t("el-radio",{attrs:{label:"R",name:s.row.id},model:{value:s.row.perm,callback:function(t){e.$set(s.row,"perm",t)},expression:"scope.row.perm"}})]}}])}),"CC"!==e.nowNode.type?t("el-table-column",{attrs:{prop:"editable",label:"ÂèØÁºñËæë",width:"90"},scopedSlots:e._u([{key:"header",fn:function(s){return[t("el-radio",{attrs:{label:"E"},on:{change:function(t){return e.allSelect("E")}},model:{value:e.permSelect,callback:function(t){e.permSelect=t},expression:"permSelect"}},[e._v("ÂèØÁºñËæë")])]}},{key:"default",fn:function(s){return[t("el-radio",{attrs:{label:"E",name:s.row.id},model:{value:s.row.perm,callback:function(t){e.$set(s.row,"perm",t)},expression:"scope.row.perm"}})]}}],null,!1,2030366288)}):e._e(),t("el-table-column",{attrs:{prop:"hide",label:"ÈöêËóè",width:"80"},scopedSlots:e._u([{key:"header",fn:function(s){return[t("el-radio",{attrs:{label:"H"},on:{change:function(t){return e.allSelect("H")}},model:{value:e.permSelect,callback:function(t){e.permSelect=t},expression:"permSelect"}},[e._v("ÈöêËóè")])]}},{key:"default",fn:function(s){return[t("el-radio",{attrs:{label:"H",name:s.row.id},model:{value:s.row.perm,callback:function(t){e.$set(s.row,"perm",t)},expression:"scope.row.perm"}})]}}])})],1)],1)},wi=[],Si={name:"FormAuthorityConfig",components:{},data(){return{tableData:[],isIndeterminate:!1,permSelect:"",checkStatus:{readOnly:!0,editable:!1,hide:!1}}},created(){let e=this.formPerms.toMap("id");this.formPerms.length=0,this.formPermsLoad(e,this.formData)},computed:{nowNode(){return this.$store.state.selectedNode},formData(){return this.$store.state.design.formItems},formPerms(){return this.$store.state.selectedNode.props.formPerms}},methods:{allSelect(e){this.permSelect=e,this.formPerms.forEach(t=>t.perm=e)},formPermsLoad(e,t){t.forEach(t=>{if("SpanLayout"===t.name)this.formPermsLoad(e,t.props.items);else{let s=e.get(t.id);s?(s.title=t.title,s.required=t.props.required,this.formPerms.push(s)):this.formPerms.push({id:t.id,title:t.title,required:t.props.required,perm:"ROOT"===this.$store.state.selectedNode.type?"E":"R"})}})},handleCheckAllChange(){}},watch:{formPerms:{deep:!0,handler(){const e=new Set(this.formPerms.map(e=>e.perm));this.permSelect=1===e.size?e.values()[0]:""}}}},Ci=Si,Ni=(s("b274"),Object(d["a"])(Ci,xi,wi,!1,null,"45d6055c",null)),$i=Ni.exports,Oi=function(){var e=this,t=e._self._c;return t("div",[t("p",{staticClass:"desc"},[e._v("ÈÄâÊã©ËÉΩÂèëËµ∑ËØ•ÂÆ°ÊâπÁöÑËßíËâ≤Ôºå‰∏çÈÄâÂàôÈªòËÆ§ÂºÄÊîæÁªôÊâÄÊúâ‰∫∫")]),t("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary",round:""},on:{click:e.selectOrg}},[e._v("ËØ∑ÈÄâÊã©")]),t("org-items",{model:{value:e.select,callback:function(t){e.select=t},expression:"select"}}),t("org-picker",{ref:"orgPicker",attrs:{title:"ËØ∑ÈÄâÊã©ÂèØÂèëËµ∑Êú¨ÂÆ°ÊâπÁöÑËßíËâ≤",type:"role",multiple:"",selected:e.select},on:{ok:e.selected}})],1)},Ii=[],Ti={name:"RootConfig",components:{OrgPicker:v["a"],OrgItems:Ls},props:{config:{type:Object,default:()=>({})}},data(){return{showOrgSelect:!1}},computed:{select(){return this.config.assignedUser}},methods:{selectOrg(){this.$refs.orgPicker.show()},selected(e){this.select.length=0,e.forEach(e=>this.select.push(e))},removeOrgItem(e){this.select.splice(e,1)}}},Pi=Ti,Ei=(s("e3bb"),Object(d["a"])(Pi,Oi,Ii,!1,null,"0814e01f",null)),Ri=Ei.exports,Di={name:"NodeConfig",components:{Approval:qs,Condition:ii,Trigger:ki,Delay:ci,Root:Ri,Cc:fi,FormAuthorityConfig:$i},data(){return{active:"properties"}},computed:{selectNode(){return this.$store.state.selectedNode},formConfig(){return this.$store.state.design.formItems},name(){switch(this.selectNode.type){case"ROOT":return"ËÆæÁΩÆÂèëËµ∑‰∫∫";case"APPROVAL":return"ËÆæÁΩÆÂÆ°Êâπ‰∫∫";case"CC":return"ËÆæÁΩÆÊäÑÈÄÅ‰∫∫";default:return null}}},methods:{}},Ai=Di,zi=Object(d["a"])(Ai,Es,Rs,!1,null,"3e47c4e8",null),Fi=zi.exports,Ui={name:"ProcessDesign",components:{ProcessTree:Ps,NodeConfig:Fi},data(){return{scale:100,selected:{},showInput:!1,showConfig:!1}},computed:{selectedNode(){return this.$store.state.selectedNode}},mounted(){},methods:{validate(){return this.$refs["process-tree"].validateProcess()},nodeSelected(e){this.showConfig=!0}},watch:{}},ji=Ui,Mi=(s("cefb"),Object(d["a"])(ji,ct,dt,!1,null,"75b01fb6",null)),Li=Mi.exports,Bi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"senior-setup"},[t("el-form",{attrs:{"label-position":"top","label-width":"80px"}},[t("el-form-item",{attrs:{label:"ÂÆ°ÊâπÂêåÊÑèÊó∂ÊòØÂê¶Á≠æÂ≠ó"}},[t("el-switch",{attrs:{"inactive-text":"Êó†ÈúÄÁ≠æÂ≠ó","active-text":"ÈúÄË¶ÅÁ≠æÂ≠ó"},model:{value:e.setup&&e.setup.sign,callback:function(t){e.$set(e.setup&&e.setup,"sign",t)},expression:"setup && setup.sign"}}),t("div",{staticClass:"sign-tip"},[e._v("Â¶ÇÊûúÊ≠§Â§ÑËÆæÁΩÆ‰∏∫ "),t("b",[e._v("ÈúÄË¶ÅÁ≠æÂ≠ó")]),e._v("ÔºåÂàôÊâÄÊúâÂÆ°Êâπ‰∫∫‚ÄúÂêåÊÑèÊó∂‚Äù "),t("b",[e._v("ÂøÖÈ°ªÁ≠æÂ≠ó")])])],1)],1)],1)},Gi=[],Vi={name:"FormProSetting",computed:{setup(){return this.$store.state.design.settings}},data(){return{}},methods:{validate(){return[]}}},qi=Vi,Hi=(s("d6a9"),Object(d["a"])(qi,Bi,Gi,!1,null,"6538d911",null)),Ji=Hi.exports,Yi={name:"FormProcessDesign",components:{LayoutHeader:p,FormBaseSetting:k,FormDesign:rt,ProcessDesign:Li,FormProSetting:Ji},data(){return{isNew:!0,validStep:0,timer:null,activeSelect:"baseSetting",validVisible:!1,validResult:{},validOptions:[{title:"Âü∫Á°Ä‰ø°ÊÅØ",description:"",icon:"",status:""},{title:"ÂÆ°ÊâπË°®Âçï",description:"",icon:"",status:""},{title:"ÂÆ°ÊâπÊµÅÁ®ã",description:"",icon:"",status:""},{title:"Êâ©Â±ïËÆæÁΩÆ",description:"",icon:"",status:""}],validComponents:["baseSetting","formSetting","processDesign","proSetting"]}},computed:{setup(){return this.$store.state.design},errTitle(){return this.validResult.finished&&!this.validResult.success?this.validResult.title+` (${this.validResult.errs.length}È°πÈîôËØØ) üò•`:this.validResult.title},validIcon(){return this.validResult.finished?this.validResult.success?"success":"warning":"el-icon-loading"}},created(){this.showValiding();let e=this.$route.query.code;this.$isNotEmpty(e)?(this.isNew=!1,this.loadFormInfo(e)):(this.isNew=!0,this.loadInitFrom());let t=this.$route.query.groupId;this.setup.groupId=this.$isNotEmpty(t)?parseInt(t):null},beforeDestroy(){this.stopTimer()},methods:{loadFormInfo(e){Object(m["d"])(e).then(e=>{let t=e.data;t.logo=JSON.parse(t.logo),t.settings=JSON.parse(t.settings),t.formItems=JSON.parse(t.formItems),t.process=JSON.parse(t.process),this.$store.commit("loadForm",t)}).catch(e=>{this.$message.error(e)})},loadInitFrom(){this.$store.commit("loadForm",{formId:null,formName:"Êú™ÂëΩÂêçË°®Âçï",logo:{icon:"el-icon-eleme",background:"#1e90ff"},settings:{commiter:[],admin:[],sign:!1,notify:{types:["APP"],title:"Ê∂àÊÅØÈÄöÁü•Ê†áÈ¢ò"}},groupId:void 0,formItems:[],process:{id:"root",parentId:null,type:"ROOT",name:"ÂèëËµ∑‰∫∫",desc:"",props:{assignedUser:[],formPerms:[]},children:{}},remark:"Â§áÊ≥®ËØ¥Êòé"})},validateDesign(){this.validVisible=!0,this.validStep=0,this.showValiding(),this.stopTimer(),this.timer=setInterval(()=>{this.validResult.errs=this.$refs[this.validComponents[this.validStep]].validate(),Array.isArray(this.validResult.errs)&&0===this.validResult.errs.length?(this.validStep++,this.validStep>=this.validOptions.length&&(this.stopTimer(),this.showValidFinish(!0))):(this.stopTimer(),this.validOptions[this.validStep].status="error",this.showValidFinish(!1,this.getDefaultValidErr()))},300)},getDefaultValidErr(){switch(this.validStep){case 0:return"ËØ∑Ê£ÄÊü•Âü∫Á°ÄËÆæÁΩÆÈ°π";case 1:return"ËØ∑Ê£ÄÊü•ÂÆ°ÊâπË°®ÂçïÁõ∏ÂÖ≥ËÆæÁΩÆ";case 2:return"ËØ∑Ê£ÄÊü•ÂÆ°ÊâπÊµÅÁ®ãÔºåÊü•ÁúãÂØπÂ∫îÊ†áÊ≥®ËäÇÁÇπÈîôËØØ‰ø°ÊÅØ";case 3:return"ËØ∑Ê£ÄÊü•Êâ©Â±ïËÆæÁΩÆ";default:return"Êú™Áü•ÈîôËØØ"}},showValidFinish(e,t){this.validResult.success=e,this.validResult.finished=!0,this.validResult.title=e?"Ê†°È™åÂÆåÊàê üòÄ":"Ê†°È™åÂ§±Ë¥• ",this.validResult.desc=e?"ËÆæÁΩÆÈ°πÊ†°È™åÊàêÂäüÔºåÊòØÂê¶Êèê‰∫§Ôºü":t,this.validResult.action=e?"Êèê ‰∫§":"Âéª‰øÆÊîπ"},showValiding(){this.validResult={errs:[],finished:!1,success:!1,title:"Ê£ÄÊü•‰∏≠...",action:"Â§ÑÁêÜ",desc:"Ê≠£Âú®Ê£ÄÊü•ËÆæÁΩÆÈ°π"},this.validStep=0,this.validOptions.forEach(e=>{e.status="",e.icon="",e.description=""})},doAfter(){this.validResult.success?this.doPublish():(this.activeSelect=this.validComponents[this.validStep],this.validVisible=!1)},stopTimer(){this.timer&&clearInterval(this.timer)},preview(){this.validateDesign()},publishProcess(){this.validateDesign()},doPublish(){this.$confirm("Â¶ÇÊûúÊÇ®Âè™ÊÉ≥È¢ÑËßàËØ∑ÈÄâÊã©È¢ÑËßàÔºåÁ°ÆËÆ§ÂèëÂ∏ÉÂêéÊµÅÁ®ãÁ´ãÂç≥ÁîüÊïàÔºåÊòØÂê¶ÁªßÁª≠?","ÊèêÁ§∫",{confirmButtonText:"ÂèëÂ∏É",cancelButtonText:"ÂèñÊ∂à",type:"warning"}).then(()=>{let e=JSON.parse(JSON.stringify(this.setup));e.logo=JSON.stringify(this.setup.logo),e.settings=JSON.stringify(this.setup.settings),e.groupId=this.setup.groupId,e.formItems=JSON.stringify(this.setup.formItems),e.process=JSON.stringify(this.setup.process),this.isNew||!this.$isNotEmpty(this.setup.formId)?Object(m["a"])(e).then(e=>{this.$message.success("ÂàõÂª∫Ë°®ÂçïÊàêÂäü"),this.$router.push("/formsPanel?_token="+Object(a["a"])())}).catch(e=>{this.$message.error(e)}):Object(m["l"])(e).then(e=>{this.$message.success("Êõ¥Êñ∞Ë°®ÂçïÊàêÂäü"),this.$router.push("/formsPanel?_token="+Object(a["a"])())}).catch(e=>{this.$message.error(e)})})}}},Wi=Yi,Ki=(s("4975"),Object(d["a"])(Wi,i,o,!1,null,"42453f16",null));t["default"]=Ki.exports},eb85:function(e,t,s){},f5be:function(e,t,s){"use strict";s("bf29")},f5df:function(e,t,s){var i=s("00ee"),o=s("1626"),l=s("c6b6"),n=s("b622"),a=n("toStringTag"),r=Object,c="Arguments"==l(function(){return arguments}()),d=function(e,t){try{return e[t]}catch(s){}};e.exports=i?l:function(e){var t,s,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=d(t=r(e),a))?s:c?l(t):"Object"==(i=l(t))&&o(t.callee)?"Arguments":i}},f6e7:function(e,t,s){},f82e:function(e,t,s){"use strict";s("8f74")},f91e:function(e,t,s){"use strict";s("9d05")},f9e6:function(e,t,s){}}]);
//# sourceMappingURL=chunk-782507d8.fe0f0ebb.js.map